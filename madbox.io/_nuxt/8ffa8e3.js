(window.webpackJsonp=window.webpackJsonp||[]).push([[2,31,81,87],{384:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var r=t(28),o=t(31),l=(t(12),t(18),t(29),t(53),t(59),function(){function e(){Object(r.a)(this,e),this.callbacks={},this.callbacks.base={}}return Object(o.a)(e,[{key:"on",value:function(e,n){var t=this;return void 0===e||""===e?(console.warn("wrong names"),!1):void 0===n?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach((function(e){var r=t.resolveName(e);t.callbacks[r.namespace]instanceof Object||(t.callbacks[r.namespace]={}),t.callbacks[r.namespace][r.value]instanceof Array||(t.callbacks[r.namespace][r.value]=[]),t.callbacks[r.namespace][r.value].push(n)})),this)}},{key:"off",value:function(e){var n=this;return void 0===e||""===e?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach((function(e){var t=n.resolveName(e);if("base"!==t.namespace&&""===t.value)delete n.callbacks[t.namespace];else if("base"===t.namespace)for(var r in n.callbacks)n.callbacks[r]instanceof Object&&n.callbacks[r][t.value]instanceof Array&&(delete n.callbacks[r][t.value],0===Object.keys(n.callbacks[r]).length&&delete n.callbacks[r]);else n.callbacks[t.namespace]instanceof Object&&n.callbacks[t.namespace][t.value]instanceof Array&&(delete n.callbacks[t.namespace][t.value],0===Object.keys(n.callbacks[t.namespace]).length&&delete n.callbacks[t.namespace])})),this)}},{key:"trigger",value:function(e,n){if(void 0===e||""===e)return console.warn("wrong name"),!1;var t=this,r=null,o=null,l=n instanceof Array?n:[],c=this.resolveNames(e);if("base"===(c=this.resolveName(c[0])).namespace)for(var f in t.callbacks)t.callbacks[f]instanceof Object&&t.callbacks[f][c.value]instanceof Array&&t.callbacks[f][c.value].forEach((function(e){o=e.apply(t,l),void 0===r&&(r=o)}));else if(this.callbacks[c.namespace]instanceof Object){if(""===c.value)return console.warn("wrong name"),this;t.callbacks[c.namespace][c.value].forEach((function(e){o=e.apply(t,l),void 0===r&&(r=o)}))}return r}},{key:"resolveNames",value:function(e){var n=e;return n=(n=(n=n.replace(/[^a-zA-Z0-9 ,/.]/g,"")).replace(/[,/]+/g," ")).split(" ")}},{key:"resolveName",value:function(e){var n={},t=e.split(".");return n.original=e,n.value=t[0],n.namespace="base",t.length>1&&""!==t[1]&&(n.namespace=t[1]),n}}]),e}())},391:function(e,n,t){var content=t(405);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(43).default)("ed45325e",content,!0,{sourceMap:!1})},404:function(e,n,t){"use strict";t(391)},405:function(e,n,t){var r=t(42)(!1);r.push([e.i,".a-logoLoader svg[data-v-3391de6c]{-webkit-animation:loading 1s cubic-bezier(.215,.61,.355,1) infinite;animation:loading 1s cubic-bezier(.215,.61,.355,1) infinite;-webkit-animation-delay:.5s;animation-delay:.5s}",""]),e.exports=r},408:function(e,n,t){"use strict";t.r(n);t(404);var r=t(5),component=Object(r.a)({},(function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"a-logoLoader"},[n("svg",{attrs:{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 174 174"}},[n("use",{attrs:{href:"#BigLogo",fill:"#FFF"}})])])}),[],!1,null,"3391de6c",null);n.default=component.exports},410:function(e,n,t){"use strict";t.r(n);var r={props:{showFinger:{type:Boolean,default:!1}}},o=t(5),component=Object(o.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"a-fingetCTA__ctaWrapper"},[e._t("default"),e._v(" "),t("LazyResponsiveImg",{ref:"hand",staticClass:"a-fingetCTA__hand cta-hand",class:{"-visible":e.showFinger},attrs:{resizeable:!1,src:"/images/hand.png",dimensions:{width:208,height:156},alt:"hand",role:"presentation",sizes:"(min-width: 960px) 100vw, 95vw"}})],2)}),[],!1,null,null,null);n.default=component.exports;installComponents(component,{LazyResponsiveImg:t(370).default})},414:function(e,n){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"close":"Close experience fullScreen"},"fr":{"close":"Fermer le mode plein Ã©cran"}}'),delete e.options._Ctor}},436:function(e,n,t){var content=t(512);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(43).default)("ac4738a2",content,!0,{sourceMap:!1})},485:function(e,n,t){"use strict";t.r(n);var r=t(26),o={props:{active:{type:Boolean,default:!1}},computed:Object(r.c)({immersionMode:function(e){return e.experience.immersionMode}})},l=(t(511),t(5)),c=t(513),component=Object(l.a)(o,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"m-experienceHeader",class:{"no-touch-action":e.immersionMode}},[t("button",{staticClass:"m-experienceHeader__cta -logo",class:{"-active":e.active},attrs:{tabindex:e.active?1:-1,"aria-hidden":"true"},on:{click:function(){return e.$emit("clickLogo")}}},[t("Logo")],1),e._v(" "),t("button",{staticClass:"m-experienceHeader__cta -close",class:{"-active":e.active},on:{click:function(){return e.$emit("clickClose")}}},[t("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.$t("close")))]),e._v(" "),t("svg",{attrs:{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M.585786 12.5858c-.781048.781-.781048 2.0474.000001 2.8284.781053.7811 2.047383.7811 2.828423 0L8 10.8284l4.5858 4.5858c.781.7811 2.0474.7811 2.8284 0 .7811-.781.7811-2.0474 0-2.8284L10.8284 8l4.5858-4.58579c.7811-.78105.7811-2.04737 0-2.828423-.781-.781049-2.0474-.781049-2.8284 0L8 5.17157 3.41421.585788c-.78105-.781049-2.04737-.781049-2.828424 0-.781048.781052-.781048 2.047382 0 2.828422L5.17157 8 .585786 12.5858z",fill:"#000"}})])])])}),[],!1,null,null,null);"function"==typeof c.default&&Object(c.default)(component);n.default=component.exports;installComponents(component,{Logo:t(171).default})},502:function(e,n,t){"use strict";var r=t(369),o="#define GLSLIFY 1\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\nvarying float vDisplacement;\n\nuniform float uNightMix;\nuniform vec3 uNightColorA;\nuniform vec3 uNightColorB;\nuniform vec3 uNightColorC;\nuniform float uNightBrightness;\nuniform float uNightContrast;\n\nvec4 getNightColor(vec4 _color)\n{\n    #ifdef USE_NIGHTMODE\n        if(uNightMix < 0.001)\n        {\n            return _color;\n        }\n\n        float brightness = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\n        // float brightness = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);\n        brightness += uNightBrightness;\n        brightness *= uNightContrast;\n        brightness = clamp(brightness, 0.0, 1.0);\n        vec3 nightColor = mix(uNightColorA, uNightColorB, clamp(brightness * 2.0, 0.0, 1.0));\n        nightColor = mix(nightColor, uNightColorC, clamp(brightness * 2.0 - 1.0, 0.0, 1.0));\n        vec3 finalColor = mix(_color.rgb, nightColor, uNightMix);\n        \n        return vec4(finalColor, _color.a);\n    #else\n        return _color;\n    #endif\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uTexture, vUv);\n    color.rgb += vDisplacement * 0.1;\n    gl_FragColor = color;\n\n    gl_FragColor = getNightColor(gl_FragColor);\n}",l="#define GLSLIFY 1\nuniform float uTime;\n\nvarying vec2 vUv;\nvarying float vDisplacement;\n\n//    Classic Perlin 2D Noise \n//    by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat getClassicNoise2d(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * \n    vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvoid main()\n{\n    vec3 displacedPosition = position;\n\n    // Displacement\n    vec2 displacementUv = uv * 2.2;\n    displacementUv.x -= uTime * 0.0004;\n    float distanceStrength = smoothstep(0.0, 10.0, uv.x * 10.0);\n    float displacement = getClassicNoise2d(displacementUv);\n    displacedPosition.x += displacement * distanceStrength * 0.15;\n\n    vec4 modelPosition = modelMatrix * vec4(displacedPosition, 1.0);\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n\n    gl_Position = projectionPosition;\n\n    vUv = uv;\n    vDisplacement = displacement;\n}";n.a=function(){var e=r.Wb.merge([{uTime:{value:null},uTexture:{value:null},uNightMix:{value:null},uNightColorA:{value:null},uNightColorB:{value:null},uNightColorC:{value:null},uNightBrightness:{value:null},uNightContrast:{value:null}}]),n={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={},c=new r.Hb({wireframe:!1,transparent:!1,depthTest:!0,depthWrite:!0,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:l,fragmentShader:o});return c}},511:function(e,n,t){"use strict";t(436)},512:function(e,n,t){var r=t(42)(!1);r.push([e.i,".m-experienceHeader{position:absolute;box-sizing:border-box;z-index:20;top:0;left:0;right:0;height:5.25rem;padding:1rem 1.5rem 0;display:flex;flex-direction:row;justify-content:space-between;align-content:center;--logo-color:var(--white)}@media(min-width:959px){.m-experienceHeader{padding:1.875rem 2.375rem 0}}.m-experienceHeader__cta{border:none;background:none;outline:none;padding:0;transform:scale(.4);opacity:0;pointer-events:none;transition:transform .6s cubic-bezier(.6,-.28,.735,.045),opacity .4s cubic-bezier(.215,.61,.355,1)}.m-experienceHeader__cta.-close{box-sizing:border-box;width:3.375rem;height:3.375rem;background-color:var(--white);border-radius:50%;padding-top:.125rem}.m-experienceHeader__cta.-logo{height:3.375rem}.m-experienceHeader__cta.-active{pointer-events:all;opacity:1;transform:scale(1);transition:transform .6s cubic-bezier(.175,.885,.32,1.275),opacity .4s cubic-bezier(.215,.61,.355,1) .1s;cursor:pointer}.m-experienceHeader__cta.-active:hover{transform:scale(1.1);transition:transform .5s cubic-bezier(.175,.885,.32,1.275)}",""]),e.exports=r},513:function(e,n,t){"use strict";var r=t(414),o=t.n(r);n.default=o.a},587:function(e,n,t){"use strict";var r=t(369),o="#define GLSLIFY 1\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nuniform float uNightMix;\nuniform vec3 uNightColorA;\nuniform vec3 uNightColorB;\nuniform vec3 uNightColorC;\nuniform float uNightBrightness;\nuniform float uNightContrast;\n\nvec4 getNightColor(vec4 _color)\n{\n    #ifdef USE_NIGHTMODE\n        if(uNightMix < 0.001)\n        {\n            return _color;\n        }\n\n        float brightness = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\n        // float brightness = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);\n        brightness += uNightBrightness;\n        brightness *= uNightContrast;\n        brightness = clamp(brightness, 0.0, 1.0);\n        vec3 nightColor = mix(uNightColorA, uNightColorB, clamp(brightness * 2.0, 0.0, 1.0));\n        nightColor = mix(nightColor, uNightColorC, clamp(brightness * 2.0 - 1.0, 0.0, 1.0));\n        vec3 finalColor = mix(_color.rgb, nightColor, uNightMix);\n        \n        return vec4(finalColor, _color.a);\n    #else\n        return _color;\n    #endif\n}\n\nvoid main()\n{\n    // gl_FragColor = vec4(vUv, 1.0, 1.0);\n    gl_FragColor = texture2D(uTexture, vUv);\n\n    // #include <tonemapping_fragment>\n    // #include <encodings_fragment>\n\n    gl_FragColor = getNightColor(gl_FragColor);\n}\n",l="#define GLSLIFY 1\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t// #include <uv_vertex>\n    vUv = uv;\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}";n.a=function(){var e={uTexture:{value:null},uNightMix:{value:null},uNightColorA:{value:null},uNightColorB:{value:null},uNightColorC:{value:null},uNightBrightness:{value:null},uNightContrast:{value:null}},n={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={USE_UV:""},c=new r.Hb({wireframe:!1,transparent:!1,depthTest:!0,depthWrite:!0,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:l,fragmentShader:o});return c}},589:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));t(164);var r=t(28),o=t(31),l=t(105),c=t(78),f=t(104),d=t(67);function h(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(d.a)(e);if(n){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(f.a)(this,t)}}var v=function(e){Object(c.a)(t,e);var n=h(t);function t(){var e;return Object(r.a)(this,t),(e=n.call(this)).start=Date.now(),e.current=e.start,e.elapsed=0,e.delta=16,e.playing=!0,e.tick=e.tick.bind(Object(l.a)(e)),e.tick(),e}return Object(o.a)(t,[{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){this.playing=!1}},{key:"tick",value:function(){this.ticker=window.requestAnimationFrame(this.tick);var e=Date.now();this.delta=e-this.current,this.elapsed+=this.playing?this.delta:0,this.current=e,this.delta>60&&(this.delta=60),this.playing&&this.trigger("tick")}},{key:"stop",value:function(){window.cancelAnimationFrame(this.ticker)}}]),t}(t(384).a)},590:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));t(164);var r=t(28),o=t(31),l=t(105),c=t(78),f=t(104),d=t(67);function h(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(d.a)(e);if(n){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(f.a)(this,t)}}var v=function(e){Object(c.a)(t,e);var n=h(t);function t(){var e;return Object(r.a)(this,t),(e=n.call(this)).viewport={},e.$sizeViewport=document.createElement("div"),e.$sizeViewport.style.width="100vw",e.$sizeViewport.style.height="100vh",e.$sizeViewport.style.position="absolute",e.$sizeViewport.style.top=0,e.$sizeViewport.style.left=0,e.$sizeViewport.style.pointerEvents="none",e.resize=e.resize.bind(Object(l.a)(e)),window.addEventListener("resize",e.resize),e.resize(),e}return Object(o.a)(t,[{key:"resize",value:function(){document.body.appendChild(this.$sizeViewport),this.viewport.width=this.$sizeViewport.offsetWidth,this.viewport.height=this.$sizeViewport.offsetHeight,document.body.removeChild(this.$sizeViewport),this.width=window.innerWidth,this.height=window.innerHeight,this.trigger("resize")}}]),t}(t(384).a)},591:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(28),o=t(31),l=t(219),c=t.n(l),f=function(){function e(n){Object(r.a)(this,e),this.instance=new c.a,this.instance.showPanel(3),this.active=!1,this.max=40,this.ignoreMaxed=!0,n&&this.activate()}return Object(o.a)(e,[{key:"activate",value:function(){this.active=!0,document.body.appendChild(this.instance.dom)}},{key:"deactivate",value:function(){this.active=!1,document.body.removeChild(this.instance.dom)}},{key:"setRenderPanel",value:function(e){this.render={},this.render.context=e,this.render.extension=this.render.context.getExtension("EXT_disjoint_timer_query_webgl2"),this.render.panel=this.instance.addPanel(new c.a.Panel("Render (ms)","#f8f","#212")),"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext&&this.render.extension||this.deactivate()}},{key:"beforeRender",value:function(){if(this.active){this.queryCreated=!1;var e=!1;if(this.render.query){e=this.render.context.getQueryParameter(this.render.query,this.render.context.QUERY_RESULT_AVAILABLE);var n=this.render.context.getParameter(this.render.extension.GPU_DISJOINT_EXT);if(e&&!n){var t=this.render.context.getQueryParameter(this.render.query,this.render.context.QUERY_RESULT),r=Math.min(t/1e3/1e3,this.max);r===this.max&&this.ignoreMaxed||this.render.panel.update(r,this.max)}}!e&&this.render.query||(this.queryCreated=!0,this.render.query=this.render.context.createQuery(),this.render.context.beginQuery(this.render.extension.TIME_ELAPSED_EXT,this.render.query))}}},{key:"afterRender",value:function(){this.active&&this.queryCreated&&this.render.context.endQuery(this.render.extension.TIME_ELAPSED_EXT)}},{key:"update",value:function(){this.active&&this.instance.update()}},{key:"destroy",value:function(){this.deactivate()}}]),e}()},592:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var r=t(28),o=t(31),l=(t(29),t(71),t(53),t(48),t(70),t(21),t(107),t(72),t(22),t(57),t(33),t(16),t(56),t(58),t(32),t(369)),c=t(738),f=t(749);function d(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw o}}}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}var v=function(){function e(){var n=this;Object(r.a)(this,e),this.application=window.experience,this.resources=this.application.resources,this.time=this.application.time,this.debug=this.application.debug,this.hash=new f.a,this.contrast=1,this.brightness=0,this.contrast=1.2,this.brightness=-.24,this.setMaterials(),this.debug&&(this.debug.Register({type:"folder",label:"matcaps",open:!1}),this.debug.Register({folder:"matcaps",type:"range",label:"contrast",min:0,max:5,step:.01,object:this,property:"contrast",onChange:function(){n.updateUniforms()}}),this.debug.Register({folder:"matcaps",type:"range",label:"brightness",min:-1,max:1,step:.01,object:this,property:"brightness",onChange:function(){n.updateUniforms()}}))}return Object(o.a)(e,[{key:"setMaterials",value:function(){this.materials=[],this.defaultMaterial=new l.X({color:16777215}),this.defaultClass=c.a,this.defaultClassName="MatcapMaterial",this.updateMaterials()}},{key:"updateMaterials",value:function(){var e=this;for(var n in this.resources.items){var t=this.resources.items[n];n.match(/^matcap/)&&t instanceof l.Qb&&function(){t.encoding=l.fc;var r=n.replace(/^matcap/,"");r=(r=r.replace(/Texture/,"")).charAt(0).toLowerCase()+r.slice(1),e.materials.find((function(e){return e.name===r}))||e.materials.push({name:r,texture:t,regex:new RegExp("^".concat(r)),instances:[]})}()}}},{key:"applyMaterials",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[];return this.testAndApplyMaterial(e,t,r,o),e.traverse((function(e){n.testAndApplyMaterial(e,t,r,o)})),o}},{key:"testAndApplyMaterial",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=!1,f=null===r?{}:r,h=null===t?this.defaultClass:t;void 0===f.contrast&&(f.contrast=this.contrast),void 0===f.brightness&&(f.brightness=this.brightness);var v,m=d(this.materials);try{for(m.s();!(v=m.n()).done;){var x=v.value;e instanceof l.W&&e.name.match(x.regex)&&function(){f.skinning=e.material.skinning;var t=n.hash.encode(f,2),r=x.instances.find((function(e){return e.hash===t}));r||((r=new h(f)).uniforms.matcap.value=x.texture,r.uniforms.diffuse.value=new l.m(16777215),r.uniforms.uContrast.value=f.contrast,r.uniforms.uBrightness.value=f.brightness,r.hash=t,x.instances.push(r),o.push(r)),e.material=r,c=!0}()}}catch(e){m.e(e)}finally{m.f()}c||(e.material=this.defaultMaterial)}},{key:"updateUniforms",value:function(){var e,n=d(this.materials);try{for(n.s();!(e=n.n()).done;){var t,r=d(e.value.instances);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.uniforms.uContrast.value=this.contrast,o.uniforms.uBrightness.value=this.brightness}}catch(e){r.e(e)}finally{r.f()}}}catch(e){n.e(e)}finally{n.f()}}},{key:"update",value:function(){var e,n=d(this.materials);try{for(n.s();!(e=n.n()).done;){var t,r=d(e.value.instances);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.uniforms&&o.uniforms.uTime&&(o.uniforms.uTime.value=this.time.elapsed)}}catch(e){r.e(e)}finally{r.f()}}}catch(e){n.e(e)}finally{n.f()}}}]),e}()},598:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(28),o=t(31),l=t(369),c=t(749),f=t(587),d=function(){function e(){Object(r.a)(this,e),this.application=window.experience,this.hash=new c.a,this.materials={}}return Object(o.a)(e,[{key:"apply",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;r.textureId=n.uuid;var o=this.hash.encode(r,2),c=this.materials[o];c||(n.flipY=!1,n.encoding=l.fc,(c=new f.a).uniforms.uTexture.value=n,this.materials[o]=c,t.skinning&&(c.skinning=!0)),e.traverse((function(e){e instanceof l.W&&(e.material=c)}))}}]),e}()},626:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var r=t(28),o=t(31),l=t(369),c=t(860),f=t(767),d=t(810),h={uniforms:{tDiffuse:{value:null},uResolution:{value:null},uBlurOffset:{value:null},uBlurStrength:{value:null},uBlurDirections:{value:null},uIterations:{value:null}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main()\n{\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"#define GLSLIFY 1\n#define M_PI 3.1415926535897932384626433832795\n\n#define uBlurDirections 13.0\n#define uIterations 3.0\n\nuniform sampler2D tDiffuse;\nuniform vec2 uResolution;\nuniform float uBlurOffset;\nuniform float uBlurStrength;\n// uniform float uBlurDirections;\n// uniform float uIterations;\n\nvarying vec2 vUv;\n\nvec4 blur(sampler2D image, vec2 uv, vec2 resolution, float strength)\n{\n    const float Tau = 6.28318530718;\n    \n    vec2 radius = strength / resolution.xy;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    // vec2 uv = fragCoord/resolution.xy;\n    // Pixel colour\n    vec4 color = texture2D(image, uv);\n    \n    // Blur calculations\n    float iterations = 0.0;\n    for(float d = 0.0; d < Tau; d += Tau / uBlurDirections)\n    {\n        for(float i = 1.0 / uIterations; i <= 1.0; i += 1.0 / uIterations)\n        {\n            color += texture2D(image, uv + vec2(cos(d), sin(d)) * radius * i);\n            iterations += 1.0;\n        }\n    }\n    \n    color /= (iterations + 1.0);\n    return color;\n}\n\nvoid main()\n{\n    float blurStrength = abs(vUv.y - 0.5) + uBlurOffset;\n    blurStrength *= uBlurStrength;\n    blurStrength = max(0.0, blurStrength);\n    blurStrength = pow(blurStrength, 2.0);\n\n    if(blurStrength > 0.0)\n    {\n        gl_FragColor = blur(tDiffuse, vUv, uResolution, blurStrength);\n    }\n    else\n    {\n        gl_FragColor = texture2D(tDiffuse, vUv);\n    }\n}\n"},v=function(){function e(){Object(r.a)(this,e),this.application=window.experience,this.config=this.application.config,this.debug=this.application.debug,this.stats=this.application.stats,this.time=this.application.time,this.sizes=this.application.sizes,this.scene=this.application.scene,this.camera=this.application.camera,this.drawBlur=!1,this.drawBorder=!0,this.drawOverlay=!1,this.debug&&this.debug.Register({type:"folder",label:"renderer",open:!1}),this.setStencil(),this.setInstance(),this.setPostProcess()}return Object(o.a)(e,[{key:"setStencil",value:function(){this.stencil={},this.stencil.active=!1,this.stencil.layerIndex=1}},{key:"setInstance",value:function(){var e=this;this.clearColor="#ffffff",this.instance=new l.ec({alpha:!0,antialias:!0,sortObjects:!1}),this.instance.sortObjects=!1,this.instance.domElement.style.position="absolute",this.instance.domElement.style.top=0,this.instance.domElement.style.left=0,this.instance.domElement.style.width="100%",this.instance.domElement.style.height="100%",this.instance.setClearColor(this.clearColor,1),this.instance.setSize(this.config.width,this.config.height),this.instance.setPixelRatio(this.config.pixelRatio),this.instance.physicallyCorrectLights=!0,this.instance.gammaOutPut=!0,this.instance.outputEncoding=l.fc,this.instance.shadowMap.enabled=!1,this.instance.autoClear=!1,this.context=this.instance.getContext(),this.stats&&this.stats.setRenderPanel(this.context),this.debug&&this.debug.Register({type:"color",folder:"renderer",label:"clearColor",object:this,property:"clearColor",format:"hex",onChange:function(){e.instance.setClearColor(e.clearColor,1)}})}},{key:"setPostProcess",value:function(){this.postProcess={},this.postProcess.renderPass=new d.a(this.scene,this.camera.instance),this.postProcess.finalPass=new f.a(h),this.postProcess.finalPass.animated=!0,this.postProcess.finalPass.material.uniforms.uResolution.value=new l.Yb(this.config.width,this.config.height),this.postProcess.finalPass.material.uniforms.uBlurOffset.value=-.2,this.postProcess.finalPass.material.uniforms.uBlurStrength.value=0,this.postProcess.finalPass.material.uniforms.uBlurDirections.value=13,this.postProcess.finalPass.material.uniforms.uIterations.value=3,this.debug&&(this.debug.Register({folder:"renderer",type:"range",label:"uBlurOffset",min:-.5,max:0,object:this.postProcess.finalPass.material.uniforms.uBlurOffset,property:"value"}),this.debug.Register({folder:"renderer",type:"range",label:"uBlurStrength",min:0,max:50,object:this.postProcess.finalPass.material.uniforms.uBlurStrength,property:"value"}),this.debug.Register({folder:"renderer",type:"range",label:"uBlurDirections",min:3,max:30,step:1,object:this.postProcess.finalPass.material.uniforms.uBlurDirections,property:"value"}),this.debug.Register({folder:"renderer",type:"range",label:"uIterations",min:1,max:10,step:1,object:this.postProcess.finalPass.material.uniforms.uIterations,property:"value"}));var e=this.config.pixelRatio>=2?l.dc:l.cc;this.renderTarget=new e(this.config.width,this.config.height,{generateMipmaps:!0,minFilter:l.K,magFilter:l.K,format:l.sb,encoding:l.fc}),this.postProcess.composer=new c.a(this.instance,this.renderTarget),this.postProcess.composer.setSize(this.config.width,this.config.height),this.postProcess.composer.setPixelRatio(this.config.pixelRatio),this.postProcess.composer.addPass(this.postProcess.renderPass),this.postProcess.composer.addPass(this.postProcess.finalPass)}},{key:"resize",value:function(){this.instance.setSize(this.config.width,this.config.height),this.instance.setPixelRatio(this.config.pixelRatio),this.postProcess.composer.setSize(this.config.width,this.config.height),this.postProcess.composer.setPixelRatio(this.config.pixelRatio),this.postProcess.finalPass.material.uniforms.uResolution.value.x=this.config.width,this.postProcess.finalPass.material.uniforms.uResolution.value.y=this.config.height}},{key:"update",value:function(){this.stats&&this.stats.beforeRender(),this.stencil.active&&(this.context.enable(this.context.STENCIL_TEST),this.context.depthMask(!1),this.context.stencilMask(255),this.context.stencilOp(this.context.KEEP,this.context.KEEP,this.context.REPLACE),this.context.stencilFunc(this.context.ALWAYS,1,255),this.camera.instance.layers.disable(0),this.camera.instance.layers.disable(2),this.camera.instance.layers.enable(this.stencil.layerIndex),this.instance.render(this.scene,this.camera.instance),this.context.depthMask(!0),this.context.stencilMask(0),this.context.stencilFunc(this.context.EQUAL,0,255),this.camera.instance.layers.enable(0),this.camera.instance.layers.disable(this.stencil.layerIndex)),this.camera.instance.layers.enable(0),this.camera.instance.layers.disable(1),this.camera.instance.layers.disable(2),this.drawBlur?this.postProcess.composer.render():this.instance.render(this.scene,this.camera.instance),this.drawBorder&&(this.camera.instance.layers.disable(0),this.camera.instance.layers.enable(1),this.camera.instance.layers.disable(2),this.instance.render(this.scene,this.camera.instance)),this.drawOverlay&&(this.camera.instance.layers.disable(0),this.camera.instance.layers.disable(1),this.camera.instance.layers.enable(2),this.instance.render(this.scene,this.camera.instance)),this.stencil.active&&this.context.disable(this.context.STENCIL_TEST),this.stats&&this.stats.afterRender()}},{key:"destroy",value:function(){this.instance.renderLists.dispose(),this.instance.dispose(),this.renderTarget.dispose(),this.postProcess.composer.renderTarget1.dispose(),this.postProcess.composer.renderTarget2.dispose()}}]),e}()},627:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var r=t(28),o=t(31),l=t(65),c=t(369),f="#define GLSLIFY 1\nuniform vec3 uColor;\nuniform vec2 uPosition;\nuniform vec2 uScale;\nuniform float uAlpha;\n\nvarying vec2 vUv;\n\nvoid main()\n{\n    vec2 uv = vUv;\n    uv -= uPosition;\n    uv /= uScale;\n    uv += uPosition;\n    float strength = distance(uv, uPosition);\n    strength = smoothstep(0.0, 1.0, strength);\n    // strength = 1.0 - strength;\n    strength *= uAlpha;\n\n    gl_FragColor = vec4(uColor, strength);\n\n    #include <tonemapping_fragment>\n    #include <encodings_fragment>\n}\n",d="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main()\n{\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n}\n",h=function(){var e={uColor:{value:null},uAlpha:{value:null},uPosition:{value:null},uScale:{value:null}},n={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={},r=new c.Hb({wireframe:!1,transparent:!0,depthTest:!1,depthWrite:!1,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:d,fragmentShader:f});return r},v=function(){function e(){var n=this;Object(r.a)(this,e),this.application=window.experience,this.scene=this.application.scene,this.debug=this.application.debug,this.color="#ffffff",this.geometry=new c.lb(2,2),this.material=new h,this.material.uniforms.uColor.value=new c.m(this.color),this.material.uniforms.uAlpha.value=1,this.material.uniforms.uPosition.value=new c.Yb(.5,.45),this.material.uniforms.uScale.value=new c.Yb(1e-4,1e-4),this.mesh=new c.W(this.geometry,this.material),this.mesh.frustumCulled=!1,this.scene.add(this.mesh),this.debug&&(this.debug.Register({type:"folder",label:"glow",folder:"world",open:!1}),this.debug.Register({type:"color",folder:"glow",label:"uColor",object:this,property:"color",format:"hex",onChange:function(){n.material.uniforms.uColor.value.set(n.color)}}),this.debug.Register({folder:"glow",type:"range",label:"uAlpha",min:0,max:1,object:this.material.uniforms.uAlpha,property:"value"}),this.debug.Register({folder:"glow",type:"range",label:"uPositionX",min:-1,max:2,object:this.material.uniforms.uPosition.value,property:"x"}),this.debug.Register({folder:"glow",type:"range",label:"uPositionY",min:-1,max:2,object:this.material.uniforms.uPosition.value,property:"y"}),this.debug.Register({folder:"glow",type:"range",label:"uScaleX",min:0,max:4,object:this.material.uniforms.uScale.value,property:"x"}),this.debug.Register({folder:"glow",type:"range",label:"uScaleY",min:0,max:4,object:this.material.uniforms.uScale.value,property:"y"}))}return Object(o.a)(e,[{key:"playIntro",value:function(){l.a.to(this.material.uniforms.uAlpha,{duration:2,ease:"power1.inOut",value:0,delay:.3}),l.a.to(this.material.uniforms.uScale.value,{duration:1,ease:"power2.inOut",x:1,delay:.3}),l.a.to(this.material.uniforms.uScale.value,{duration:1.4,ease:"power2.inOut",y:1.15,delay:.3})}},{key:"fadeOut",value:function(){this.material.uniforms.uScale.value.set(1e-4,1e-4),l.a.to(this.material.uniforms.uAlpha,{duration:2,ease:"power1.inOut",value:1,delay:2})}},{key:"fadeIn",value:function(){this.material.uniforms.uScale.value.set(1e-4,1e-4),l.a.fromTo(this.material.uniforms.uAlpha,{value:1},{duration:2,ease:"power1.inOut",value:0})}}]),e}()},628:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));t(18),t(16),t(17),t(24),t(12),t(25);var r=t(4),o=t(28),l=t(31),c=t(369),f=t(65),d="#define GLSLIFY 1\n#define M_PI 3.1415926535897932384626433832795\n\nuniform vec2 uResolution;\nuniform vec4 uPadding;\nuniform float uRadius;\nuniform float uDisplacement;\n\nvarying vec2 vUv;\n\nfloat udRoundBox( vec2 p, vec2 b, float r )\n{\n    return length(max(abs(p)-b+r,0.0))-r;\n}\n\nvoid main()\n{\n    // Displace the UV for elastic effect\n    vec2 displacedUv = vUv;\n    float displacementStrength = (sin(atan(displacedUv.y - 0.5, displacedUv.x - 0.5) * 4.0 + M_PI * 0.5) + 1.0) * 0.5;\n    vec2 toCenter = vUv - vec2(0.5);\n    displacedUv += toCenter * displacementStrength * uDisplacement;\n\n    // Draw rounded box\n    vec2 borderUv = displacedUv * uResolution;\n    borderUv -= uResolution * 0.5;\n    borderUv.x -= (uPadding.w - uPadding.y) * 0.5;\n    borderUv.y -= (uPadding.z - uPadding.x) * 0.5;\n\n    float strength = udRoundBox(\n        borderUv,\n        vec2(\n            (uResolution.x - uPadding.y - uPadding.w) * 0.5,\n            (uResolution.y - uPadding.x - uPadding.z) * 0.5\n        ),\n        uRadius\n    );\n    \n    gl_FragColor = vec4(1.0, 1.0, 1.0, strength);\n}\n",h="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main()\n{\n    vUv = uv;\n    gl_Position = vec4(position, 1.0);\n}\n",v=function(){var e={uResolution:{value:null},uPadding:{value:null},uRadius:{value:null},uDisplacement:{value:null}},n={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={},r=new c.Hb({wireframe:!1,transparent:!0,depthTest:!1,depthWrite:!1,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:h,fragmentShader:d});return r};function m(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(n){Object(r.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var y=function(){function e(){var n=this;Object(o.a)(this,e),this.application=window.experience,this.scene=this.application.scene,this.config=this.application.config,this.debug=this.application.debug,this.color="#dafcff",this.shown=!1,this.geometry=new c.lb(2,2),this.material=new v,this.material.uniforms.uResolution.value=new c.Yb(this.config.width,this.config.height),this.material.uniforms.uPadding.value=new c.ac(0,0,0,0),this.material.uniforms.uRadius.value=0,this.material.uniforms.uDisplacement.value=0,this.mesh=new c.W(this.geometry,this.material),this.mesh.frustumCulled=!1,this.mesh.layers.set(1),this.scene.add(this.mesh),this.debug&&(this.debug.Register({type:"folder",label:"border",folder:"world",open:!1}),this.debug.Register({folder:"border",type:"range",label:"uPaddingTop",min:0,max:1e3,object:this.material.uniforms.uPadding.value,property:"x"}),this.debug.Register({folder:"border",type:"range",label:"uPaddingRight",min:0,max:1e3,object:this.material.uniforms.uPadding.value,property:"y"}),this.debug.Register({folder:"border",type:"range",label:"uPaddingBottom",min:0,max:1e3,object:this.material.uniforms.uPadding.value,property:"z"}),this.debug.Register({folder:"border",type:"range",label:"uPaddingLeft",min:0,max:1e3,object:this.material.uniforms.uPadding.value,property:"w"}),this.debug.Register({folder:"border",type:"range",label:"uRadius",min:0,max:100,object:this.material.uniforms.uRadius,property:"value"}),this.debug.Register({folder:"border",type:"range",label:"uDisplacement",min:-.5,max:.5,object:this.material.uniforms.uDisplacement,property:"value"}),this.debug.Register({folder:"border",type:"button",label:"show",action:function(){n.show()}}),this.debug.Register({folder:"border",type:"button",label:"hide",action:function(){n.hide()}}))}return Object(l.a)(e,[{key:"getPadding",value:function(){return this.config.width<480?{x:50,y:10,z:10,w:10}:this.config.width<800?{x:60,y:20,z:20,w:20}:this.config.width<1280?{x:80,y:30,z:30,w:30}:{x:110,y:40,z:40,w:40}}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(!this.shown){this.shown=!0,f.a.killTweensOf(this.material.uniforms.uRadius),f.a.killTweensOf(this.material.uniforms.uPadding.value),f.a.to(this.material.uniforms.uRadius,{value:20,duration:e/3*2});var n=this.getPadding();f.a.to(this.material.uniforms.uPadding.value,x(x({},n),{},{duration:e/3,ease:"back.out(1.7)"})),this.material.uniforms.uDisplacement.value=-.2,f.a.to(this.material.uniforms.uDisplacement,{value:0,duration:e,ease:"elastic.out(1, 0.6)"})}}},{key:"hide",value:function(){var e=this;this.shown&&(this.shown=!1,f.a.killTweensOf(this.material.uniforms.uRadius),f.a.killTweensOf(this.material.uniforms.uPadding.value),f.a.to(this.material.uniforms.uRadius,{value:0,duration:.5,delay:.5,ease:"power1.out"}),f.a.to(this.material.uniforms.uPadding.value,{x:0,y:0,z:0,w:0,duration:1,ease:"back.in(2.7)"}),f.a.to(this.material.uniforms.uDisplacement,{value:-.2,duration:1,ease:"back.in(2.0)",onComplete:function(){e.material.uniforms.uDisplacement.value=0}}))}},{key:"resize",value:function(){if(this.material.uniforms.uResolution.value.x=this.config.width,this.material.uniforms.uResolution.value.y=this.config.height,this.shown){var e=this.getPadding();this.material.uniforms.uPadding.value.copy(e)}}}]),e}()},631:function(e,n,t){"use strict";var r=t(369),o="#define GLSLIFY 1\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nuniform float uContrast;\nuniform float uBrightness;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nuniform float uNightMix;\nuniform vec3 uNightColorA;\nuniform vec3 uNightColorB;\nuniform vec3 uNightColorC;\nuniform float uNightBrightness;\nuniform float uNightContrast;\n\nvec4 getNightColor(vec4 _color)\n{\n    #ifdef USE_NIGHTMODE\n        if(uNightMix < 0.001)\n        {\n            return _color;\n        }\n\n        float brightness = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\n        // float brightness = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);\n        brightness += uNightBrightness;\n        brightness *= uNightContrast;\n        brightness = clamp(brightness, 0.0, 1.0);\n        vec3 nightColor = mix(uNightColorA, uNightColorB, clamp(brightness * 2.0, 0.0, 1.0));\n        nightColor = mix(nightColor, uNightColorC, clamp(brightness * 2.0 - 1.0, 0.0, 1.0));\n        vec3 finalColor = mix(_color.rgb, nightColor, uNightMix);\n        \n        return vec4(finalColor, _color.a);\n    #else\n        return _color;\n    #endif\n}\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n        matcapColor.rgb *= uContrast;\n        matcapColor.rgb += uBrightness;\n        // vec3 colorContrasted = (color) * contrast;\n        // vec3 bright = colorContrasted + vec3(brightness,brightness,brightness);\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t// #include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n    gl_FragColor = getNightColor(gl_FragColor);\n}",l="#define GLSLIFY 1\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n//    Classic Perlin 2D Noise \n//    by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat getClassicNoise2d(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * \n    vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nuniform float uTime;\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t\n\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tmvPosition = instanceMatrix * mvPosition;\n\n\t#endif\n\n\tmvPosition = modelMatrix * mvPosition;\n\n\t// Wind\n\tfloat windNoise = getClassicNoise2d(mvPosition.xz * 0.1 + vec2(uTime * 0.0004, 0));\n\tfloat windStrength = (1.0 - uv.y) * windNoise;\n\tmvPosition.z += max(0.0, (1.0 - uv.y) - 0.5) * windStrength * 0.55;\n\n\tmvPosition = viewMatrix * mvPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}";n.a=function(){var e=r.Wb.merge([r.Gb.matcap.uniforms,{uContrast:{value:null},uBrightness:{value:null},uTime:{value:null},uNightMix:{value:null},uNightColorA:{value:null},uNightColorB:{value:null},uNightColorC:{value:null},uNightBrightness:{value:null},uNightContrast:{value:null}}]),n={derivatives:!0,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={USE_MATCAP:""},c=new r.Hb({wireframe:!1,transparent:!1,depthTest:!0,depthWrite:!0,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:l,fragmentShader:o});return c.matcap=!0,c}},632:function(e,n,t){"use strict";var r=t(369),o="#define GLSLIFY 1\nuniform float uTime;\nuniform sampler2D uGradient;\nuniform vec3 uLightDirection;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vViewDirection;\n\nuniform float uNightMix;\nuniform vec3 uNightColorA;\nuniform vec3 uNightColorB;\nuniform vec3 uNightColorC;\nuniform float uNightBrightness;\nuniform float uNightContrast;\n\nvec4 getNightColor(vec4 _color)\n{\n    #ifdef USE_NIGHTMODE\n        if(uNightMix < 0.001)\n        {\n            return _color;\n        }\n\n        float brightness = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\n        // float brightness = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);\n        brightness += uNightBrightness;\n        brightness *= uNightContrast;\n        brightness = clamp(brightness, 0.0, 1.0);\n        vec3 nightColor = mix(uNightColorA, uNightColorB, clamp(brightness * 2.0, 0.0, 1.0));\n        nightColor = mix(nightColor, uNightColorC, clamp(brightness * 2.0 - 1.0, 0.0, 1.0));\n        vec3 finalColor = mix(_color.rgb, nightColor, uNightMix);\n        \n        return vec4(finalColor, _color.a);\n    #else\n        return _color;\n    #endif\n}\n\nvoid main()\n{\n    // Gradient\n    float gradientProgress = vUv.y;\n    gradientProgress += uTime * (- 0.0002);\n    gradientProgress -= sin(vUv.x * 10.0) * 0.03;\n\n    vec3 gradientColor = texture2D(uGradient, vec2(gradientProgress, 0.5)).rgb;\n\n    // Shadow and light\n    vec3 lightDirection = normalize(uLightDirection);\n    vec3 reflectionDirection = reflect(vViewDirection, vNormal);\n    float reflectionStrength = dot(reflectionDirection, uLightDirection);\n    reflectionStrength = clamp(reflectionStrength, 0.0, 1.0);\n    reflectionStrength *= 0.3;\n\n    // Final color\n    vec3 color = gradientColor;\n    color += reflectionStrength;\n    gl_FragColor = vec4(color, 1.0);\n    // gl_FragColor = vec4(reflectionStrength, reflectionStrength, reflectionStrength, 1.0);\n\n    // #include <tonemapping_fragment>\n    // #include <encodings_fragment>\n\n    gl_FragColor = getNightColor(gl_FragColor);\n}\n",l="#define GLSLIFY 1\nuniform float uTime;\n\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vViewDirection;\n\nvoid main()\n{\n    vec3 transformedNormal = normalMatrix * normal;\n\n    vec3 newPosition = position;\n    float displacementStrength = (sin(uv.y * 20.0 - uTime * 0.005) + 1.0) * 0.2;\n    newPosition += transformedNormal * 0.1 * displacementStrength;\n\n    vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);\n    vec3 viewDirection = normalize(modelPosition.xyz - cameraPosition);\n\n    gl_Position = projectionMatrix * viewMatrix * modelPosition;\n\n    vUv = uv;\n    vNormal = transformedNormal;\n    vViewDirection = viewDirection;\n}\n";n.a=function(){var e={uTime:{value:null},uGradient:{value:null},uLightDirection:{value:null},uNightMix:{value:null},uNightColorA:{value:null},uNightColorB:{value:null},uNightColorC:{value:null},uNightBrightness:{value:null},uNightContrast:{value:null}},n={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={},c=new r.Hb({wireframe:!1,transparent:!1,depthTest:!0,depthWrite:!0,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:l,fragmentShader:o});return c}},633:function(e,n,t){"use strict";var r=t(369),o="#define GLSLIFY 1\nuniform vec3 uColor;\n\nvarying vec2 vRandom;\n\nvoid main()\n{\n    vec3 color = uColor;\n    color += (vRandom.y - 0.5) * 0.2;\n    gl_FragColor = vec4(color, 1.0);\n}",l="#define GLSLIFY 1\nuniform float uProgress;\nuniform float uSize;\n\nattribute vec2 aRandom;\n\nvarying vec2 vRandom;\n\nvoid main()\n{\n    vec3 newPosition = position;\n\n    float progress = - 0.2 + aRandom.x * 0.2 + uProgress * 1.2;\n    progress = clamp(progress, 0.0, 1.0);\n    newPosition *= progress * 5.0 * aRandom.y;\n    newPosition.y += sin(progress * 2.3) * 6.0 * (0.5 + aRandom.y * 0.5);\n\n    vec4 modelViewPosition = modelViewMatrix * vec4(newPosition, 1.0);\n    gl_Position = projectionMatrix * modelViewPosition;\n\n    gl_PointSize = uSize * (1.0 - smoothstep(0.8, 1.0, progress));\n    gl_PointSize *= (1.0 / - modelViewPosition.z);\n\n    if(gl_PointSize < 0.5)\n    {\n        gl_Position = vec4(-100.0);\n    }\n\n    vRandom = aRandom;\n}";n.a=function(){var e={uSize:{value:null},uColor:{value:null},uProgress:{value:null},uTime:{value:null}},n={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},t={},c=new r.Hb({wireframe:!1,transparent:!1,depthTest:!0,depthWrite:!0,uniforms:e,extensions:n,defines:t,lights:!1,vertexShader:l,fragmentShader:o});return c}},634:function(e,n,t){"use strict";t.d(n,"a",(function(){return D}));t(164),t(48),t(22),t(57),t(33),t(16),t(56),t(58),t(32);var r=t(86),o=t(28),l=t(31),c=t(78),f=t(104),d=t(67),h=(t(21),t(369)),v=t(384),m=(t(29),t(71),t(70),t(809)),x=t(859),y=t(808),_=t(807);function w(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw o}}}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function P(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(d.a)(e);if(n){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(f.a)(this,t)}}var N=function(e){Object(c.a)(t,e);var n=P(t);function t(e){var r;return Object(o.a)(this,t),(r=n.call(this)).renderer=e.renderer,r.setLoaders(),r.toLoad=0,r.loaded=0,r.items={},r}return Object(l.a)(t,[{key:"setLoaders",value:function(){var e=this;this.loaders=[],this.loaders.push({extensions:["jpg","png"],action:function(n){var image=new Image;image.addEventListener("load",(function(){e.fileLoadEnd(n,image)})),image.addEventListener("error",(function(){e.fileLoadEnd(n,image)})),image.src=n.source}});var n=new _.a;n.setTranscoderPath("/assets/experiences/basis/"),n.detectSupport(this.renderer),this.loaders.push({extensions:["basis"],action:function(t){n.load(t.source,(function(n){e.fileLoadEnd(t,n)}))}});var t=new y.a;t.setDecoderPath("/assets/experiences/draco/"),t.setDecoderConfig({type:"js"}),this.loaders.push({extensions:["drc"],action:function(n){t.load(n.source,(function(t){e.fileLoadEnd(n,t),y.a.releaseDecoderModule()}))}});var r=new m.a;r.setDRACOLoader(t),this.loaders.push({extensions:["glb","gltf"],action:function(n){r.load(n.source,(function(t){e.fileLoadEnd(n,t)}))}});var o=new x.a;this.loaders.push({extensions:["fbx"],action:function(n){o.load(n.source,(function(t){e.fileLoadEnd(n,t)}))}})}},{key:"load",value:function(){var e,n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=w(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.toLoad++;var l=o.source.match(/\.([a-z]+)$/);void 0!==l[1]?function(){var e=l[1],t=n.loaders.find((function(n){return n.extensions.find((function(n){return n===e}))}));t?t.action(o):console.warn("Cannot found loader for ".concat(o))}():console.warn("Cannot found extension of ".concat(o))}}catch(e){r.e(e)}finally{r.f()}}},{key:"fileLoadEnd",value:function(e,n){this.loaded++,this.items[e.name]=n,this.trigger("fileEnd",[e,n]),this.loaded===this.toLoad&&this.trigger("end")}}]),t}(v.a);function S(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw o}}}}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function O(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=Object(d.a)(e);if(n){var o=Object(d.a)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Object(f.a)(this,t)}}var D=function(e){Object(c.a)(t,e);var n=O(t);function t(e,l){var c;return Object(o.a)(this,t),(c=n.call(this)).renderer=l,c.items={},c.loader=new N({renderer:c.renderer}),c.groups={},c.groups.assets=Object(r.a)(e),c.groups.loaded=[],c.groups.current=null,c.loadNextGroup(),c.loader.on("fileEnd",(function(e,n){var data=n;"texture"===e.type&&(data instanceof h.Qb||(data=new h.Qb(n)),data.encoding=h.fc,data.needsUpdate=!0),c.items[e.name]=data,c.groups.current.loaded++,c.trigger("progress",[c.groups.current,e,data])})),c.loader.on("end",(function(){c.groups.loaded.push(c.groups.current),c.trigger("groupEnd",[c.groups.current]),c.groups.assets.length>0?c.loadNextGroup():c.trigger("end")})),c}return Object(l.a)(t,[{key:"loadNextGroup",value:function(){this.groups.current=this.groups.assets.shift(),this.groups.current.toLoad=this.groups.current.items.length,this.groups.current.loaded=0,this.loader.load(this.groups.current.items)}},{key:"createInstancedMeshes",value:function(e,n){var t,r=[],o=S(n);try{for(o.s();!(t=o.n()).done;){var l=t.value;r.push({name:l.name,regex:l.regex,meshesGroups:[],instancedMeshes:[]})}}catch(e){o.e(e)}finally{o.f()}for(var c={},f=0,d=r;f<d.length;f++){var h=d[f];c[h.name]=h.instancedMeshes}return c}},{key:"destroy",value:function(){for(var e in this.items){var n=this.items[e];n instanceof h.Qb&&n.dispose()}}}]),t}(v.a)},738:function(e,n,t){"use strict";var r=t(369),o="#define GLSLIFY 1\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nuniform float uContrast;\nuniform float uBrightness;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nuniform float uNightMix;\nuniform vec3 uNightColorA;\nuniform vec3 uNightColorB;\nuniform vec3 uNightColorC;\nuniform float uNightBrightness;\nuniform float uNightContrast;\n\nvec4 getNightColor(vec4 _color)\n{\n    #ifdef USE_NIGHTMODE\n        if(uNightMix < 0.001)\n        {\n            return _color;\n        }\n\n        float brightness = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;\n        // float brightness = max(max(gl_FragColor.r, gl_FragColor.g), gl_FragColor.b);\n        brightness += uNightBrightness;\n        brightness *= uNightContrast;\n        brightness = clamp(brightness, 0.0, 1.0);\n        vec3 nightColor = mix(uNightColorA, uNightColorB, clamp(brightness * 2.0, 0.0, 1.0));\n        nightColor = mix(nightColor, uNightColorC, clamp(brightness * 2.0 - 1.0, 0.0, 1.0));\n        vec3 finalColor = mix(_color.rgb, nightColor, uNightMix);\n        \n        return vec4(finalColor, _color.a);\n    #else\n        return _color;\n    #endif\n}\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n        matcapColor.rgb += uBrightness;\n        matcapColor.rgb *= uContrast;\n        // vec3 colorContrasted = (color) * contrast;\n        // vec3 bright = colorContrasted + vec3(brightness,brightness,brightness);\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t// #include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n    gl_FragColor = getNightColor(gl_FragColor);\n}",l="#define GLSLIFY 1\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\t// vUv.xy = uv;\n}";n.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.Wb.merge([r.Gb.matcap.uniforms,{uContrast:{value:null},uBrightness:{value:null},uNightMix:{value:null},uNightColorA:{value:null},uNightColorB:{value:null},uNightColorC:{value:null},uNightBrightness:{value:null},uNightContrast:{value:null}}]),t={derivatives:!0,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},c={USE_MATCAP:""},f=new r.Hb({wireframe:!1,transparent:!1,depthTest:!0,depthWrite:!0,uniforms:n,extensions:t,defines:c,lights:!1,vertexShader:l,fragmentShader:o});return f.matcap=!0,e.skinning&&(f.skinning=!0),f}},749:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(15),o=t(28),l=t(31),c=(t(87),t(29),t(53),t(22),t(72),function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"encode",value:function(e,n){n=n||2;var i,t,r=[];for(i=0;i<n;i++)r.push(268803292*i);for(e=this.stringify(e),i=0;i<e.length;i++)for(t=0;t<r.length;t++)r[t]=(r[t]<<13)-(r[t]>>19),r[t]+=e.charCodeAt(i)<<r[t]%24,r[t]=r[t]&r[t];for(i=0;i<r.length;i++)r[i]=this.toHex(r[i]);return r.join("")}},{key:"stringify",value:function(e){var i,n;if(null===e)return"n";if(!0===e)return"t";if(!1===e)return"f";if(e instanceof Date)return"d:"+(0+e);if("string"===(i=Object(r.a)(e)))return"s:"+e.replace(/([\\\\;])/g,"\\$1");if("number"===i)return"n:"+e;if(e instanceof Function)return"m:"+e.toString().replace(/([\\\\;])/g,"\\$1");if(e instanceof Array){for(n=[],i=0;i<e.length;i++)n.push(this.stringify(e[i]));return"a:"+n.join(";")}for(i in n=[],e)n.push(i+":"+this.stringify(e[i]));return"o:"+n.join(";")}},{key:"toHex",value:function(e){for(var n=((e<0?8:0)+(e>>28&7)).toString(16)+(268435455&e).toString(16);n.length<8;)n="0"+n;return n}}]),e}())}}]);