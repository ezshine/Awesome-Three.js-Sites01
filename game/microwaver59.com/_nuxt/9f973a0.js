(window.webpackJsonp=window.webpackJsonp||[]).push([[1,5],{220:function(t,e,n){var content=n(226);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(58).default)("f1b956ee",content,!0,{sourceMap:!1})},225:function(t,e,n){"use strict";n(220)},226:function(t,e,n){var o=n(57)(!1);o.push([t.i,'.ui[data-v-0fe056f9]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;justify-content:center;align-items:center;pointer-events:none}.ui ul[data-v-0fe056f9]{list-style-type:none}.ui a[data-v-0fe056f9],.ui button[data-v-0fe056f9]{font-family:Pressura Mono,monospace;text-transform:uppercase;font-size:.87rem;letter-spacing:.18em;line-height:1;transform-origin:50% 50%;white-space:nowrap;padding:.4rem;pointer-events:auto;overflow:hidden;display:none;color:#fcfcfa}.ui a.disabled[data-v-0fe056f9],.ui button.disabled[data-v-0fe056f9]{pointer-events:none}.ui a span[data-v-0fe056f9],.ui button span[data-v-0fe056f9]{padding:.1em .1em .05em .25em;background-color:#1a1a1a}.ui a svg[data-v-0fe056f9],.ui button svg[data-v-0fe056f9]{fill:#fcfcfa}@media(hover:hover){.ui a[data-v-0fe056f9]:hover,.ui button[data-v-0fe056f9]:hover{color:#60f}.ui a:hover span[data-v-0fe056f9],.ui button:hover span[data-v-0fe056f9]{background-color:#fcfcfa!important}.ui a:hover svg[data-v-0fe056f9],.ui button:hover svg[data-v-0fe056f9]{fill:#00ff90}}.ui a[data-v-0fe056f9]:active,.ui button[data-v-0fe056f9]:active{color:#fcfcfa}.ui a:active span[data-v-0fe056f9],.ui button:active span[data-v-0fe056f9]{background-color:#60f!important}.ui a:active svg[data-v-0fe056f9],.ui button:active svg[data-v-0fe056f9]{fill:#00ff90}.ui a.game-mode span[data-v-0fe056f9],.ui button.game-mode span[data-v-0fe056f9]{background-color:#343434}@media(hover:hover){.ui a.game-mode[data-v-0fe056f9]:hover,.ui button.game-mode[data-v-0fe056f9]:hover{color:#fcfcfa}.ui a.game-mode:hover span[data-v-0fe056f9],.ui button.game-mode:hover span[data-v-0fe056f9]{background-color:#60f!important}}.ui a.game-mode:active span[data-v-0fe056f9],.ui button.game-mode:active span[data-v-0fe056f9]{background-color:#00ff90!important}.ui .loader[data-v-0fe056f9]{display:none;transition:transform .62s cubic-bezier(.68,-.6,.32,1.6)}.ui .loader.show[data-v-0fe056f9]{display:block}.ui .loader.show .coin[data-v-0fe056f9]{-webkit-animation:spin-data-v-0fe056f9 .88s linear 0s infinite;animation:spin-data-v-0fe056f9 .88s linear 0s infinite}.ui .loader.active[data-v-0fe056f9]{transform:translate3d(0,-2.4rem,0)}.ui .loader.active .start[data-v-0fe056f9]{transition:transform .3s cubic-bezier(.76,0,.24,1) .1s,opacity .52s cubic-bezier(.37,0,.63,1) .2s;transform:translate3d(-50%,0,20rem);opacity:1}.ui .loader.active .start button[data-v-0fe056f9]{transition:opacity .29s cubic-bezier(.37,0,.63,1) .44s;display:block}.ui .loader.insert[data-v-0fe056f9]{transform:translate3d(0,8rem,0)}.ui .loader.insert .start[data-v-0fe056f9]{transform:translate3d(-50%,-14rem,20rem)}.ui .loader.insert .start button[data-v-0fe056f9]{pointer-events:none!important;opacity:0}.ui .loader .coin[data-v-0fe056f9]{width:7rem;height:7rem;border:4px solid #343434;background-color:#e5e5e5;border-radius:50%;transform-style:preserve-3d}.ui .loader .coin .side[data-v-0fe056f9]{position:absolute;width:100%;height:100%;background-color:#000;border-radius:50%;display:flex;justify-content:center;align-items:center}.ui .loader .coin .side.heads[data-v-0fe056f9]{transform:translateZ(6px)}.ui .loader .coin .side.heads .icon[data-v-0fe056f9]{fill:#fcfcfa;width:76%;height:76%;margin-top:.2rem}.ui .loader .coin .side.tails[data-v-0fe056f9]{transform:translateZ(-6px) rotateY(180deg)}@-webkit-keyframes spin-data-v-0fe056f9{0%{transform:translateZ(6rem) rotateY(0)}to{transform:translateZ(6rem) rotateY(1turn)}}@keyframes spin-data-v-0fe056f9{0%{transform:translateZ(6rem) rotateY(0)}to{transform:translateZ(6rem) rotateY(1turn)}}.ui .loader .percentage[data-v-0fe056f9]{font-size:1.2rem;letter-spacing:.06em;text-align:center}.ui .loader .start[data-v-0fe056f9]{position:absolute;background-color:#000;top:50%;left:50%;transform:translate3d(-50%,4rem,20rem);margin-top:4rem;margin-left:.07em;padding:1.5rem 50vw 50vh;opacity:0}.ui .loader .start button[data-v-0fe056f9]{pointer-events:none}.ui .loader .start button[data-v-0fe056f9]:hover{color:#00ff90}.ui .loader .start button span[data-v-0fe056f9]{background:none!important;padding:0}.ui .info[data-v-0fe056f9]{position:relative;font-size:.94rem;letter-spacing:.45em;margin-right:-.45em;text-shadow:.06em .06em rgba(26,26,26,.28);display:none;pointer-events:none}@media(max-width:768px){.ui .info[data-v-0fe056f9]{font-size:.9rem;text-shadow:.08em .08em rgba(26,26,26,.23)}}.ui .cursor[data-v-0fe056f9]{position:absolute;width:2.5rem;height:2.5rem;top:54%;display:none;transform-origin:50% 76%}.ui .cursor.bottom[data-v-0fe056f9]{top:auto;bottom:18%}.ui .cursor svg[data-v-0fe056f9]{position:absolute;width:100%;height:100%}.ui .cursor.visible[data-v-0fe056f9]{display:block}.ui .cursor.visible .open[data-v-0fe056f9]{visibility:visible}.ui .cursor.visible.close .open[data-v-0fe056f9],.ui .cursor.visible .closed[data-v-0fe056f9]{visibility:hidden}.ui .cursor.visible.close .closed[data-v-0fe056f9]{visibility:visible}.ui .cursor.visible.slide[data-v-0fe056f9]{-webkit-animation:slide-data-v-0fe056f9 .44s 1;animation:slide-data-v-0fe056f9 .44s 1}.ui .cursor.visible.wave[data-v-0fe056f9]{-webkit-animation:wave-data-v-0fe056f9 .32s 1;animation:wave-data-v-0fe056f9 .32s 1}@-webkit-keyframes slide-data-v-0fe056f9{33%{transform:translate3d(-1rem,0,0)}67%{transform:translate3d(1rem,0,0)}}@keyframes slide-data-v-0fe056f9{33%{transform:translate3d(-1rem,0,0)}67%{transform:translate3d(1rem,0,0)}}@-webkit-keyframes wave-data-v-0fe056f9{25%{transform:rotate(12deg)}50%{transform:rotate(-12deg)}75%{transform:rotate(12deg)}}@keyframes wave-data-v-0fe056f9{25%{transform:rotate(12deg)}50%{transform:rotate(-12deg)}75%{transform:rotate(12deg)}}.ui .back[data-v-0fe056f9]{position:absolute;bottom:1.2rem}@media(max-width:768px){.ui .back[data-v-0fe056f9]{font-size:.76rem}}.ui nav[data-v-0fe056f9]{position:absolute;width:100%;height:100%}.ui nav.visible a[data-v-0fe056f9]{opacity:.99;pointer-events:auto}.ui nav.visible li a[data-v-0fe056f9]{transition:opacity 1.1s cubic-bezier(.37,0,.63,1) .85s}.ui nav.visible li:last-of-type a[data-v-0fe056f9]{transition-delay:.8s}.ui nav ul[data-v-0fe056f9]{position:absolute}.ui nav ul.main[data-v-0fe056f9]{left:.65rem;bottom:.7rem}.ui nav ul.main li[data-v-0fe056f9]{margin-top:.1rem}.ui nav ul.main li button.inactive[data-v-0fe056f9]{cursor:auto;opacity:.42}.ui nav ul.main li button.inactive[data-v-0fe056f9]:hover{color:#fcfcfa}.ui nav ul.main li button.inactive:hover span[data-v-0fe056f9]{background-color:#1a1a1a!important}.ui nav ul.sub[data-v-0fe056f9]{right:.7rem;bottom:.6rem;display:flex;align-items:flex-end}.ui nav ul li:last-of-type a[data-v-0fe056f9]{transition-delay:.04s}.ui nav ul li a[data-v-0fe056f9]{display:block;pointer-events:none;font-size:0;transition:opacity .24s cubic-bezier(.37,0,.63,1);opacity:0}.ui nav ul li a svg[data-v-0fe056f9]{width:1.2rem;height:1.2rem}@media(min-width:768px){.ui nav ul li button[data-v-0fe056f9]{font-size:1rem}.ui nav ul li a svg[data-v-0fe056f9]{width:1.5rem;height:1.5rem}.ui nav ul.main[data-v-0fe056f9]{left:.9rem;bottom:.9rem}.ui nav ul.sub[data-v-0fe056f9]{right:.9rem;bottom:.8rem}.ui nav ul.sub li a[data-v-0fe056f9]{padding-left:.58rem}}@media(min-width:1024px){.ui nav ul li button[data-v-0fe056f9]{font-size:1.2rem}}.ui .game[data-v-0fe056f9]{position:relative;font-size:.94rem;display:none}.ui .game .text-bar[data-v-0fe056f9]{height:7rem}.ui .game .text-bar .input[data-v-0fe056f9],.ui .game .text-bar h1[data-v-0fe056f9]{font-family:Pressura;text-transform:uppercase;font-size:.87rem;line-height:1;width:100%;font-size:5rem;letter-spacing:.06em;white-space:nowrap;text-align:center;color:#fcfcfa;text-shadow:.04em .04em rgba(252,252,250,.5)}@media(max-width:1024px){.ui .game .text-bar[data-v-0fe056f9]{height:12vw;min-height:4rem}.ui .game .text-bar .input[data-v-0fe056f9],.ui .game .text-bar h1[data-v-0fe056f9]{font-size:8vw}}.ui .game .text-line[data-v-0fe056f9]{position:absolute;width:100vw;display:flex;align-items:center}.ui .game .text-line .line-wrapper[data-v-0fe056f9]{position:absolute;width:100%;padding:.2rem 0 .16rem;display:flex;align-items:center;justify-content:space-between;transform:scaleY(0)}.ui .game .text-line label[data-v-0fe056f9]{transform:scale3d(3,0,1);color:#60f;white-space:nowrap;text-align:center;font-family:Pressura Mono,monospace;text-transform:uppercase;font-size:.87rem;letter-spacing:.18em;line-height:1;font-size:1.1rem;padding:.12em 0 .08em}.ui .game .text-line span[data-v-0fe056f9]{width:100%;height:1px;transform:scaleX(0)}.ui .game .text-line .left[data-v-0fe056f9]{transform-origin:0 50%;background:linear-gradient(-90deg,rgba(102,0,255,0),rgba(102,0,255,.8))}.ui .game .text-line .right[data-v-0fe056f9]{transform-origin:100% 0;background:linear-gradient(90deg,rgba(102,0,255,0),rgba(102,0,255,.8))}@media(max-width:1200px){.ui .game .text-line label[data-v-0fe056f9]{font-size:.94rem}}@media(max-width:768px){.ui .game .text-line label[data-v-0fe056f9]{font-size:.76rem}}.ui .game.visible[data-v-0fe056f9]{display:block}.ui .game .hud[data-v-0fe056f9]{width:100vw;height:100vh;height:calc(var(--vh, 1vh)*100);font-family:Pressura;text-transform:uppercase;font-size:.87rem;letter-spacing:.06em;line-height:1;display:none}.ui .game .hud.visible[data-v-0fe056f9]{display:block}.ui .game .hud .hud-line[data-v-0fe056f9]{top:50%;transform:translateY(-50%)}.ui .game .hud .hud-line .line-wrapper[data-v-0fe056f9]{background-color:rgba(252,252,250,.8)}.ui .game .hud .hud-message[data-v-0fe056f9]{position:absolute;width:100%;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.ui .game .hud .hud-message h1[data-v-0fe056f9]{position:absolute;text-transform:none;transform:translate3d(-100vw,0,0)}.ui .game .hud .hud-message .background[data-v-0fe056f9]{position:absolute;width:200%;height:100%;background:linear-gradient(-70deg,rgba(102,0,255,.58),rgba(102,0,255,0));transform:scaleX(0);transform-origin:0 50%}.ui .game .hud .hud-trigger[data-v-0fe056f9]{position:absolute;font-size:1.4rem;color:#60f;white-space:nowrap}.ui .game .hud .hud-trigger .trigger[data-v-0fe056f9]{position:absolute}.ui .game .hud .hud-trigger .trigger .text[data-v-0fe056f9]{opacity:0}.ui .game .hud .hud-trigger .trigger.active .text[data-v-0fe056f9]{-webkit-animation:trigger-data-v-0fe056f9 .8s cubic-bezier(.22,1,.35,1);animation:trigger-data-v-0fe056f9 .8s cubic-bezier(.22,1,.35,1)}.ui .game .hud .hud-trigger.horsepower .trigger.active .text[data-v-0fe056f9]{-webkit-animation:triggerHorsepower-data-v-0fe056f9 .8s cubic-bezier(.22,1,.35,1);animation:triggerHorsepower-data-v-0fe056f9 .8s cubic-bezier(.22,1,.35,1)}@-webkit-keyframes trigger-data-v-0fe056f9{0%{opacity:1;transform:translate3d(-50%,-100%,0);color:#00ff90}to{opacity:0;color:#60f;transform:translate3d(-50%,-10rem,0) scale3d(4,4,1)}}@keyframes trigger-data-v-0fe056f9{0%{opacity:1;transform:translate3d(-50%,-100%,0);color:#00ff90}to{opacity:0;color:#60f;transform:translate3d(-50%,-10rem,0) scale3d(4,4,1)}}@-webkit-keyframes triggerHorsepower-data-v-0fe056f9{0%{opacity:1;transform:translate3d(-50%,-100%,0);color:#ffe500}to{opacity:0;color:#ff006f;transform:translate3d(-50%,-10rem,0) scale3d(4,4,1)}}@keyframes triggerHorsepower-data-v-0fe056f9{0%{opacity:1;transform:translate3d(-50%,-100%,0);color:#ffe500}to{opacity:0;color:#ff006f;transform:translate3d(-50%,-10rem,0) scale3d(4,4,1)}}.ui .game .hud .hud-progress[data-v-0fe056f9]{position:absolute;width:100%;display:flex;justify-content:space-between;padding:1rem 1.2rem 0 1.24rem;color:rgba(52,52,52,.2)}.ui .game .hud .hud-progress.visible .hud-name[data-v-0fe056f9],.ui .game .hud .hud-progress.visible .hud-score[data-v-0fe056f9]{opacity:1}.ui .game .hud .hud-progress .hud-name[data-v-0fe056f9],.ui .game .hud .hud-progress .hud-score[data-v-0fe056f9]{transition:opacity .45s cubic-bezier(.37,0,.63,1);opacity:0;font-size:1.7rem;letter-spacing:.06em;white-space:nowrap}@media(max-width:1200px){.ui .game .hud .hud-progress .hud-name[data-v-0fe056f9],.ui .game .hud .hud-progress .hud-score[data-v-0fe056f9]{font-size:1.5rem}}@media(max-width:768px){.ui .game .hud .hud-progress .hud-name[data-v-0fe056f9],.ui .game .hud .hud-progress .hud-score[data-v-0fe056f9]{font-size:1.25rem}}@media(max-width:768px)and (orientation:landscape){.ui .game .hud .hud-progress .hud-name[data-v-0fe056f9],.ui .game .hud .hud-progress .hud-score[data-v-0fe056f9]{font-size:1.6rem}}.ui .game .hud .hud-progress .hud-score[data-v-0fe056f9]{justify-self:end;transition-delay:.09s}.ui .game .name-input[data-v-0fe056f9]{display:none;cursor:default}.ui .game .name-input.visible[data-v-0fe056f9]{display:block}.ui .game .name-input.active button[data-v-0fe056f9],.ui .game .name-input.active input[data-v-0fe056f9]{pointer-events:auto}.ui .game .name-input.active input[data-v-0fe056f9]{cursor:auto}.ui .game .name-input.active button[data-v-0fe056f9]{cursor:pointer}.ui .game .name-input.hover .wrapper .submit[data-v-0fe056f9]:after{border-color:#fcfcfa}.ui .game .name-input .name-line[data-v-0fe056f9]{top:-1.7rem}@media(max-width:768px){.ui .game .name-input .name-line[data-v-0fe056f9]{top:-1.2rem}}.ui .game .name-input h2[data-v-0fe056f9]{font-family:Pressura;text-transform:uppercase;font-size:.87rem;line-height:1;text-transform:none;position:absolute;color:rgba(52,52,52,.3);left:50%;transform:translateX(-50%);margin-top:2.9rem;font-size:1.1rem;letter-spacing:.06em;text-align:center;white-space:nowrap;opacity:0}@media(max-width:768px){.ui .game .name-input h2[data-v-0fe056f9]{margin-top:2rem;font-size:.84rem}}.ui .game .name-input .wrapper[data-v-0fe056f9]{position:relative;width:100%;display:flex;justify-content:center;background:linear-gradient(-40deg,rgba(102,0,255,.2),rgba(102,0,255,.35))}.ui .game .name-input .wrapper .input[data-v-0fe056f9]{position:relative;-moz-user-select:auto;user-select:auto;-ms-user-select:auto;-webkit-user-select:auto;text-align:center;width:100vw;background:none;border-radius:0}.ui .game .name-input .wrapper .input[data-v-0fe056f9]::-moz-placeholder{color:rgba(252,252,250,.46);text-shadow:none}.ui .game .name-input .wrapper .input[data-v-0fe056f9]:-ms-input-placeholder{color:rgba(252,252,250,.46);text-shadow:none}.ui .game .name-input .wrapper .input[data-v-0fe056f9]::placeholder{color:rgba(252,252,250,.46);text-shadow:none}.ui .game .name-input .wrapper .input[data-v-0fe056f9]::-moz-selection{background-color:#00ff90}.ui .game .name-input .wrapper .input[data-v-0fe056f9]::selection{background-color:#00ff90}.ui .game .name-input .wrapper .input[data-v-0fe056f9],.ui .game .name-input .wrapper .input[data-v-0fe056f9]:focus{outline:none;border:none}.ui .game .name-input .wrapper .submit[data-v-0fe056f9]{position:absolute;height:100%;width:10vw;max-width:5rem;top:0;right:0;padding:0 2rem;display:block;transition:transform .56s cubic-bezier(.68,-.6,.32,1.6);transform:translate3d(6rem,0,0)}.ui .game .name-input .wrapper .submit.visible[data-v-0fe056f9]{transform:translateZ(0)}.ui .game .name-input .wrapper .submit[data-v-0fe056f9]:after{content:"";border:solid #60f;border-width:0 3px 3px 0;display:inline-block;padding:3px;transform:rotate(-45deg);margin-top:4px}.ui .game .name-input .wrapper .background[data-v-0fe056f9]{position:absolute;background-color:#00ff90;width:100%;height:100%;top:0;left:0;right:0;transform:scaleX(0)}.ui .scores[data-v-0fe056f9]{position:absolute;width:100%;height:100%;left:0;top:0;font-family:Pressura Mono,monospace;text-transform:uppercase;font-size:.87rem;letter-spacing:.18em;line-height:1}.ui .scores .list[data-v-0fe056f9]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;perspective:1rem}.ui .scores .list ul[data-v-0fe056f9]{display:flex;flex-direction:column;justify-content:space-between;width:40vw;height:50vh;margin-top:2vh;font-size:1.2rem;letter-spacing:.18em}@media(max-width:1400px){.ui .scores .list ul[data-v-0fe056f9]{width:50vw}}@media(max-width:1200px){.ui .scores .list ul[data-v-0fe056f9]{width:52vw;font-size:1rem}}@media(max-width:1024px){.ui .scores .list ul[data-v-0fe056f9]{width:52vw;font-size:.76rem}}@media(max-width:768px){.ui .scores .list ul[data-v-0fe056f9]{width:87vw}}@media(max-width:768px)and (orientation:landscape){.ui .scores .list ul[data-v-0fe056f9]{width:65vw}}.ui .scores .list ul li[data-v-0fe056f9]{transform-style:preserve-3d;display:grid;grid-template-columns:5fr 12fr 4fr 8fr;padding:.1em .1em .05em .25em;color:#fcfcfa;visibility:hidden;opacity:0}.ui .scores .list ul li .center[data-v-0fe056f9]{text-align:center}.ui .scores .list ul li .right[data-v-0fe056f9]{text-align:right}.ui .scores .list ul li.header[data-v-0fe056f9]{color:#fcfcfa;border-bottom:1px solid #fcfcfa;padding-bottom:.11em}@media(max-width:768px){.ui .scores .list ul li.header[data-v-0fe056f9]{padding-bottom:.15em}}.ui .scores .list ul li.is-player[data-v-0fe056f9]{color:#1a1a1a;background-color:#fcfcfa}.ui .scores .player[data-v-0fe056f9]{position:absolute;white-space:nowrap;transition:opacity .37s cubic-bezier(.37,0,.63,1);opacity:0;font-size:1.2rem;display:flex;flex-direction:column;align-items:stretch;z-index:1;min-width:2.45rem}.ui .scores .player .score[data-v-0fe056f9],.ui .scores .player label[data-v-0fe056f9]{padding:.13rem .5rem .13rem .13rem}.ui .scores .player label[data-v-0fe056f9]{font-size:.76rem;color:#fcfcfa;border-bottom:1px solid #fcfcfa}.ui .scores .player.visible[data-v-0fe056f9]{opacity:1}',""]),t.exports=o},237:function(t,e,n){"use strict";n.r(e);var o={mounted:function(){this.$emit("mounted")}},r=(n(225),n(40)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui"},[n("div",{staticClass:"loader",attrs:{id:"loader"}},[n("div",{staticClass:"coin"},[n("div",{staticClass:"side heads"},[n("svg-icon",{attrs:{name:"pinkyellow"}})],1),t._v(" "),t._m(0)]),t._v(" "),t._m(1)]),t._v(" "),n("h2",{staticClass:"info",attrs:{id:"info"}},[t._v("PINK YELLOW PRESENTS")]),t._v(" "),n("div",{staticClass:"cursor",attrs:{id:"cursor"}},[n("svg-icon",{staticClass:"open",attrs:{name:"openhand"}}),n("svg-icon",{staticClass:"closed",attrs:{name:"closedhand"}})],1),t._v(" "),t._m(2),t._v(" "),n("nav",{attrs:{id:"nav"}},[t._m(3),t._v(" "),n("ul",{staticClass:"sub"},[n("li",[n("a",{attrs:{id:"linkedin","aria-label":"linkedin",href:"https://www.linkedin.com/company/pinkyellow/",target:"_blank"}},[n("svg-icon",{attrs:{name:"linkedin"}})],1)]),t._v(" "),n("li",[n("a",{attrs:{id:"instagram","aria-label":"instagram",href:"https://www.instagram.com/wearepinkyellow/",target:"_blank"}},[n("svg-icon",{attrs:{name:"instagram"}})],1)])])]),t._v(" "),n("div",{staticClass:"game",attrs:{id:"game"}},[t._m(4),t._v(" "),n("div",{staticClass:"hud"},[t._m(5),t._v(" "),t._m(6),t._v(" "),n("div",{staticClass:"hud-trigger"},t._l(10,(function(t){return n("div",{key:t,staticClass:"trigger"},[n("div",{staticClass:"text"})])})),0),t._v(" "),t._m(7)])]),t._v(" "),n("div",{staticClass:"scores",attrs:{id:"scores"}},[t._m(8),t._v(" "),n("div",{staticClass:"list"},[n("ul",[t._m(9),t._v(" "),t._l(10,(function(e){return n("li",{key:e,staticClass:"score"},[n("div",{staticClass:"rank"},[t._v("\n            "+t._s(e+(1===e?"ST":2===e?"ND":3===e?"RD":"TH"))+"\n          ")]),t._v(" "),n("div",{staticClass:"name"}),t._v(" "),n("div",{staticClass:"wave center"}),t._v(" "),n("div",{staticClass:"points right"})])}))],2)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"side tails"},[e("div",{staticClass:"percentage"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start"},[n("button",[n("span",[t._v("INSERT"),n("br"),t._v("COIN")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"back",attrs:{id:"back"}},[e("span")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"main"},[n("li",[n("button",{attrs:{id:"new"}},[n("span",[t._v("NEW GAME")])])]),t._v(" "),n("li",[n("button",{attrs:{id:"continue"}},[n("span",[t._v("CONTINUE")])])]),t._v(" "),n("li",[n("button",{attrs:{id:"leaderboards"}},[n("span",[t._v("LEADERBOARDS")])])]),t._v(" "),n("li",[n("button",{attrs:{id:"sound"}},[n("span",[t._v("SOUND: ON")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"name-input",attrs:{autocomplete:"off",action:""}},[n("div",{staticClass:"name-line text-line"},[n("div",{staticClass:"line-wrapper"},[n("span",{staticClass:"left"}),n("label",[t._v("WHAT’S YOUR NAME?")]),n("span",{staticClass:"right"})])]),t._v(" "),n("div",{staticClass:"wrapper text-bar"},[n("div",{staticClass:"background"}),t._v(" "),n("input",{staticClass:"input",attrs:{type:"text",placeholder:"NEW-PL4YER",minLength:"1",maxLength:"12"}}),t._v(" "),n("button",{staticClass:"submit",attrs:{type:"submit"}})]),t._v(" "),n("h2",[t._v("touch to navigate, release to jump")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hud-line text-line"},[n("div",{staticClass:"line-wrapper"},[n("span",{staticClass:"left"}),n("label",[t._v("SPIN TO START")]),n("span",{staticClass:"right"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hud-message text-bar"},[n("div",{staticClass:"background"}),t._v(" "),n("h1")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hud-progress"},[n("h3",{staticClass:"hud-name"}),t._v(" "),n("h2",{staticClass:"hud-score"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"player"},[e("label",{staticClass:"name"}),e("span",{staticClass:"score"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"header"},[n("div",[t._v("RANK")]),t._v(" "),n("div",[t._v("PLAYER")]),t._v(" "),n("div",{staticClass:"center"},[t._v("WAVE")]),t._v(" "),n("div",{staticClass:"right"},[t._v("SCORE")])])}],!1,null,"0fe056f9",null);e.default=component.exports},263:function(t,e,n){"use strict";n.r(e);var o=n(215),r=(n(214),n(112)),c=n(113),l=n(216),h=n(217),_=n(213),f=(n(25),n(36),n(51),n(218));function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var v=function(t){Object(l.a)(n,t);var e=d(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){this._wrapper=this._element.querySelector(".line-wrapper"),this._label=this._element.querySelector("label"),this._left=this._element.querySelector(".left"),this._right=this._element.querySelector(".right")}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delay,n=void 0===e?0:e;f.a.killTweensOf(this._wrapper),f.a.fromTo(this._wrapper,{scaleY:0},{scaleY:1,duration:.12,ease:"back.out",delay:n}),f.a.killTweensOf(this._label),f.a.fromTo(this._label,{scale:0},{scale:1,duration:.185,ease:"back.inOut",delay:n+.06}),f.a.killTweensOf(this._left),f.a.fromTo(this._left,{scaleX:0},{scaleX:1,duration:2.52,ease:"expo.out",delay:n+.12}),f.a.killTweensOf(this._right),f.a.fromTo(this._right,{scaleX:0},{scaleX:1,duration:2.52,ease:"expo.out",delay:n+.12})}},{key:"_hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delay,n=void 0===e?0:e,o=t.callback,r=void 0===o?function(){}:o;f.a.killTweensOf(this._wrapper),f.a.to(this._wrapper,{scaleY:0,duration:.22,ease:"back.in",delay:n,onComplete:r}),f.a.killTweensOf(this._label),f.a.to(this._label,{scaleX:3,scaleY:0,duration:.07,ease:"back.out",delay:n}),f.a.killTweensOf(this._left),f.a.to(this._left,{scaleX:0,duration:.27,ease:"back.in",delay:n}),f.a.killTweensOf(this._right),f.a.to(this._right,{scaleX:0,duration:.27,ease:"back.in",delay:n})}},{key:"text",set:function(text){this._label.textContent=text}}]),n}(o.f);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var y=function(t){Object(l.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this,n=t.isTouch;this._isTouch=n,this._name="",this._line=new v({element:this._element.querySelector(".name-line")}),this._wrapper=this._element.querySelector(".wrapper"),this._input=this._element.querySelector(".input"),this._submit=this._element.querySelector(".submit"),this._background=this._element.querySelector(".background"),this._instructions=this._element.querySelector("h2"),!this._isTouch&&(this._instructions.textContent="click & hold to jump"),this._inputSound=Object(o.p)().pulse.get("click"),this._submitSound=Object(o.p)().pulse.get("up"),this._input.addEventListener("input",(function(){e._name=e._input.value=e._input.value.replace(/[^A-Za-z0-9-]/,""),!e._inputSound.isPlaying&&e._inputSound.play(),e._checkInput()})),this._submit.addEventListener("mouseenter",(function(){e._mouseEnter()})),this._submit.addEventListener("mouseleave",(function(){e._mouseLeave()})),this._element.addEventListener("submit",(function(t){t.preventDefault(),e._submitName()}))}},{key:"_show",value:function(t){var e=this,n=t.callback,o=void 0===n?function(){}:n;this._element.classList.add("visible"),this._resetBackground(),this._line._show(),f.a.killTweensOf(this._wrapper),f.a.killTweensOf(this._instructions),f.a.fromTo(this._wrapper,{opacity:0},{opacity:1,duration:.42,ease:"sine.inOut",delay:.2,onComplete:function(){e._element.classList.add("active"),e._input.focus(),!e._isTouch&&e._input.select(),e._checkInput(),o()}}),f.a.fromTo(this._instructions,{opacity:0},{opacity:1,duration:.41,ease:"sine.inOut",delay:.35})}},{key:"_hide",value:function(){var t=this;this._submit.classList.remove("visible"),this._input.blur(),this._element.classList.remove("active"),this._line._hide({delay:.13}),f.a.killTweensOf(this._wrapper),f.a.fromTo(this._wrapper,{opacity:1},{opacity:0,duration:.42,ease:"sine.inOut",delay:.05,onComplete:function(){t._element.classList.remove("visible"),t._element.classList.remove("hover")}}),f.a.killTweensOf(this._instructions),f.a.fromTo(this._instructions,{opacity:1},{opacity:0,duration:.32,ease:"sine.inOut",delay:.1})}},{key:"_resetBackground",value:function(){f.a.killTweensOf(this._background),f.a.set(this._background,{scaleX:0}),this._hover=!1,this._inTransition=!1}},{key:"_mouseEnter",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.42,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._hover=!0,this._inTransition&&!n||(this._inTransition=!0,this._element.classList.add("hover"),f.a.killTweensOf(this._background),f.a.to(this._background,{transformOrigin:"0% 50%",scaleX:1,duration:e,ease:"quart.inOut",onComplete:function(){t._inTransition=!1,t._hover||t._mouseLeave()}}))}},{key:"_mouseLeave",value:function(){var t=this;this._hover=!1,this._inTransition||(this._inTransition=!0,f.a.killTweensOf(this._background),f.a.to(this._background,{transformOrigin:"100% 50%",scaleX:0,duration:.55,ease:"quart.inOut",onComplete:function(){t._inTransition=!1,t._element.classList.remove("hover"),t._hover&&t._mouseEnter()}}))}},{key:"_checkInput",value:function(){this._name.length?this._submit.classList.add("visible"):this._submit.classList.remove("visible")}},{key:"_submitName",value:function(){this._name.length&&(this._mouseEnter(.2,!0),this._submitSound.play(),this.transmit("submit",{name:this._name}))}}]),n}(o.f);n(33);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var k=function(t){Object(l.a)(n,t);var e=w(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this;this._touch=Object(o.p)().touch,this._elements=this._element.querySelectorAll(".trigger"),this._numTriggers=this._elements.length,this._triggers=[],this._index=0;for(var n=function(i){var element=e._elements[i],text=element.querySelector(".text");text.addEventListener("animationend",(function(t){element.classList.remove("active")})),e._triggers.push({element:element,text:text})},i=0;i<this._numTriggers;i++)n(i)}},{key:"trigger",value:function(text){var t=this._triggers[this._index];t.text.textContent=text,Object(o.t)(t.element,this._touch.x,this._touch.y),t.element.classList.add("active"),this._index=this._index<this._numTriggers-1?this._index+1:0}},{key:"activateHorsepower",value:function(){this._triggers.forEach((function(t){t.element.classList.remove("active")})),this._element.classList.add("horsepower")}},{key:"deactivateHorsepower",value:function(){this._triggers.forEach((function(t){t.element.classList.remove("active")})),this._element.classList.remove("horsepower")}}]),n}(o.f);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var x=function(t){Object(l.a)(n,t);var e=O(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){this._message=this._element.querySelector("h1"),this._background=this._element.querySelector(".background")}},{key:"_resize",value:function(t,e){this._width=Object(o.p)().visibleWidth,this._distance=2*this._width}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delay,n=void 0===e?0:e,o=t.callback,r=void 0===o?function(){}:o;f.a.killTweensOf(this._background),f.a.to(this._background,{transformOrigin:"0% 50%",scaleX:1,duration:.28,ease:"quint.inOut",delay:n,onComplete:function(){r()}})}},{key:"_hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.delay,n=void 0===e?0:e,o=t.callback,r=void 0===o?function(){}:o;f.a.killTweensOf(this._background),f.a.to(this._background,{transformOrigin:"100% 50%",scaleX:0,duration:.28,ease:"quint.in",delay:n,onComplete:r})}},{key:"message",value:function(text,t){var e=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this._message.textContent=text,f.a.killTweensOf(this._message),f.a.fromTo(this._message,{x:-this._distance,scaleX:3,scaleY:.7},{transformOrigin:"100% 50%",x:0,scaleX:1,scaleY:1,duration:.23,ease:"quint.out",delay:t,onComplete:function(){f.a.to(e._message,{transformOrigin:"0% 50%",x:e._distance,scaleX:1.5,scaleY:.93,duration:.28,ease:"quint.in",delay:n,onComplete:function(){e._message.textContent="",f.a.set(e._message,{x:-e._distance,transformOrigin:"100% 50%"}),o()}})}})}}]),n}(o.f);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var R=function(t){Object(l.a)(n,t);var e=j(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){this._name=this._element.querySelector(".hud-name"),this._score=this._element.querySelector(".hud-score")}},{key:"_show",value:function(){this._element.classList.add("visible")}},{key:"_hide",value:function(){this._element.classList.remove("visible")}},{key:"name",set:function(t){this._name.textContent=t}},{key:"score",set:function(t){this._score.textContent=t}}]),n}(o.f);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var S=function(t){Object(l.a)(n,t);var e=T(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.isTouch;this._isTouch=e,this._line=new v({element:this._element.querySelector(".hud-line")}),this._message=new x({element:this._element.querySelector(".hud-message")}),this._progress=new R({element:this._element.querySelector(".hud-progress")}),this._trigger=new k({element:this._element.querySelector(".hud-trigger")})}},{key:"_resize",value:function(t,e,n){this._message.resize(t,e,n)}},{key:"_show",value:function(){this._element.classList.add("visible")}},{key:"_hide",value:function(){this._element.classList.remove("visible")}},{key:"line",get:function(){return this._line}},{key:"message",get:function(){return this._message}},{key:"progress",get:function(){return this._progress}},{key:"trigger",get:function(){return this._trigger}}]),n}(o.f);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var P=function(t){Object(l.a)(n,t);var e=C(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.isTouch;this._nameInput=new y({element:this._element.querySelector(".name-input"),isTouch:e}),this._hud=new S({element:this._element.querySelector(".hud"),isTouch:e})}},{key:"_resize",value:function(t,e,n){this._hud.resize(t,e,n)}},{key:"_show",value:function(){this._element.classList.add("visible")}},{key:"_hide",value:function(){this._element.classList.remove("visible")}},{key:"nameInput",get:function(){return this._nameInput}},{key:"hud",get:function(){return this._hud}}]),n}(o.f);n(50);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var z=function(t){Object(l.a)(n,t);var e=E(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){this._coin=this._element.querySelector(".coin"),this._percentage=this._element.querySelector(".percentage"),this._start=this._element.querySelector(".start button"),this._load=Object(o.p)().load,this._progress=0,f.a.to(this,{_progress:1,duration:.9,ease:"none"}),Object(o.s)(this,"_update",{update:this.__update,stop:function(){}})}},{key:"_show",value:function(){this._element.classList.add("show")}},{key:"_hide",value:function(){var t=this;this._element.classList.add("insert"),this._start.innerHTML='<span style="font-size:1.42rem">♫</span>',setTimeout((function(){t._element.classList.remove("show")}),595)}},{key:"toStart",value:function(){var t=this;this._update.set("stop"),this._element.classList.add("active"),setTimeout((function(){t._start.style.pointerEvents="auto"}),400),this._start.addEventListener("click",(function(){t.transmit("started")}))}},{key:"__update",value:function(){var progress=Math.min(this._progress,this._load.progress);this._percentage.textContent="".concat(Math.round(100*progress),"%"),1===progress&&this.transmit("loaded")}}]),n}(o.f);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var I=function(t){Object(l.a)(n,t);var e=L(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){}},{key:"_show",value:function(){this._element.style.display="block"}},{key:"_hide",value:function(){this._element.style.display="none"}},{key:"text",set:function(text){this._element.textContent=text}}]),n}(o.f);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var B=function(t){Object(l.a)(n,t);var e=M(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"start",value:function(){var t=this;this._hidden||(this._visible=!0,setTimeout((function(){t.show(),setTimeout((function(){t._element.classList.add("close"),setTimeout((function(){t._element.classList.add("slide"),setTimeout((function(){t._element.classList.remove("close"),setTimeout((function(){t._element.classList.add("wave"),setTimeout((function(){t.hide()}),490)}),220)}),500)}),300)}),180)}),1050))}},{key:"show",value:function(){this._hidden||(this._visible=!0,this._element.classList.add("visible"))}},{key:"hide",value:function(){this._visible&&(this._visible=!1,this._hidden=!0,this._element.classList.remove("visible"),this._element.classList.add("bottom"))}},{key:"reset",value:function(){this._hidden=!1,this._element.classList.remove("slide"),this._element.classList.remove("wave")}}]),n}(o.f),A=n(238);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var D=function(t){Object(l.a)(n,t);var e=F(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this;this._textElement=this._element.querySelector("span"),this._element.classList.add("disabled"),this._BLACK="#1a1a1a",this._WHITE="#fcfcfa",this._GREY="#343434",this._color=this._BLACK,this._sound=Object(o.p)().pulse.get("up"),this._element.addEventListener("click",(function(){e._active&&e._click()})),this._active=!0}},{key:"_show",value:function(t){var e=this,n=t.delay,o=void 0===n?0:n;this._element.style.display="block",f.a.killTweensOf(this._element),f.a.fromTo(this._element,{scale:0},{scale:1,duration:.12,ease:"back.out",delay:o}),f.a.killTweensOf(this._textElement),f.a.fromTo(this._textElement,{backgroundColor:this._WHITE},{backgroundColor:this._color,duration:.26,ease:"sine.out",delay:o+.08,onComplete:function(){e._element.classList.remove("disabled")}})}},{key:"_hide",value:function(t){var e=this,n=t.delay,o=void 0===n?0:n;this._element.classList.add("disabled"),f.a.killTweensOf(this._element),f.a.fromTo(this._element,{scale:1},{scale:0,duration:.11,ease:"back.in",delay:o+.07}),f.a.killTweensOf(this._textElement),f.a.fromTo(this._textElement,{backgroundColor:this._BLACK},{backgroundColor:this._WHITE,duration:.17,ease:"sine.inOut",delay:o,onComplete:function(){e._element.style.display="none"}})}},{key:"activate",value:function(){this._element.classList.remove("inactive"),this._active=!0}},{key:"deactivate",value:function(){this._element.classList.add("inactive"),this._active=!1}},{key:"gameMode",value:function(){this._element.classList.add("game-mode"),this._color=this._GREY}},{key:"menuMode",value:function(){this._element.classList.remove("game-mode"),this._color="#1a1a1a"}},{key:"text",set:function(text){this._textElement.textContent=text}},{key:"_click",value:function(){this._sound.play(),this.transmit("click")}}]),n}(o.f);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var N=function(t){Object(l.a)(n,t);var e=U(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){Object(A.a)(Object(_.a)(n.prototype),"_create",this).call(this,t),this._onClick=function(){},this._sound=Object(o.p)().pulse.get("down")}},{key:"_click",value:function(){this._sound.play(),this._onClick()}},{key:"set",value:function(text,t){this.text=text,this._onClick=t||this._onClick}}]),n}(D);n(158);function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var H=function(t){Object(l.a)(n,t);var e=Y(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this;this._items=[],Object.entries({_new:"new",_continue:"continue",_leaderboards:"leaderboards",_sound:"sound"}).forEach((function(element){var t=e[element[0]]=new D({element:e._element.querySelector("#".concat(element[1]))});t.on("click",(function(){e.transmit(element[1])})),e._items.push(t)})),this._linkedin=this._element.querySelector("#linkedin"),this._instagram=this._element.querySelector("#instagram")}},{key:"_show",value:function(){this._element.classList.add("visible"),this._items.forEach((function(t,i){return t.show({delay:.08*i})}))}},{key:"_hide",value:function(){this._element.classList.remove("visible"),this._items.forEach((function(t,i){return t.hide({delay:.07*i})}))}},{key:"toggleSound",value:function(t){this._sound.text="SOUND: ".concat(t?"ON":"OFF")}},{key:"activateContinue",value:function(t){this._continue.text="CONTINUE (WAVE ".concat(t,")"),this._continue.activate()}},{key:"deactivateContinue",value:function(){this._continue.text="CONTINUE",this._continue.deactivate()}}]),n}(o.f),W=(n(81),n(212));function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var X=function(t){Object(l.a)(n,t);var e=G(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){this._name=this._element.querySelector(".name"),this._wave=this._element.querySelector(".wave"),this._points=this._element.querySelector(".points")}},{key:"_show",value:function(t){var e=t.delay,n=void 0===e?0:e,o=t.opacity;this._element.style.visibility="visible",f.a.killTweensOf(this._element),f.a.fromTo(this._element,{alpha:0,y:100},{alpha:o,y:0,duration:.51,ease:"back.inOut",delay:n})}},{key:"_hide",value:function(t){var e=this,n=t.delay,o=void 0===n?0:n;f.a.killTweensOf(this._element),f.a.fromTo(this._element,{y:0},{alpha:0,y:-100,duration:.32,ease:"back.inOut",delay:o,onComplete:function(){e._element.style.visibility="hidden"}})}},{key:"set",value:function(t,e,n,o){this._name.textContent=t,this._wave.textContent=e,this._points.textContent=n,o?this._element.classList.add("is-player"):this._element.classList.remove("is-player")}}]),n}(o.f);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var K=function(t){Object(l.a)(n,t);var e=V(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this;this._touch=Object(o.p)().touch,this._listElement=this._element.querySelector("ul"),this._items=[],this._element.querySelectorAll("li").forEach((function(element){e._items.push(new X({element:element}))})),this._numItems=this._items.length,this._player=this._element.querySelector(".player"),this._playerName=this._player.querySelector(".name"),this._playerScore=this._player.querySelector(".score"),this._playerLocation=new W.ic,this._location=0,this._index=0,this._tiltX=0,this._tiltY=0}},{key:"setup",value:function(t,e){this._camera=t,this._microwaver=e.inner}},{key:"_resize",value:function(t,e){this._centerX=.5*Object(o.p)().visibleWidth,this._centerY=.5*Object(o.p)().visibleHeight,this._rangeX=.5*t,this._rangeY=.5*e*.95;var n=Math.max(800/Object(o.p)().visibleHeight,1);1===n&&(n=0),this._playerLocation=new W.ic(-1.4,4+.7*n,0)}},{key:"set",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=1,s=0;i<this._numItems;i++,s++){var n=t[s];this._items[i].set(n.name,n.wave,n.score,n.me)}this._playerName.textContent=e.name||"YOU",this._playerScore.textContent=e.score||0}},{key:"_show",value:function(t){var e=t.delay,n=void 0===e?0:e;this._items.forEach((function(t,i){return t.show({delay:n+.075*i,opacity:1-.085*i})})),this._player.classList.add("visible")}},{key:"_hide",value:function(t){var e=t.delay,n=void 0===e?0:e;this._items.forEach((function(t,i){return t.hide({delay:n+.06*i})})),this._player.classList.remove("visible")}},{key:"_update",value:function(t){var e=t.ft;this._tiltX+=e*(.003*this._touch.location.x-this._tiltX)*.06,this._tiltY+=e*(.003*this._touch.location.y-this._tiltY)*.06,this._listElement.style.transform="rotateX(".concat(-this._tiltY,"rad) rotateY(").concat(this._tiltX,"rad");var n=this._microwaver.localToWorld(this._playerLocation.clone()).project(this._camera);Object(o.t)(this._player,this._centerX+n.x*this._rangeX,this._centerY-n.y*this._rangeY)}}]),n}(o.f),$=function(){function t(e,n,cursor,c,nav,l,h,_){Object(r.a)(this,t),this._element=Object(o.p)().element,this._loader=new z({element:e}),this._info=new I({element:n}),this._cursor=new B({element:cursor}),this._back=new N({element:c}),this._nav=new H({element:nav}),this._game=new P({element:l,back:this._back,isTouch:_}),this._scores=new K({element:h})}return Object(c.a)(t,[{key:"cursor",get:function(){return this._cursor},set:function(cursor){this._element.style.cursor=cursor}},{key:"loader",get:function(){return this._loader}},{key:"info",get:function(){return this._info}},{key:"back",get:function(){return this._back}},{key:"nav",get:function(){return this._nav}},{key:"game",get:function(){return this._game}},{key:"scores",get:function(){return this._scores}}]),t}(),Z=(n(38),n(27),n(35),n(61),n(62),n(264)),J=n(31);n(243);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var tt=function(t){Object(l.a)(n,t);var e=Q(n);function n(){return Object(r.a)(this,n),e.call(this,"MicrowaverFlames",null,"precision highp float;\n#define GLSLIFY 1\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// --\nuniform sampler2D _input;\nuniform sampler2D _buffer;\n\nuniform float     _time;\nuniform float     _ft;\n\nuniform float     _burn;\nuniform float     _gravity;\nuniform float     _wind;\n\nuniform vec3      _pink;\nuniform vec3      _yellow;\n\nvarying vec2      _uv;\n\n// --\nvoid main( void )\n{\n  // color\n  vec3 color    = texture2D(_input, _uv).rgb;\n\n  // flames\n  float N       = _ft * snoise(vec2(gl_FragCoord.x, _uv.y) * 0.0091 /* = higher is thinner */ + _time * 7.0) * 0.022 /* scale shape of flames */;\n  vec2  F       = vec2(_uv.x + _ft * _wind + N * 0.43 /* sideways */ * cos(gl_FragCoord.y * 0.019), _uv.y + N + _ft * _gravity * 0.018 /* rise */);\n\n  vec3  flames  = mix(_pink, _yellow, -1.35 + F.y * 2.37);\n        flames  = texture2D(_buffer, F).r * flames;\n        flames *= _burn * step(0.0, flames - 0.24);\n\n  // --\n  gl_FragColor  = vec4(max(color, flames), 1.0);\n}\n",{_time:{value:0},_ft:{value:1},_burn:{value:0},_gravity:{value:-1},_wind:{value:0},_pink:{value:new W.o(16711791)},_yellow:{value:new W.o(16770304)}},.5)}return Object(c.a)(n,[{key:"_update",value:function(t,e){var n=t.et,o=t.ft,r=e.burn,c=e.wind;this._uniform("_time",n),this._uniform("_ft",o),this._uniform("_burn",r*(1-.05*o)),this._uniform("_wind",c)}},{key:"gravity",set:function(t){this._uniform("_gravity",t)}}]),n}(o.b);function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var it=function(t){Object(l.a)(n,t);var e=et(n);function n(t,o){var c;return Object(r.a)(this,n),(c=e.call(this,"MicrowaverTV",null,"precision highp float;\n#define GLSLIFY 1\n\nhighp float random( vec2 position ) {\n\n    highp float a  = 12.9898;\n    highp float b  = 78.233;\n    highp float c  = 43758.5453;\n    highp float dt = dot(position.xy, vec2(a, b));\n    highp float sn = mod(dt, 3.14);\n\n    return fract(sin(sn) * c);\n}\n\n// --\nuniform sampler2D _input;\n\nuniform float     _time;\nuniform float     _random;\n\nuniform float     _curve;\nuniform float     _border;\nuniform float     _screen;\n\nuniform float     _power;\nuniform float     _wave;\n\nuniform float     _brightness;\nuniform float     _contrast;\nuniform float     _saturation;\n\nuniform float     _shake;\nuniform float     _flicker;\n\nuniform float     _noise;\nuniform float     _scan;\nuniform float     _scanlines;\n\nuniform vec2      _offset;\nuniform float     _zoom;\n\nvarying vec2      _uv;\n\n// --\nvoid main( void )\n{\n  vec2 uv        = _uv * 2.0 - 1.0 + _offset;\n  vec2 offset    = abs(uv.yx) * _curve * _zoom;\n\n  // --\n  float border   = -0.1 + _border * _zoom;\n  vec2  borderUV = (uv + uv * offset * offset) * 0.5 + 0.5;\n\n  if (_border != 0.0 && (borderUV.x < border || borderUV.y < border || borderUV.x > 1.0 - border|| borderUV.y > 1.0 - border))\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\n  // --\n  else\n  {\n    // distortion\n    vec2 distortion = vec2(_uv.x + (1.0 - _power - _wave) * sin(_uv.y * 12.0 + _time * 3.0), _uv.y + (1.0 - _power) * _random * 2.0);\n\n    // color\n    vec3 color      = texture2D(_input, distortion + _random * _shake).rgb;\n\n         // brightness\n         color     += _brightness;\n         // contrast\n         color      = 0.5 + _contrast * (color - 0.5);\n\n         // scanlines\n    vec2 scanlines  = vec2(sin(_uv.y * _scanlines), cos(_uv.y * _scanlines));\n         color     += color * _scan * vec3(scanlines.x, scanlines.y, scanlines.x);\n\n         // saturation\n         color      = mix(vec3(color.r * 0.299 + color.g * 0.587 + color.b * 0.114), color, _saturation);\n\n         // noise\n         color      = color + _noise * (random(_uv + _random) - 0.5);\n\n         // screen\n         color     *= 1.0 - smoothstep(0.1, 1.2, length(uv)) * _screen;\n\n    // --\n    gl_FragColor    = vec4(_power * (color + _random * _flicker), 1.0);\n  }\n}\n",{_time:{value:0},_random:{value:0},_curve:{value:.32},_border:{value:0},_screen:{value:0},_power:{value:0},_wave:{value:0},_brightness:{value:0},_contrast:{value:0},_saturation:{value:0},_shake:{value:0},_flicker:{value:0},_noise:{value:0},_scan:{value:0},_scanlines:{value:0},_offset:{value:new W.hc(0,0)},_zoom:{value:0}}))._NOISE=o?.37:.49,c._ZOOM=15,c._camera=t,c._fov=c._camera.fov+c._ZOOM,c._border=0,c._power=0,c._distortion=0,c._offset=new W.hc(0,0),c._uniform("_offset",c._offset),c._zoom=-1.08,c._updateScreen(),c}return Object(c.a)(n,[{key:"_resize",value:function(){var t=Object(o.p)().visibleWidth/Object(o.p)().visibleHeight;this._border=t<1.07||t>2.4?0:1,this._updateScreen()}},{key:"start",value:function(t){var e=this;f.a.killTweensOf(this,"_zoom"),f.a.to(this,{_zoom:0,duration:t,ease:"quad.inOut",onUpdate:function(){e._updateScreen()}})}},{key:"changeChannel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._power=1-e,f.a.killTweensOf(this,"_power"),f.a.to(this,{_power:1,duration:t,ease:"expo.inOut"})}},{key:"distort",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout((function(){t._distortion=e,f.a.killTweensOf(t,"_distortion"),f.a.to(t,{_distortion:0,duration:n,ease:"expo.out"})}),1e3*o)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;f.a.killTweensOf(this,"_zoom"),this._zoom=t,this._updateScreen()}},{key:"zoomIn",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};f.a.killTweensOf(this,"_zoom"),f.a.to(this,{_zoom:.5,duration:.9,ease:"expo.in",onUpdate:function(){t._updateScreen()},onComplete:function(){f.a.to(t,{_zoom:1,duration:2.4,ease:"back.out",onUpdate:function(){t._updateScreen()}}),t.distort(.001,6),e()}})}},{key:"zoomOut",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};f.a.killTweensOf(this,"_zoom"),f.a.to(this,{_zoom:.6,duration:.72,ease:"expo.in",onUpdate:function(){t._updateScreen()},onComplete:function(){f.a.to(t,{_zoom:0,duration:1.32,ease:"expo.out",onUpdate:function(){t._updateScreen()}}),t.distort(.006,6),e()}})}},{key:"_updateScreen",value:function(){this._camera.fov=this._fov-this._zoom*this._ZOOM,this._camera.updateProjectionMatrix();var t=Math.max(this._zoom,0);this._uniform("_border",.2*this._border),this._uniform("_screen",.45-.35*this._zoom),this._uniform("_brightness",.097-.039*t),this._uniform("_contrast",1.1+.062*t),this._uniform("_saturation",t,0),this._uniform("_shake",.002-.001*this._zoom),this._uniform("_flicker",.03-.02*this._zoom),this._uniform("_noise",this._NOISE-.16*this._zoom),this._uniform("_scan",.035-.007*this._zoom),this._uniform("_scanlines",720+560*this._zoom),this._uniform("_zoom",1-this._zoom)}},{key:"_update",value:function(t,e){var n=t.et,o=e.random,r=e.wave,c=e.x,l=e.y;this._uniform("_time",n),this._uniform("_random",o-.5),this._uniform("_power",this._power-this._distortion),this._uniform("_wave",r),this._offset.x+=.07*(c-this._offset.x),this._offset.y+=.08*(l-this._offset.y)}},{key:"power",set:function(t){this._power=t}},{key:"zoom",set:function(t){this._zoom=t,this._updateScreen()}}]),n}(o.h);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var at=function(t){Object(l.a)(n,t);var e=nt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.ID,n=t.scene,r=t.camera,c=t.grid,l=t.logo,h=t.microwaver,_=t.flames,f=t.tv,d=t.ui,v=t.isTouch;this._isTouch=v,this._touch=Object(o.p)().touch,this._pulse=Object(o.p)().pulse,this._ID=e,this._scene=n,this._camera=r,this._grid=c,this._logo=l,this._microwaver=h,this._flames=_,this._tv=f,this._ui=d,this._stages={},this._inTransition=!1,this._pointerX=.5,this._pointerY=.5,this._musicStartTime=0,this._musicDuration=0,Object(o.s)(this,"_getMusicProgress",{off:function(){return 0},on:this.__getMusicProgress}),this._setup(),this._resetPosition(),this._audio=Object(o.p)().pulse.get()}},{key:"_setup",value:function(){}},{key:"reset",value:function(){this._reset(),this._resetPosition()}},{key:"_reset",value:function(t){}},{key:"_resetPosition",value:function(){}},{key:"enter",value:function(t){this._inTransition=!0,this._enter(t)}},{key:"leave",value:function(t){this._inTransition=!0,this._leave(t)}},{key:"_enter",value:function(t){this._ready()}},{key:"_leave",value:function(t){this._ready()}},{key:"_landing",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};setTimeout((function(){t.reset(),e._camera.activate(),e._grid.activate(.06),e._tv.zoomIn()}),1400),this._camera.land(),this._microwaver.land((function(){e._camera.shake(.24,.88,.015),e._grid.ripple(t.x,.72),n()}))}},{key:"_startMusic",value:function(){this._music&&!this._music.isPlaying&&(this._musicStartTime=this._pulse.time,this._getMusicProgress.set("on"),this._music.play(),this._musicDuration=this._music.getDuration())}},{key:"__getMusicProgress",value:function(){return(this._pulse.time-this._musicStartTime)/this._musicDuration}},{key:"activate",value:function(){this._inTransition||this._activate()}},{key:"deactivate",value:function(){this._inTransition||this._deactivate()}},{key:"_activate",value:function(){}},{key:"_deactivate",value:function(){}},{key:"_ready",value:function(){this._inTransition=!1,this.transmit("ready")}},{key:"_update",value:function(time,t){this._pointerX=this._touch.location.x,this._pointerY=Math.min(this._touch.location.y,1),this._updateStage(time,t)}},{key:"_updateStage",value:function(time,t){}},{key:"ID",get:function(){return this._ID}},{key:"inTransition",get:function(){return this._inTransition}},{key:"x",get:function(){return this.position.x}},{key:"stages",set:function(t){this._stages=t}}]),n}(o.k);function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var ot=function(t){Object(l.a)(n,t);var e=st(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setup",value:function(){this._END_PROGRESS=.846,this._music=this._pulse.audio("intro","audio/microwaver_intro.mp3",{volume:1}),this._microntainer=this._add(this._container()),this._door=0,this._vents=0,this._antenna=0,this._display=0,this._lights=0,this._knob=0,this._burn=0,this._wind=0}},{key:"_reset",value:function(){this._add(this._microwaver,this._microntainer),this._microwaver.skyMode(),this._microwaver.attachShadow(1.8)}},{key:"_resetPosition",value:function(){this.position.y=31.2,this._timeline&&this._timeline.progress(0)}},{key:"_setupTimeline",value:function(t){var e=this;this._trigger((function(){e._tv.changeChannel(1.8)}),0),this._trigger((function(){e._ui.back.set("Skip intro",(function(){e.skip()})),e._ui.back.show()}),.09),this._countdownAnimation(0,.13),this._trigger((function(){e._tv.start(2.8)}),.13),this._logoAnimation(.13,.4),this._trigger((function(){e._ui.info.text="Pink Yellow presents",e._ui.info.show()}),.197),this._trigger((function(){e._ui.info.hide()}),.32),this._panelAnimation(.4,.57),this._biteAnimation(.57,.68),this._cometAnimation(.68,.73),this._trigger((function(){e._ui.back.hide()}),.714),this._revealAnimation(.73,.78,.81),this._trigger((function(){e._ui.info.text="Hungry?",e._ui.info.show()}),.78),this._trigger((function(){e._ui.info.text="Pre-order now"}),.82),this._trigger((function(){e._ui.info.hide()}),.88),this._trigger((function(){e.transmit("menu")}),this._END_PROGRESS),this._trigger((function(){e._microwaver.activate(.1),e._burn=1,e._logo.toMicrowaver()}),.95)}},{key:"_countdownAnimation",value:function(t,e){this._set(this._microntainer.position,t,{x:-1.06,y:.537}),this._animate(this._microntainer.position,t,e,{z:.75},{z:.55}),this._set(this._microntainer.rotation,t,{x:0,y:-.22}),this._animate(this,t,e,{_display:.1},{_display:.02}),this._animate(this,t,e,{_burn:.4},{_burn:1})}},{key:"_logoAnimation",value:function(t,e){this._set(this,t,{_door:1}),this._set(this._microntainer.rotation,t,{x:0,y:1}),this._animate(this,t,e,{_vents:0},{_vents:.73}),this._animate(this,t,e,{_burn:0},{_burn:1}),this._animate(this._microntainer.position,t,e,{x:1.1,y:1.4,z:-.3},{x:-1.25,y:1.75,z:-1.2})}},{key:"_panelAnimation",value:function(t,e){this._set(this,t,{_door:0}),this._set(this._microntainer.position,t,{x:-1.23,z:.2}),this._set(this._microntainer.rotation,t,{x:-.1,y:0,z:0}),this._animate(this._microntainer.position,t,e,{y:1.7},{y:0}),this._animate(this,t,e,{_display:0},{_display:.315}),this._animate(this,t,e,{_lights:0},{_lights:1}),this._animate(this,t,e,{_knob:0},{_knob:1}),this._animate(this,t,e,{_burn:0},{_burn:1.05})}},{key:"_biteAnimation",value:function(t,e){var n=this;this._trigger((function(){n._microwaver.attachShadow(0)}),t),this._set(this,t,{_wind:-.0062}),this._set(this,t,{_vents:1}),this._set(this,t,{_antenna:1}),this._set(this._microntainer.position,t,{y:1.68,z:-3.4}),this._set(this._microntainer.rotation,t,{x:.5*Math.PI,z:0}),this._animate(this._microntainer.position,t,e,{x:9},{x:-8}),this._animate(this._microntainer.rotation,t,e,{y:.4*-Math.PI},{y:-Math.PI}),this._animate(this,t,e,{_door:1},{_door:0}),this._animate(this,t,t+.005,{_burn:0},{_burn:1})}},{key:"_cometAnimation",value:function(t,e){this._set(this,t,{_door:0}),this._set(this,t,{_vents:1}),this._set(this,t,{_antenna:1}),this._set(this,t,{_burn:1}),this._set(this,t,{_wind:0}),this._set(this._microntainer.position,t,{x:0}),this._set(this._microntainer.rotation,t,{z:0}),this._animate(this._microntainer.position,t,e,{y:2,z:-10},{y:.8,z:1.5}),this._animate(this._microntainer.rotation,t,e,{x:-1,y:-10},{x:0,y:1})}},{key:"_revealAnimation",value:function(t,e,n){this._set(this._microntainer.position,t,{y:.7}),this._set(this._microntainer.rotation,t,{z:0}),this._animate(this._microntainer.position,t,e,{z:2.2},{z:-1.8}),this._animate(this._microntainer.rotation,t,e,{x:-.3,y:-1},{x:0,y:-.5}),this._animate(this,t,n,{_door:.35},{_door:0,ease:"quint.inOut"}),this._animate(this,e,n,{_antenna:.25},{_antenna:0}),this._animate(this,e,n,{_knob:1},{_knob:0}),this._animate(this,e,n-.02,{_lights:1},{_lights:0}),this._animate(this,t,n,{_vents:1},{_vents:0}),this._animate(this,t,n,{_display:.2},{_display:1}),this._animate(this,t,n,{_burn:1.3},{_burn:0})}},{key:"_enter",value:function(t){this.reset(),this._startMusic(),this._ready()}},{key:"_leave",value:function(t){var e=this;this._landing(this._stages.menu,(function(){e._music.stop(),e._stages.menu.startMusic(),e._ui.cursor.start(),e._ready()}))}},{key:"skip",value:function(){var t=this;this._musicStartTime-=this._END_PROGRESS*this._musicDuration-(this._pulse.time-this._musicStartTime),this._timeline.progress(this._getMusicProgress()),this._ui.info.hide(),this._tv.reset(),this._tv.changeChannel(2,.55);var e=f.a.to(this,{duration:2,onUpdate:function(){var progress=1-e.progress();t._music.setPlaybackRate(progress),t._music.setVolume(.7*progress)},onComplete:function(){t._music.stop()}})}},{key:"_updateStage",value:function(time,t){this._timeline.progress(this._getMusicProgress()),this._camera.update(time,{x:0,y:0,z:0}),this._microwaver.update(time,{door:this._door,vents:this._vents,antenna:this._antenna,display:this._display,lights:this._lights,knob:this._knob}),this._flames.update(time,{burn:this._burn,wind:this._wind})}},{key:"x",get:function(){return this._microntainer.x}}]),n}(at);function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var ut=function(t){Object(l.a)(n,t);var e=ct(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setup",value:function(){this._music=this._pulse.audio("menu","audio/microwaver_menu.mp3",{loop:!0,volume:1}),this._musicLeaderboards=this._pulse.audio("retro","audio/microwaver_leaderboards.mp3",{loop:!0,volume:0}),this._microwaver.add(this._music),Object(o.s)(this,"__update",{inactive:this.__inactiveUpdate,active:this.__activeUpdate}),this._activation=0,this._volume=1,this._xPosition=0}},{key:"_reset",value:function(){this._add(this._microwaver),this._velocity=0,this._rotation=0,this._microwaver.groundMode(),this._microwaver.detachShadow(),this._flames.gravity=-1,this._door=0}},{key:"_resetPosition",value:function(){this.position.x=this._xPosition,this.rotation.y=-.5}},{key:"_resize",value:function(t,e,n){var o=n.offset;this.position.z=-o,this._xPosition=o?.08:.4}},{key:"_enter",value:function(t){"game"===t.ID?this._fromGame():(this._microwaver.deactivate(),this._finishEnter())}},{key:"_fromGame",value:function(){var t=this;this.reset(),this._camera.reset(3.6,-.5),this._camera.pullBack(),this._grid.activate(.78),this._logo.toMicrowaver(0),this._microwaver.ground(.7),this._microwaver.deactivate(2.42),f.a.killTweensOf(this,"_door"),f.a.fromTo(this,{_door:1},{duration:2,_door:0,ease:"quart.out",onComplete:function(){t._ui.game.hide(),t._finishEnter()}})}},{key:"_finishEnter",value:function(){this._ui.cursor="grab",this._ui.nav.show(),this._ready()}},{key:"_leave",value:function(t){this._ui.cursor="default",this._ui.nav.hide(),f.a.killTweensOf(this,"_activation"),f.a.to(this,{_activation:0,duration:.5,ease:"cubic.inOut"}),"game"===t.ID?this._toGame():this._toLeaderboards()}},{key:"_toGame",value:function(){var t=this;this._camera.deactivate({zoom:-1,duration:.6}),this._microwaver.activate(3,!1),this._grid.deactivate(.12),this._logo.toNone(0),this._hover(),this._prepeareForLaunch(0,0,.32),f.a.killTweensOf(this,"_door"),f.a.to(this,{duration:2.5,_door:.9,ease:"quart.inOut",delay:.4}),this._camera.attack(1.7,1,(function(){t.setPlaybackRate(1),t._volume=0,t._updateVolume(),t.stopMusic(),t._ready()}))}},{key:"_toLeaderboards",value:function(){var t=this;this._microwaver.deactivate(2),this._camera.deactivate({duration:1,delay:.4}),this._hover((function(){t.leaveMusic(),t.setPlaybackRate(1),t._ready()})),this._prepeareForLaunch(.2*this.position.x,.2*this.rotation.y,.4)}},{key:"_hover",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._grid.getRipples.set("off"),setTimeout((function(){t._grid.ripple(t.position.x,.1)}),500),this._microwaver.hover((function(){e(),t._grid.getRipples.set("on")}))}},{key:"_prepeareForLaunch",value:function(t,e,n){var r=this;f.a.killTweensOf(this.position),f.a.to(this.position,{duration:1.82,x:t,delay:n,ease:"quint.inOut"});var c=e>0?o.n:-o.n;e=c+e,f.a.killTweensOf(this.rotation),f.a.to(this.rotation,{duration:1.82,y:e,ease:"quint.inOut",delay:n,onUpdate:function(){r.rotation.y=Object(o.q)(r.rotation.y,c)}})}},{key:"startMusic",value:function(){this._music.isPlaying||(this._music.play(),this._musicLeaderboards.play())}},{key:"stopMusic",value:function(){this._music.stop(),this._musicLeaderboards.stop()}},{key:"enterMusic",value:function(){var t=this;f.a.killTweensOf(this,"_volume"),f.a.to(this,{_volume:1,duration:1.46,ease:"cubic.inOut",onUpdate:function(){t._updateVolume()}})}},{key:"leaveMusic",value:function(){var t=this;f.a.killTweensOf(this,"_volume"),f.a.to(this,{_volume:0,duration:1.75,ease:"back.inOut",onUpdate:function(){t._updateVolume()}})}},{key:"setPlaybackRate",value:function(t){this._music.setPlaybackRate(t),this._musicLeaderboards.setPlaybackRate(t)}},{key:"_activate",value:function(){f.a.killTweensOf(this,"_activation"),f.a.to(this,{_activation:1,duration:2,ease:"quint.out"}),this._camera.shake(.05),this._microwaver.activate(),this._microwaver.showScreen(1.7),this._ui.nav.hide(),this._ui.cursor="grabbing",this.__update.set("active")}},{key:"_deactivate",value:function(){var t=this,e=this._activation;f.a.killTweensOf(this,"_activation"),f.a.to(this,{_activation:0,duration:.29,ease:"back.in",onComplete:function(){t._camera.shake(.14+.23*e,.36*e,.008+.01*e),t._grid.ripple(t.position.x,e),t._ui.nav.show()}}),this._microwaver.deactivate(),this._microwaver.hideScreen(.8),this._ui.cursor="grab",this.__update.set("inactive")}},{key:"_updateStage",value:function(time,t){var e=t.random;this.__update(),this.setPlaybackRate(1-.5*this._microwaver.activation-.35*this._microwaver.flames-.08*this._grid.getRipples()+.05*this._velocity),this.position.x+=this._velocity,this.rotation.y+=this._rotation,this._camera.update(time,{x:(.02+this._activation)*this._pointerX,y:3*this._activation+(.03+this._activation)*-this._pointerY,z:this._activation}),this._grid.update(time,{random:e,activity:this._activation,vx:this._pointerX,vy:-this._pointerY}),this._logo.update(time),this._microwaver.update(time,{lift:this._activation*(1.8-this._pointerY),tiltX:this._activation*-this._touch.velocity.y*2,tiltY:this._activation*this._touch.velocity.x*2.5,open:this._activation*Math.abs(this._pointerX)*.36+this._door}),this._flames.update(time,{burn:this._microwaver.flames,wind:this._microwaver.activation*this._touch.location.x*.0068})}},{key:"__activeUpdate",value:function(){this._velocity=this._activation*(4*this._pointerX-this.position.x)*.36,this._rotation=this._activation*(2*this._pointerX-this.rotation.y)*.14}},{key:"__inactiveUpdate",value:function(){this._velocity*=.88,this._rotation*=.89}},{key:"_updateVolume",value:function(){this._music.setVolume(this._volume),this._musicLeaderboards.setVolume(1-this._volume)}}]),n}(at),lt=n(228),ht=n.n(lt),_t=n(261),ft=n.n(_t);n(39);function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var pt=function(t){Object(l.a)(n,t);var e=vt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this,n=t.game,r=t.width,c=t.height;this._WIDTH=r,this._HEIGHT=c,this._grid=new W.Rb({vertexShader:"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform float _time;\nuniform float _activation;\n\nuniform float _waves;\n\nuniform vec2  _impact;\nuniform float _strength;\nuniform float _ripples;\n\nuniform float _ratio;\n\n// --\nvarying vec2  _uv;\n\nvarying float _light;\nvarying float _lines;\n\nvarying float _wave;\nvarying float _ripple;\n\n// --\nvoid main( void )\n{\n  // --\n  _uv           = uv;\n\n  _light        = smoothstep(abs(uv.y), 0.0, 1.0 - _activation);\n  _lines        = 1.0 - _light;\n\n  // --\n  float wave    = sin(uv.x * uv.y * 12.0 - _time) * _waves;\n       _wave    = wave * 0.25;\n\n  // --\n  vec2 uv       = -1.0 + uv * 2.0;\n       uv.x    *= _ratio;\n\n  float dist    = distance(_impact, uv);\n  float ripple  = smoothstep(0.0, 1.0 - _ripples, dist)\n                * smoothstep(1.2 - _ripples, 1.0 - _ripples, dist) * _ripples * _strength;\n\n       _ripple  = ripple;\n        ripple *= smoothstep(0.25, 0.5, dist); /* start ripple around microwave */\n\n  // --\n  gl_Position   = projectionMatrix * modelViewMatrix * vec4(vec3(position.x, position.y, position.z + wave + ripple * 2.3), 1.0);\n}\n",fragmentShader:n?"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform vec3  _color;\n\nuniform float _activity;\nuniform vec2  _edge;\nuniform vec2  _location;\n\n// --\nvarying vec2  _uv;\nvarying float _ground;\n\nvarying float _light;\nvarying float _lines;\n\nvarying float _wave;\nvarying float _ripple;\n\n// --\nvoid main( void )\n{\n  // --\n  float ground = 1.0 - step(_edge.x, _uv.y) * step(_uv.y, _edge.y);\n\n  gl_FragColor = vec4(_activity * _light * _color, ground *\n                      (_uv.y\n                      + step(0.95, mod(_uv.x * 30.0 + _location.x, 1.0) - _lines + _ripple * _uv.y)\n                      + step(0.95, mod(_uv.y * 10.0 + _location.y, 1.0) + _lines - _ripple)\n                      - _ripple\n                      - _wave)\n  );\n}\n":"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform vec3  _color;\n\nuniform float _activity;\nuniform vec2  _edge;\nuniform vec2  _location;\n\n// --\nvarying vec2  _uv;\nvarying float _ground;\n\nvarying float _light;\nvarying float _lines;\n\nvarying float _wave;\nvarying float _ripple;\n\n// --\nvoid main( void )\n{\n  // --\n  gl_FragColor = vec4(_activity * _light * _color,\n                      _uv.y\n                      + step(0.95, mod(_uv.x * 30.0 + _location.x, 1.0) - _lines + _ripple * _uv.y)\n                      + step(0.95, mod(_uv.y * 10.0 + _location.y, 1.0) + _lines - _ripple)\n                      - _ripple\n                      - _wave\n  );\n}\n",uniforms:{_color:{value:new W.o(65424)},_time:{value:0},_activation:{value:0},_activity:{value:.86},_edge:{value:this.__EDGE=new W.hc(0,0)},_location:{value:new W.hc(0,0)},_waves:{value:0},_impact:{value:new W.hc(0,0)},_strength:{value:1},_ripples:{value:0},_ratio:{value:this._WIDTH/this._HEIGHT}},transparent:!0,depthWrite:!1}),this._model=this._add(new W.jb(new W.Cb(this._WIDTH,this._HEIGHT,80,20),this._grid)),n?(this._update=this.__gameUpdate,this.ripple=this._gameRipple,this._grid.uniforms._activity.value=1):(this._update=this.__menuUpdate,this.ripple=this._ripple),this._model.position.z=-10,this._model.rotation.x=-o.c,this._offset=0,this._crack=.1,this.__IMPACT=this._grid.uniforms._impact,this.__STRENGTH=this._grid.uniforms._strength,this.__RIPPLES=this._grid.uniforms._ripples,this.__WAVES=this._grid.uniforms._waves,this.__ACTIVITY=this._grid.uniforms._activity,this.__TIME=this._grid.uniforms._time,this.__ACTIVATION=this._grid.uniforms._activation,Object(o.s)(this,"getRipples",{on:function(){return e.__RIPPLES.value},off:function(){return 0}}),this._reset()}},{key:"_reset",value:function(){this.__LOCATION=this._grid.uniforms._location.value=new W.hc(-.025,.4)}},{key:"_resize",value:function(t,e,n){var o=n.offset;this._offset=o/5.5-.5}},{key:"activate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._reset(),f.a.killTweensOf(this.__ACTIVATION),f.a.to(this.__ACTIVATION,{value:1,duration:1.85,ease:"quint.out",delay:t})}},{key:"deactivate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;f.a.killTweensOf(this.__ACTIVATION),f.a.to(this.__ACTIVATION,{value:0,duration:1.98,ease:"quint.inOut",delay:t})}},{key:"_ripple",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.__IMPACT.value.set(t/9.1,this._offset),this.__STRENGTH.value=e,this.__RIPPLES.value=1,f.a.killTweensOf(this.__RIPPLES),f.a.to(this.__RIPPLES,{value:0,duration:2,ease:"expo.out"})}},{key:"_gameRipple",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.__IMPACT.value.set(t/19.2,-.33),this.__STRENGTH.value=n,this.__RIPPLES.value=1,f.a.killTweensOf(this.__RIPPLES),f.a.to(this.__RIPPLES,{value:0,duration:2/e,ease:"expo.out"})}},{key:"__menuUpdate",value:function(t,e){var n=t.ft,o=t.et,r=e.random,c=e.activity,l=e.vx,h=e.vy;this.__TIME.value=4*o,this.__ACTIVITY.value=.86+c*r*.14,this.__LOCATION.x+=n*c*l*.1,this.__LOCATION.y+=n*c*h*.1,this.__WAVES.value=c*(.39+.21*h)}},{key:"__gameUpdate",value:function(t,e){var n=t.et,o=e.y,r=e.waves,c=e.edge;this.__TIME.value=4*n,this.__LOCATION.y=o,this.__WAVES.value=r,this.__EDGE.set(c,c+this._crack)}},{key:"crack",set:function(t){this._crack=t}}]),n}(o.i);function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var yt=function(t){Object(l.a)(n,t);var e=mt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=Object(o.p)().load.texture("textures/microwaver_life.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1});this._life=this._setupMaterial(e),this.__LIFEVALUE=this._life.uniforms._value,this.__LIFEFADE=this._life.uniforms._fade,this.__LIFEFLASH=this._life.uniforms._flash,this._lifeBar=this._add(new W.jb(new W.Cb(1.4,.35),this._life));var n=Object(o.p)().load.texture("textures/microwaver_power.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1});this._power=this._setupMaterial(n),this.__POWERVALUE=this._power.uniforms._value,this.__POWERFADE=this._power.uniforms._fade,this.__POWERFLASH=this._power.uniforms._flash,this._powerBar=this._add(new W.jb(new W.Cb(1.4,.35),this._power)),this._powerBar.scale.x=-1,this._powerBar.position.x=4.46}},{key:"_setupMaterial",value:function(t){return new W.Rb({vertexShader:o.a,fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform sampler2D _input;\nuniform float     _value;\nuniform float     _fade;\nuniform float     _flash;\n\n// --\nvarying vec2      _uv;\n\n// --\nvoid main( void )\n{\n  vec4 color   = texture2D(_input, _uv);\n\tgl_FragColor = vec4(color.rgb + _flash, step(_uv.x, _value) * _fade * color.a);\n}\n",uniforms:{_input:{value:t},_value:{value:0},_fade:{value:0},_flash:{value:0}},transparent:!0})}},{key:"_show",value:function(t){var e=this;this._fade("LIFE",1),setTimeout((function(){e._fade("POWER",1)}),300)}},{key:"_hide",value:function(t){var e=this;this._fade("LIFE",0),setTimeout((function(){e._fade("POWER",0)}),300)}},{key:"_fade",value:function(t,e){var n=this["__".concat(t,"FADE")];f.a.killTweensOf(n),f.a.to(n,{duration:.84,value:e,ease:"sine.inOut"})}},{key:"_flash",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.84,n=this["__".concat(t,"FLASH")];f.a.killTweensOf(n),f.a.fromTo(n,{value:1},{value:0,duration:e,ease:"expo.in"})}},{key:"setLife",value:function(t){this._flash("LIFE"),this.__LIFEVALUE.value=.2*t}},{key:"setPower",value:function(t){this._flash("POWER",.28),this.__POWERVALUE.value=t}},{key:"drainPower",value:function(t){this.__POWERVALUE.value=t}},{key:"activateHorsepower",value:function(){f.a.killTweensOf(this.__POWERFLASH),this.__POWERFLASH.value=1}},{key:"deactivateHorsepower",value:function(){this.__POWERFLASH.value=0}}]),n}(o.i);function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var bt=function(t){Object(l.a)(n,t);var e=gt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(){var t=this;this._touch=Object(o.p)().touch,this._model=this._add(this._container()),Object(o.p)().load.model("models/micro.glb",(function(e){e.scene.traverse((function(e){switch(e.name){case"microwaver-body":t._body=Object(o.o)(e,{material:new W.kb({color:65424,transparent:!0,opacity:.44,depthWrite:!1}),renderOrder:0});break;case"microwaver-lines":t._inside=Object(o.o)(e.clone(!1),{material:new W.kb({color:65424,transparent:!0,opacity:.07,depthWrite:!1,side:W.A}),renderOrder:1}),t._outside=Object(o.o)(e,{material:new W.kb({color:65424,transparent:!0,opacity:.65,depthWrite:!1}),renderOrder:2});break;case"microwaver-antenna":t._antenna=Object(o.o)(e,{material:new W.kb({color:65424,transparent:!0,opacity:.54,depthWrite:!1}),renderOrder:3})}})),t._add(t._body,t._model),t._add(t._inside,t._model),t._add(t._outside,t._model),t._add(t._antenna,t._model)})),this.scale.set(.5,.5,.5),this.rotation.y=Math.PI,this._speed=1}},{key:"reset",value:function(){this._gameOver=!1,this._falling=!1,this._jumping=!1,this._landing=!1,this._velocity=0,this._fall=0,this.position.y=this._jump=30}},{key:"gameOver",value:function(){this._gameOver=!0}},{key:"jump",value:function(t){var e=this;this._jumping||this._falling||(this._jumping=!0,f.a.killTweensOf(this,"_jump"),f.a.to(this,{duration:.3/this._speed,_jump:1.82,ease:"quint.out",onUpdate:function(){e.position.y=e._jump},onComplete:function(){e._landing=!0,f.a.to(e,{duration:.28/e._speed,_jump:0,ease:"quart.in",delay:.2/e._speed,onUpdate:function(){e.position.y=e._jump},onComplete:function(){e._jumping=!1,e._landing=!1,t()}})}}))}},{key:"land",value:function(t){var e=this;this._jumping&&!this._landing&&(this._landing=!0,setTimeout((function(){f.a.killTweensOf(e,"_jump"),f.a.to(e,{duration:.28/e._speed,_jump:0,ease:"quart.in",onUpdate:function(){e.position.y=e._jump},onComplete:function(){e._jumping=!1,e._landing=!1,t()}})}),40))}},{key:"fall",value:function(t){var e=this;this._falling||(this._falling=!0,f.a.killTweensOf(this,"_fall"),f.a.to(this,{duration:.49/this._speed,_fall:-7,ease:"back.inOut",onUpdate:function(){e.position.y=e._fall},onComplete:function(){e._gameOver||f.a.fromTo(e,{_fall:1.3},{duration:.32/e._speed,_fall:0,ease:"quint.in",onUpdate:function(){e.position.y=e._fall},onComplete:function(){e._falling=!1,e._fall=0,e.position.y=0,t()}})}}))}},{key:"_update",value:function(t,e){var n=t.ft,o=t.et;this._model.rotation.y=-2.8*this._touch.velocity.x,this._velocity+=n*(this._touch.velocity.x-this._velocity)*.19,this._model.rotation.z=.4*this._velocity,this._model.position.y=3.6*Math.abs(this._velocity),this._antenna.rotation.y=-10*o}},{key:"speed",set:function(t){this._speed=t}},{key:"jumping",get:function(){return this._jumping}}]),n}(o.i);function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var kt=function(t){Object(l.a)(n,t);var e=wt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.color;this._color=e,this._WHITE=new W.o(16579834),this._material=new W.kb({color:e}),this._model=this._add(new W.jb(new W.u(.42,.42,.15,8),this._material)),this._model.rotation.x=-o.c,this._model.rotation.z=Math.random()*Math.PI,this._active=!1}},{key:"reset",value:function(){this._model.position.y=-30}},{key:"activate",value:function(t,e){this._active=!0,this._material.color=this._color,f.a.killTweensOf(this._model.position),f.a.fromTo(this._model.position,{y:-30},{y:1,duration:e,ease:"back.out",delay:t})}},{key:"deactivate",value:function(t){this._active=!1,this._material.color=this._WHITE,f.a.killTweensOf(this._model.position),f.a.to(this._model.position,{y:20,duration:t,ease:"quart.in"})}},{key:"_update",value:function(t,e){var n=t.et;this.rotation.y=5*n}},{key:"active",get:function(){return this._active}}]),n}(o.i);function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var xt=function(t){Object(l.a)(n,t);var e=Ot(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(){this._DIST=8,this._GREEN=new W.o(65424),this._WHITE=new W.o(16579834),this._geometry=new W.Zb(6,1,6,8),this._material=new W.kb({color:this._GREEN,opacity:.4,transparent:!0}),this._model=this._add(new W.jb(this._geometry,this._material)),this._active=!1,this._direction=1}},{key:"reset",value:function(){this.position.y=-30}},{key:"activate",value:function(t,e){this._reset(t),this._active=!0,this._material.color=this._GREEN,f.a.killTweensOf(this.position),f.a.fromTo(this.position,{y:-30},{y:2.7,duration:e,ease:"back.out"})}},{key:"deactivate",value:function(t){this._active=!1,this._material.color=this._WHITE,f.a.killTweensOf(this.position),f.a.to(this.position,{y:-30,duration:t,ease:"quint.in"})}},{key:"_reset",value:function(t){this._start=t-this._direction*this._DIST,this._distance=this._direction*this._DIST*1.3,this._direction*=-1}},{key:"_update",value:function(t,e){var n=t.et,progress=e.progress;this.position.x=this._start+progress*this._distance,this._model.rotation.z=n*this._direction}},{key:"active",get:function(){return this._active}}]),n}(o.i);function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Rt=function(t){Object(l.a)(n,t);var e=jt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.micro,n=t.grid;this._micro=e,this._grid=n;var r=new W.o(16711791),c=new W.o(16770304);this._cointainer=this._add(this._container()),this._cointainer.visible=!1,this._coins=[];for(var i=0;i<5;i++){var l=this._add(new kt({color:(new W.o).lerpColors(r,c,i/4)}),this._cointainer);l.position.z=3.1+4.3*(4-i),this._coins.push(l)}this._ring=this._add(new xt,this._cointainer),this._ring.position.z=-.7,Object(o.s)(this,"_checkCollision",{on:this.__checkCollision,off:function(){}}),Object(o.s)(this,"_checkReset",{start:this.__checkStart,end:this.__checkEnd}),this._speed=1}},{key:"reset",value:function(){this._micro.reset(),this._coins.forEach((function(t){return t.reset()})),this._ring.reset()}},{key:"start",value:function(t){this._checkCollision.set("on"),this._cointainer.visible=!0,this._grid.crack=.1,!t&&this._reset(!0)}},{key:"_finish",value:function(){this._checkCollision.set("off"),this._cointainer.visible=!1,this._grid.crack=0}},{key:"_reset",value:function(t){var e=this,n=0;this._coins.forEach((function(o,r){o.position.x=n=!t||0!==r&&1!==e._speed?Math.min(Math.max(n+6*(Math.random()-.5),-6),6):e._micro.position.x,o.activate(.16*r/e._speed,.4/e._speed)})),this._ring.activate(n,1.8)}},{key:"_fall",value:function(){var t=this;this._checkCollision.set("off"),this._micro.fall((function(){t._checkCollision.set("on")})),this.transmit("fall")}},{key:"gameOver",value:function(){this._micro.gameOver(),this._cointainer.visible=!1}},{key:"_collectCoin",value:function(){this.transmit("coin",{value:1})}},{key:"_collectRing",value:function(){this.transmit("ring")}},{key:"_update",value:function(time,t){var e=t.gameProgress,progress=t.progress;this.position.z=34*progress-30,this._coins.forEach((function(t){return t.update(time)})),this._ring.update(time,{progress:progress}),this._checkCollision(),this._checkReset(progress,e)}},{key:"__checkStart",value:function(progress){progress<.95&&this._checkReset.set("end")}},{key:"__checkEnd",value:function(progress,t){progress>.95&&(this._checkReset.set("start"),t<.8?this._reset():this._finish())}},{key:"__checkCollision",value:function(){var t=this,e=this.position.z+this._micro.position.z;!this._micro.jumping&&e>-1.3&&e<1.3&&this._fall(),this._coins.forEach((function(e){t._collision(e,1.3)&&(e.deactivate(.3/t._speed),t._collectCoin())})),this._collision(this._ring,12)&&(this._ring.deactivate(.35/this._speed),this._collectRing())}},{key:"_collision",value:function(object,t){if(object.active){var e=new W.ic(object.position.x,object.position.y,object.position.z+this.position.z);return this._micro.position.distanceToSquared(e)<t||void 0}}},{key:"speed",set:function(t){this._speed=t}}]),n}(o.i);function Tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var St=function(t){Object(l.a)(n,t);var e=Tt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setupOutput",value:function(t){var e=t.width,n=t.height;return new W.nc(e,n,{wrapS:W.Pb,wrapT:W.n,minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1})}},{key:"_setupCamera",value:function(t){var e=t.width,n=t.height,r=new o.e(.1,40,{fov:70});return r.resize(e,n),r.position.y=1.8,r.position.z=3,this._cameraContainer=this._add(this._container(r)),r}},{key:"_create",value:function(t){var e=this,n=t.isTouch,r=t.microwaver,c=t.hud,l=t.mainCamera;this._isTouch=n,this._touch=Object(o.p)().touch,this._microwaver=r,this._mainCamera=l,this._SKY=40,this._cameraContainer.position.y=this._SKY,this._grid=this._add(new pt({width:100,height:40,game:!0})),this._grid.position.z=this._camera.position.z,this._graphics=this._add(new W.jb(new W.Cb(4.4,2.2),new W.kb({map:Object(o.p)().load.texture("textures/microwaver_game.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1,repeat:new W.hc(.5,.5),offset:new W.hc(0,.5)}),transparent:!0}))),this._graphics.position.y=this._cameraContainer.position.y+this._camera.position.y,this._micro=this._add(new bt),this._micro.position.z=-.2,this._hud=c,this._trigger=c.trigger,this._worldHUD=this._add(new yt),Object(o.s)(this,"_update",{off:function(){},on:this.__update}),this._isTouch?(this.deactivate=this._activateMicro,this.activate=this._deactivateMicro):(this.activate=this._activateMicro,this.deactivate=this._deactivateMicro),this._course=this._add(new Rt({micro:this._micro,grid:this._grid})),this._course.on("fall",(function(){e._wave.fall()})),this._course.on("coin",(function(t){var n=t.value;e._wave.coin(n)})),this._course.on("ring",(function(){e._wave.ring()})),this.speed=1}},{key:"resize",value:function(t,e){}},{key:"start",value:function(t,e){var n=this;f.a.killTweensOf(this._cameraContainer.position),f.a.to(this._cameraContainer.position,{duration:.8,y:.5*this._SKY,ease:"cubic.in",onComplete:function(){n._microwaver.deactivateScreen(),n.__update.set("on"),t||n._course.reset(),f.a.to(n._cameraContainer.position,{duration:1,y:0,ease:"cubic.out",onComplete:function(){n._course.start(t),t||n._jump(),n._grid.activate(),n._worldHUD.show(),n._started=!0,e()}})}})}},{key:"stop",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._started=!1,this._grid.deactivate(),this._worldHUD.hide(),f.a.killTweensOf(this._cameraContainer.position),f.a.to(this._cameraContainer.position,{duration:.6,y:.5*this._SKY,ease:"quart.in",delay:e,onComplete:function(){t._microwaver.activateScreen(),t.__update.set("off"),t._resetCamera(),f.a.to(t._cameraContainer.position,{duration:1,y:t._SKY,ease:"expo.out"})}})}},{key:"_activateMicro",value:function(){this._started&&(this._mainCamera.shake(.02),this._jump())}},{key:"_jump",value:function(){var t=this;this._micro.jump((function(){t._mainCamera.shake(.05,.88),t._grid.ripple(t._micro.position.x,t._speed)}))}},{key:"_deactivateMicro",value:function(){this._started&&this._land()}},{key:"_land",value:function(){var t=this;this._micro.land((function(){t._mainCamera.shake(.05,.52),t._grid.ripple(t._micro.position.x,t._speed)}))}},{key:"toPinkYellow",value:function(){this._graphics.material.map.offset.set(0,.5)}},{key:"toMicroWaver",value:function(){this._graphics.material.map.offset.set(0,0)}},{key:"toWaveComplete",value:function(){this._graphics.material.map.offset.set(.5,.5)}},{key:"toGameOver",value:function(){this.__update.set("off"),this._course.gameOver(),this._graphics.material.map.offset.set(.5,0)}},{key:"reset",value:function(){this.toPinkYellow(),this._cameraContainer.position.y=this._SKY,this._resetCamera(),this.update({})}},{key:"_resetCamera",value:function(){this._camera.rotation.set(0,0,0),this._camera.position.x=0}},{key:"__update",value:function(time){var t=this._wave.gameProgress,e=this._microwaver.getRotation();this._camera.position.x+=time.ft*(50*e.y-this._camera.position.x)*this._EASE;var progress=8*t%1;this._grid.update(time,{y:68*t,waves:Math.sin(t*t*3.65),edge:1-.82*progress}),this._micro.position.x=1.155*this._camera.position.x,this._micro.update(time),this._worldHUD.position.set(this._camera.position.x-2.2-2*e.y,this._cameraContainer.position.y+3.45+2*e.x,0),this._course.update(time,{gameProgress:t,progress:progress})}},{key:"wave",set:function(t){this._wave=t}},{key:"speed",set:function(t){this._speed=t,this._micro.speed=t,this._course.speed=t,this._EASE=.141*this._speed}},{key:"hud",get:function(){return this._worldHUD}}]),n}(o.d);function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Pt=function(t){Object(l.a)(n,t);var e=Ct(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this,n=t.isTouch,r=t.camera,c=t.microwaver,l=t.microntainer,h=t.flames,_=t.world,f=t.hud,d=t.ui;this._touch=Object(o.p)().touch,this._pulse=Object(o.p)().pulse,this._isTouch=n,this._CLICK="".concat(this._isTouch?"TAP ":"CLICK "),_.wave=this,this._music=Object(o.p)().pulse.audio("game","audio/microwaver_game.mp3",{loop:!1,volume:1}),this._music.onEnded=function(){e._end()},this._audio=Object(o.p)().pulse.get(),this._coinSound=this._audio.coin,this._bonusSound=this._audio.up,this._fallSound=this._audio.down,c.inner.add(this._music),this._camera=r,this._microwaver=c,this._microntainer=l,this._flames=h,this._world=_,this._hud=f,this._hudProgress=this._hud.progress,this._hudTrigger=this._hud.trigger,this._worldHUD=this._world.hud,this._ui=d,this._wave=1,this._vents=0,this._antenna=0,this._knob=0,this._burn=0,this._lift=0,this._power=0,this._activation=0,this._x=0,this._y=0,this._progress=0,this._gameProgress=0,this._speed=1,this._musicStartTime=0,this._musicDuration=0,this._musicProgress=0,this._stopCallback=function(){},Object(o.s)(this,"activate",{off:function(){},on:this._isTouch?this.__activate:this.__deactivate}),Object(o.s)(this,"deactivate",{off:function(){},on:this._isTouch?this.__deactivate:function(){}}),Object(o.s)(this,"_getMusicProgress",{off:function(){return e._musicProgress},on:this.__getMusicProgress,end:function(){return 1}}),Object(o.s)(this,"_checkFinish",{off:function(){},on:this.__checkFinish}),Object(o.s)(this,"_updatePower",{on:this.__updatePower,off:function(){}}),Object(o.s)(this,"_horsepower",{drain:this.__drain,horsepower:this.__horsepower}),Object(o.s)(this,"_updateFlames",{off:function(){},on:this.__updateFlames,gameOver:this.__updateFlamesGameOver}),this._setupPhrases()}},{key:"_setupPhrases",value:function(){this._READY=["READY?","LET’S GO","STILL ALIVE?","ENJOY!","A FAST ONE","GO GET ‘EM","AWESOME!","ONE MORE?","GO CRAZY","WE LOVE YOU"],this._READY_TOTAL=this._READY.length-1,this._READY_INDEX=0,this._GREAT=["GREAT!","AWESOME!","WOW!","SWEET!","DELICIOUS!","NAILED IT!","NICE!","EXCELLENT!","PERFECT!"],this._GREAT_TOTAL=this._GREAT.length-1,this._GREAT_INDEX=0,this._WHOOPS=["OUCH!","DANG!","WHOOPS!","UH-OH!"],this._WHOOPS_TOTAL=this._WHOOPS.length-1,this._WHOOPS_INDEX=0,this._GOODBYE=["SEE YA!","HAVE FUN!","GOODBYE!","ENJOY!","LOVE YOU!"],this._GOODBYE_TOTAL=this._GOODBYE.length-1,this._GOODBYE_INDEX=0}},{key:"_getPhrase",value:function(t){var e=this["".concat(t,"_INDEX")],n=this[t][e];return this["".concat(t,"_INDEX")]=e<this["".concat(t,"_TOTAL")]?e+1:0,n}},{key:"reset",value:function(){this._timeline.progress(0,!0),this._x=0,this._y=0,this._power=0,this._activation=0,this._antenna=0,this._vents=0,this._lift=8,this._flames.update({et:0},{burn:0})}},{key:"_setupTimeline",value:function(t){var e=this;this._animate(this,0,.17,{_lift:8},{_lift:1.45,ease:"expo.out"}),this._trigger((function(){e._microwaver.showScreen(1.4)}),0),this._animate(this,.1,.2,{_x:0},{_x:1,ease:"cubic.inOut"}),this._animate(this,.13,.33,{_vents:0},{_vents:1,ease:"elastic.out"}),this._animate(this,0,.45,{_antenna:0},{_antenna:1.1,ease:"expo.in"}),this._animate(this,.21,.35,{_x:1,_y:0},{_x:-1,_y:-.3,ease:"cubic.inOut"}),this._trigger((function(){e._isTouch&&(e._touch.target.x=e._touch.location.x=0,e._touch.target.y=e._touch.location.y=.5)}),.36),this._animate(this,.36,.5,{_activation:0,_x:-1,_y:-.3},{_activation:1,_x:0,_y:0,ease:"quart.inOut"}),this._trigger((function(){e._charge(),e._world.speed=e._speed,e._world.start(0!==e._gameProgress,(function(){e._start()}))}),.3),this._animate(this,.5,.7,{_antenna:1.1},{_antenna:0,ease:"cubic.in"}),this._animate(this,.5,1,{_power:1},{_power:0,ease:"cubic.in"})}},{key:"enter",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0;this._wave=e,this._speed=1+.05*(this._wave-1),this._world.toMicroWaver(),this._hud.message.show({delay:1.1,callback:function(){t._hud.message.message("WAVE ".concat(t._wave),.35,.4,(function(){t._hud.message.message(t._getPhrase("_READY"),.1,.62,(function(){t._hud.message.hide({callback:n}),t._hudProgress.show()}))}))}}),this._intro()}},{key:"_start",value:function(){this._checkFinish.set("on"),this._startMusic(),this._startHorsepower()}},{key:"_finish",value:function(){this._checkFinish.set("off"),this._stopHorsepower(),this._hud.line.text="FINISH",this._hud.line.show({delay:.44}),this._world.toWaveComplete(),this._world.stop(.6),this._hudProgress.hide(),this._ranked=!1,this.transmit("finish"),this._resetValue()}},{key:"_gameOver",value:function(){this._player.alive=!1,this._checkFinish.set("off"),this._stopHorsepower(),this._updateFlames.set("gameOver"),this._world.toGameOver(),this._world.stop(.6),this._hudProgress.hide(),this._ranked=!1,this._pauseMusic(),this._end(),this.transmit("gameover")}},{key:"_end",value:function(){var t=this;this._menu.setPlaybackRate(this._player.alive?this._speed:.5),this._menu.startMusic(),this._getMusicProgress.set("end"),this._player.alive?this._hud.line.hide({callback:function(){t._showScore(.09,"SCORE",.1,.42)}}):this._showScore(2.2,"FINAL SCORE",.4,1)}},{key:"_showScore",value:function(t,text,e,n){var o=this;this._hud.message.show({delay:t,callback:function(){o._hud.message.message(text,.2,e,(function(){o._hud.message.message(o._player.score,0,n,(function(){o.showRank()}))}))}})}},{key:"showRank",value:function(){var t,e,n=this;this._ranked?(this._player.alive?(t=.1,e=.42):(t=.4,e=1),this._hud.message.message("LEADERBOARDS",0,t,(function(){n._hud.message.message(n._player.rank,0,e,(function(){n._hud.message.hide({delay:.19,callback:function(){n.transmit("end")}})}))}))):this._ranked=!0}},{key:"pause",value:function(t){var e=this;this.activate.set("off"),this.deactivate.set("off"),this._hud.line.hide(),this._pauseMusic(),this._microwaver.hideScreen(.6),this._world.stop(),this._stopHorsepower(),this._hud.message.show({delay:.37,callback:function(){e._hud.message.message(e._getPhrase("_GOODBYE"),.14,.2,(function(){e._hud.message.hide({callback:function(){e._activation=0,t()}})}))}}),this._hudProgress.hide(),this._outro(.8),f.a.killTweensOf(this._microntainer.position),f.a.to(this._microntainer.position,{z:-4,duration:.9,ease:"quad.in"}),f.a.to(this,{_lift:10,duration:.9,ease:"quint.in",onComplete:function(){e._world.reset()}})}},{key:"stop",value:function(t){this._stopCallback=t,this._hud.line.text=this._CLICK+(this._player.alive?"TO CONTINUE":"TO TRY AGAIN"),this._hud.line.show({delay:.26}),this.activate.set("on"),this.deactivate.set("on")}},{key:"finishStop",value:function(){this._world.reset(),this._stopMusic()}},{key:"__activate",value:function(){this._hud.line.hide()}},{key:"__deactivate",value:function(){var t=this;this.activate.set("off"),this.deactivate.set("off"),this._ui.back.hide(),this._hud.line.hide(),this._bonusSound.play(),this._microwaver.hideScreen(.6),this._outro(.3),f.a.killTweensOf(this._microntainer.position),f.a.to(this._microntainer.position,{duration:.78,y:-10,ease:"quint.in",onComplete:function(){t.finishStop(),t._stopCallback()}})}},{key:"_intro",value:function(){var t=this;f.a.killTweensOf(this,"_progress"),f.a.fromTo(this,{_progress:0},{_progress:.5,duration:3,ease:"none",onUpdate:function(){t._timeline.progress(t._progress)}})}},{key:"_outro",value:function(t){var e=this;f.a.killTweensOf(this,"_progress"),f.a.fromTo(this,{_progress:.5},{_progress:1,duration:t,ease:"none",onUpdate:function(){e._timeline.progress(e._progress)}})}},{key:"_charge",value:function(){var t=this;f.a.to(this,{duration:2,_power:1,ease:"sine.out",onUpdate:function(){t._menu.setPlaybackRate(1-t._power)},onComplete:function(){t._menu.stopMusic()}})}},{key:"restart",value:function(){this._stopMusic()}},{key:"_startMusic",value:function(){this._music&&!this._music.isPlaying&&(this._musicStartTime=this._pulse.time,this._getMusicProgress.set("on"),this._music.setPlaybackRate(this._speed),this._coinSound.setPlaybackRate(this._speed),this._bonusSound.setPlaybackRate(this._speed),this._fallSound.setPlaybackRate(this._speed),this._music.play(),this._musicDuration=this._music.getDuration()/this._speed)}},{key:"_pauseMusic",value:function(){this._musicProgress=this._getMusicProgress(),this._bonusSound.setPlaybackRate(1),this._fallSound.setPlaybackRate(1),this._getMusicProgress.set("off"),this._music.pause()}},{key:"_stopMusic",value:function(){this._musicProgress=0,this._getMusicProgress.set("off"),this._music.source&&this._music.stop()}},{key:"__getMusicProgress",value:function(){return this._musicProgress+(this._pulse.time-this._musicStartTime)/this._musicDuration}},{key:"coin",value:function(t){this._player.value+=t,this._camera.shake(.023,.25),this._coinSound.play(),this._updateScore(this._player.value),this._updatePower(this._player.value)}},{key:"ring",value:function(){this._bonusSound.isPlaying||this._bonusSound.play(),this._updateScore(this._player.ring),this._updatePower(this._player.ring)}},{key:"__updatePower",value:function(t){this._setPower(this._player.power+.1),this._hudTrigger.trigger("+".concat(t)),1===this._player.power&&this._activateHorsepower()}},{key:"fall",value:function(){this._camera.shake(.05,1.2,.12),this._bonusSound.isPlaying||this._fallSound.play(),this._hudTrigger.trigger(this._getPhrase("_WHOOPS")),this._setLife(this._player.life-1),this._setPower(0)}},{key:"_setLife",value:function(t){this._player.life=t,this._worldHUD.setLife(this._player.life),0===this._player.life&&this._gameOver()}},{key:"_setPower",value:function(t,e){this._player.power=Math.min(t,1),this._worldHUD.setPower(this._player.power)}},{key:"_drainPower",value:function(t){this._player.power=Math.max(t,0),this._worldHUD.drainPower(this._player.power)}},{key:"_updateScore",value:function(t){this._player.score+=t,this._hudProgress.score=this._player.score}},{key:"_resetValue",value:function(){this._player.value=10*(this._player.wave-1),this._player.ring=10*this._player.wave}},{key:"_startHorsepower",value:function(){var t=this;clearInterval(this._horsepowerInterval),this._horsepowerInterval=setInterval((function(){t._horsepower()}),200)}},{key:"_stopHorsepower",value:function(){clearInterval(this._horsepowerInterval)}},{key:"_activateHorsepower",value:function(){this._player.horsepower=!0,this._horsepower.set("horsepower"),this._hudTrigger.activateHorsepower(),this._hudTrigger.trigger(this._getPhrase("_GREAT")),this._worldHUD.activateHorsepower(),this._updatePower.set("off"),this._updateFlames.set("on"),this._bonusSound.isPlaying||this._bonusSound.play()}},{key:"_deactivateHorsepower",value:function(){this._player.horsepower=!1,this._hudTrigger.deactivateHorsepower(),this._worldHUD.deactivateHorsepower(),this._updatePower.set("on"),this._horsepower.set("drain"),this._updateFlames.set("off")}},{key:"__drain",value:function(){this._drainPower(this._player.power-.02)}},{key:"__horsepower",value:function(){this._drainPower(this._player.power-.05),this._updateScore(this._player.value),this._hudTrigger.trigger("+".concat(this._player.value)),0===this._player.power&&this._deactivateHorsepower()}},{key:"_update",value:function(time,t){var e=t.x,n=t.y;this._gameProgress=this._getMusicProgress(),e=this._x+this._activation*e,n=this._y+this._activation*(n-.5);var o=.02*Math.sin(1.8*time.et);this._microwaver.update(time,{lift:this._lift-.4*n+o,tiltX:.1*-e,tiltY:.25*n,door:0,vents:this._vents*Math.abs(e)*2,antenna:this._antenna*this._speed,display:Math.max(0,this._power*(.997-1.07*this._gameProgress)),lights:this._power,knob:.3*(1.8+e)}),this._microntainer.rotation.y=.5*e,this._updateFlames(time),this._checkFinish()}},{key:"__updateFlames",value:function(time){this._flames.update(time,{burn:1.08*this._player.power,wind:0})}},{key:"__updateFlamesGameOver",value:function(time){this._flames.update(time,{burn:.75,wind:0})}},{key:"__checkFinish",value:function(){this._gameProgress>.914&&this._finish()}},{key:"gameProgress",get:function(){return this._gameProgress}},{key:"speed",get:function(){return this._speed}},{key:"player",set:function(t){this._player=t,this._hudProgress.name=t.name,this._hudProgress.score=this._player.score,this._READY_INDEX=0,this._setLife(t.life),this._drainPower(t.power),this._horsepower.set("drain"),this._updateFlames.set("off"),this._flames.update({et:0},{burn:0,wind:0})}},{key:"menu",set:function(menu){this._menu=menu}}]),n}(o.k);function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var zt=function(t){Object(l.a)(n,t);var e=Et(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setup",value:function(){var t=this;this._microntainer=this._add(this._container()),this._gameUI=this._ui.game,this._hud=this._gameUI.hud,this._world=new St({width:512,height:331.46,isTouch:this._isTouch,microwaver:this._microwaver,hud:this._hud,mainCamera:this._camera}),this._microwaver.setupScreen(this._world),this._wave=new Pt({isTouch:this._isTouch,camera:this._camera,microwaver:this._microwaver,microntainer:this._microntainer,flames:this._flames,world:this._world,hud:this._hud,ui:this._ui}),this._wave.on("finish",(function(){t._finishWave()})),this._wave.on("end",(function(){t._endWave()})),this._wave.on("gameover",(function(){t._gameOver()})),this._getX=this._isTouch?this.__getX:function(){return t._pointerX},this._password=""}},{key:"_reset",value:function(){this._add(this._microwaver,this._microntainer),this._microwaver.skyMode(),this._microwaver.detachShadow(.85),this._camera.reset(0,5.8),this._camera.setup(),this._scene.toWhite(),this._inGame=!1}},{key:"_resetPosition",value:function(){this._wave.reset(),this._microntainer.position.set(0,-.5,1.2)}},{key:"_resize",value:function(t,e,n){var r=n.offset;this._ratio=Math.max(Object(o.p)().visibleWidth/Object(o.p)().visibleHeight,1),this._world.resize(t,e),this.position.z=.84*-r,this._world.update({ft:1,et:0},{}),this._gameUI.resize(t,e)}},{key:"_enter",value:function(){this.reset(),this._ui.back.gameMode(),this._gameUI.show(),this._newGame?(this._newGame=!1,this._toNewGame()):this._toContinue(),this._wave.menu=this._stages.menu,this._stages.menu.startMusic()}},{key:"_toNewGame",value:function(){var t=this;this._ui.back.set("Back to menu",(function(){t._ui.back.hide(),t._gameUI.nameInput.off("submit"),t._gameUI.nameInput.hide(),t.transmit("menu")})),this._gameUI.nameInput.show({callback:function(){t._ui.back.show({delay:.5}),t._ready()}}),this._gameUI.nameInput.once("submit",(function(e){var n=e.name;t._ui.back.hide(),t._gameUI.nameInput.hide(),t._wave.restart(),t._createPlayer(n,(function(){t._isTouch&&(t._ui.cursor.reset(),t._ui.cursor.start()),t._toContinue()}))}))}},{key:"_toContinue",value:function(){var t=this;this._inGame=!0,this._hud.show(),this._ui.back.set("Need a break?",(function(){t._ui.back.hide(),t._wave.pause((function(){t.transmit("menu")}))})),this._nextWave()}},{key:"_finishWave",value:function(){var t=this;this._ui.back.hide(),this._player.wave++,this._submit((function(){t._wave.showRank()}))}},{key:"_endWave",value:function(){var t=this;this._ui.back.set(this._player.alive?"Need a break?":"Back to menu",(function(){t._ui.back.hide(),t._wave.pause((function(){t._wave.finishStop(),t.transmit("menu")}))})),this._ui.back.show(),this._player.alive?this._wave.stop((function(){t._resetPosition(),t._nextWave()})):this._wave.stop((function(){t._resetPosition(),t._tryAgain()}))}},{key:"_nextWave",value:function(){var t=this;this._wave.enter(this._player.wave,(function(){t._ui.back.show(),t._ready()}))}},{key:"_gameOver",value:function(){var t=this;this._ui.back.hide(),this._submit((function(){t._wave.showRank()}))}},{key:"_tryAgain",value:function(){var t=this;this._createPlayer(this._player.name,(function(){t._toContinue()}))}},{key:"_leave",value:function(t){this._scene.toBlack(),this._stages.menu.startMusic(),this._stages.menu.enterMusic(),this._ui.back.menuMode(),this._hud.hide(),this._ready()}},{key:"_createPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ANONYMOUS",e=arguments.length>1?arguments[1]:void 0;this._player={id:0,name:t.substring(0,12),wave:1,score:0,value:0,ring:10,rank:0,life:5,power:0,horsepower:!1,alive:!0},this._wave.player=this._player,this._submit(e)}},{key:"_submit",value:function(t){var e=this;ht.a.post("https://microwaver.pinkyellow.computer/score/",this._player,{headers:{Authorization:"Bearer ".concat(ft()(this._password))}}).then((function(n){var data=n.data;e._player.id=data.id,e._player.rank=data.rank||0,e._password=data.password+"salty-nuts",t()}))}},{key:"_activate",value:function(){this._wave.activate(),this._world.activate()}},{key:"_deactivate",value:function(){this._wave.deactivate(),this._world.deactivate()}},{key:"_updateStage",value:function(time,t){this._camera.update(time,{x:0,y:0,z:0}),this._wave.update(time,{x:this._getX(),y:this._pointerY}),this._world.update(time,t)}},{key:"__getX",value:function(){return Math.min(Math.max(this._pointerX*this._ratio,-1),1)}},{key:"player",get:function(){return this._player}},{key:"newGame",set:function(t){this._newGame=t}}]),n}(at);function Lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var It=function(t){Object(l.a)(n,t);var e=Lt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setup",value:function(){this._microntainer=this._add(this._container()),this._scores=this._ui.scores,this._loading=!1,this._progress=0,this._activation=0,this._hover=0}},{key:"_setupTimeline",value:function(t){this._animate(this,0,.5,{_activation:0},{_activation:1}),this._animate(this,.5,.68,{_activation:1},{_activation:0}),this._animate(this._microntainer.position,0,1,{y:-40},{y:37})}},{key:"_reset",value:function(){this._add(this._microwaver,this._microntainer),this._microwaver.groundMode(),this._microwaver.detachShadow(),this._flames.gravity=1}},{key:"_resetPosition",value:function(){this._isTouch&&(this._touch.target.x=0,this._touch.target.y=.74),this.position.z=-12,this._timeline&&this._timeline.progress(0)}},{key:"load",value:function(){var t=this;this._loading=!0,ht.a.get("https://microwaver.pinkyellow.computer/leaderboards/".concat(this._stages.game.player?this._stages.game.player.id:"")).then((function(e){var data=e.data;t._scores.set(data,t._stages.game.player),t._waiting&&t._launch(),t._loading=!1,t._waiting=!1}))}},{key:"_enter",value:function(){this._microwaver.activate(3.12,!1),this._tv.zoomOut(),this._loading?this._waiting=!0:this._launch()}},{key:"_launch",value:function(){var t=this;this._microwaver.launch((function(){t._camera.shake(1,1.2),t._tv.distort(.07,.9),t._grid.ripple(t._stages.menu.x,.28),t._grid.deactivate(.13),t._logo.toLeaderboards(.48),setTimeout((function(){t.reset(),t._scores.show({delay:.31}),f.a.killTweensOf(t,"_progress"),f.a.fromTo(t,{_progress:0},{_progress:.5,duration:2.6,ease:"quart.inOut",onUpdate:function(){t._timeline.progress(t._progress)}})}),1200)}),(function(){})),this._camera.launch((function(){t._ui.back.set("Back to safety",(function(){t.transmit("menu")})),t._ui.back.show({delay:.2}),t._ready()}))}},{key:"_leave",value:function(t){var e=this;this._ui.back.hide(),this._logo.toMicrowaver(.62),this._scores.hide(),f.a.killTweensOf(this,"_progress"),f.a.to(this,{_progress:1,duration:1.4,ease:"back.in",onUpdate:function(){e._timeline.progress(e._progress)},onComplete:function(){e._timeline.progress(0),e._stages.menu.enterMusic()}}),this._landing(t,(function(){e._ready()}))}},{key:"_updateStage",value:function(time,t){this._camera.update(time,{x:0,y:0,z:0}),this._logo.update(time),this._scores.update(time);var e=time.et,n=time.ft,o=this._activation*Math.sin(12*e)*.4;this.position.x+=this._activation*n*(12*this._pointerX-this.position.x)*.14,this.position.y+=this._activation*n*(10*-this._pointerY+o-this.position.y)*.14,this.rotation.y+=this._activation*n*(10*this._touch.velocity.x-.7*this._pointerX-this.rotation.y)*.08,this._microwaver.update(time,{tiltX:this._activation*(3.2*-this._touch.velocity.x+.04*o),tiltY:this._activation*(.7*-this._pointerY-5.2*this._touch.velocity.y+.07*o)}),this._flames.update(time,{burn:this._microwaver.flames+this._activation*(2.8*Math.abs(this._touch.velocity.x)-.32*this._touch.velocity.y),wind:this._activation*this._touch.velocity.x*.12})}}]),n}(at);function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Bt=function(t){Object(l.a)(n,t);var e=Mt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.camera;this._cameraPosition=e.position,this._material=new W.Rb({vertexShader:o.a,fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nfloat snoise(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289(i); // Avoid truncation effects in permutation\n  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n        + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n// --\nuniform sampler2D _input;\n\nuniform float     _time;\nuniform float     _offset;\nuniform float     _transition;\n\nvarying vec2      _uv;\n\n// --\nvoid main( void )\n{\n  float N = snoise(vec2(_uv.x, _uv.y + _uv.x) * 0.9 + _time);\n\n  gl_FragColor = texture2D(\n    _input, vec2(\n       _uv.x + 0.011 * mod(gl_FragCoord.y * 0.9995 + N, 1.0),\n      (_uv.y - (0.01 + _transition * 0.48) * mod(gl_FragCoord.y + N, 1.02)) * 0.5 + _offset));\n}\n",uniforms:{_input:{value:Object(o.p)().load.texture("textures/microwaver_logo.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1})},_time:{value:0},_offset:{value:this._offset=-.5},_transition:{value:this._transition=0}},transparent:!0}),this.__OFFSET=this._material.uniforms._offset,this.__TRANSITION=this._material.uniforms._transition,this.__TIME=this._material.uniforms._time,this._logo=this._add(new W.jb(new W.Cb(10,5),this._material))}},{key:"_resize",value:function(t,e){var n=Math.min(Object(o.p)().visibleWidth/(1.16*Object(o.p)().visibleHeight),1);this._logo.scale.set(n,n,n),this._logo.position.y=Math.min(3.2+1/n*1,5.1)}},{key:"toNone",value:function(t){this._switch(-.5,t)}},{key:"toMicrowaver",value:function(t){this._switch(.5,t)}},{key:"toLeaderboards",value:function(t){this._switch(0,t)}},{key:"_switch",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f.a.killTweensOf(this,"_offset,_transition"),f.a.fromTo(this,{_transition:0},{_offset:t,_transition:Math.PI,duration:1.67,ease:"quart.inOut",delay:n,onUpdate:function(){e.__OFFSET.value=e._offset,e.__TRANSITION.value=Math.sin(e._transition)}})}},{key:"_update",value:function(t){var e=t.et;this.position.x=this._cameraPosition.x,this.position.y=this._cameraPosition.y,this.__TIME.value=.18*e}}]),n}(o.i);function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Ft=function(t){Object(l.a)(n,t);var e=At(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){this._shake=0,this._up=!0,this._lift=this._LIFT=40,this._activation=0,this._y=3.6,this._z=5.8}},{key:"setup",value:function(){this.position.y=this._y,this.position.z=this._z}},{key:"shake",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;setTimeout((function(){var r=-1;t._shake=e,f.a.killTweensOf(t,"_shake"),f.a.to(t,{_shake:0,duration:n,ease:"expo.out",onUpdate:function(){t._shake*=r=1===r?-1:1},delay:o})}),1e3*o)}},{key:"launch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._up||(this._up=!0,f.a.killTweensOf(this,"_lift"),f.a.to(this,{_lift:this._LIFT,duration:3.5,ease:"expo.inOut",onComplete:t,delay:1.6}))}},{key:"land",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._up&&(this._up=!1,f.a.killTweensOf(this,"_lift"),f.a.to(this,{_lift:0,duration:2.8,ease:"quint.inOut",onComplete:t}))}},{key:"attack",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};f.a.killTweensOf(this.rotation,"z"),f.a.to(this.rotation,{z:e,duration:1.72,ease:"quad.inOut",delay:n,onComplete:function(){t.rotation.z=0}}),f.a.killTweensOf(this.position,"z"),f.a.to(this.position,{z:-.5,duration:1.72,ease:"quint.inOut",delay:n,onComplete:o})}},{key:"pullBack",value:function(){var t=this;f.a.killTweensOf(this.rotation,"z"),f.a.fromTo(this.rotation,{z:.3},{z:0,duration:2,ease:"quart.out"}),f.a.killTweensOf(this,"_activation,_y,_z"),f.a.to(this,{_z:4.8,duration:2.2,ease:"quart.out",onUpdate:function(){t.position.z=t._z}}),f.a.to(this,{_activation:1,_y:0,duration:2.2,ease:"back.inOut",delay:.6})}},{key:"activate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.zoom,n=void 0===e?0:e,o=t.duration,r=void 0===o?0:o,c=t.delay,l=void 0===c?0:c;f.a.killTweensOf(this,"_activation,_y,_z"),f.a.to(this,{_activation:1,_y:0,_z:4.8-n,duration:r,ease:"cubic.inOut",delay:l})}},{key:"deactivate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.zoom,n=void 0===e?0:e,o=t.duration,r=void 0===o?0:o,c=t.delay,l=void 0===c?0:c;f.a.killTweensOf(this,"_activation,_y,_z"),f.a.to(this,{_activation:0,_y:3.6,_z:5.8-n,duration:r,ease:"sine.inOut",delay:l})}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._y=t,this.position.z=this._z=e}},{key:"_update",value:function(t,e){var n=t.ft,o=e.x,r=e.y,c=e.z;o=this._activation*o,r=this._y+this._activation*r,c=this._z+this._activation*c,this.position.x+=n*(o-this.position.x)*.18,this.position.y=this._lift+.32*(r-this.position.y)+this._shake,this.position.z+=n*(c-this.position.z)*.022}}]),n}(o.e);function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Ut=function(t){Object(l.a)(n,t);var e=Dt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.materials;this._design(e,{_chrome:"body-chrome"}),this._model.material=n.body,this._chrome.material=n.chrome}}]),n}(o.i);function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Yt=function(t){Object(l.a)(n,t);var e=Nt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.world;this._screen=new W.Rb({vertexShader:"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform vec2  _offset;\nuniform vec2  _reflection;\nuniform float _vFade;\n\n// --\nvarying vec2  _uv;\nvarying float _fade;\n\n// --\nvoid main( void )\n{\n  // --\n  _uv         = uv + _offset;\n  _fade   = 1.0 - distance(sin(uv * 3.142), _reflection) - uv.y * _vFade;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform sampler2D _input;\nuniform float     _time;\nuniform float     _opacity;\n\n// --\nvarying vec2      _uv;\nvarying float     _fade;\n\n// --\nvoid main( void )\n{\n  vec4 color   = texture2D(_input, _uv);\n\tgl_FragColor = vec4(color.rgb, _opacity * _fade * color.a);\n}\n",uniforms:{_input:{value:e.output},_time:{value:0},_offset:{value:this.__OFFSET=new W.hc},_reflection:{value:this.__REFLECTION=new W.hc},_vFade:{value:.7},_opacity:{value:this._opacity=0}},transparent:!0}),this.__OPACITY=this._screen.uniforms._opacity,this.__VFADE=this._screen.uniforms._vFade,this._model=this._add(new W.jb(new W.Cb(1.815,1.175),this._screen)),Object(o.s)(this,"_update",{off:function(){},on:this.__update}),Object(o.s)(this,"_updateOffset",{on:this.__updateOffset,off:function(){}})}},{key:"_show",value:function(t){var e=this,n=t.duration;this.visible=!0,f.a.killTweensOf(this,"_opacity"),f.a.to(this,{_opacity:1,duration:n,ease:"sine.inOut",onUpdate:function(){e.__OPACITY.value=e._opacity}}),this._update.set("on")}},{key:"_hide",value:function(t){var e=this,n=t.duration;f.a.killTweensOf(this,"_opacity"),f.a.to(this,{_opacity:0,duration:n,ease:"sine.inOut",onUpdate:function(){e.__OPACITY.value=e._opacity},onComplete:function(){e.visible=!1,e._update.set("off")}})}},{key:"activate",value:function(){this.__VFADE.value=.7,this._updateOffset.set("on")}},{key:"deactivate",value:function(){this.__VFADE.value=.58,this.__OFFSET.set(0,0),this._updateOffset.set("off")}},{key:"__update",value:function(time,t){var e=t.x,n=t.y;this.__REFLECTION.set(2*e,2*-n),this._updateOffset()}},{key:"__updateOffset",value:function(){this.__OFFSET.copy(this.__REFLECTION)}}]),n}(o.i);function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Ht=function(t){Object(l.a)(n,t);var e=qt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.materials;this._design(e,{_window:"door-window",_chrome:"door-chrome"}),this._model.material=n.body,this._window.material=n.glass,this._chrome.material=n.chrome,this.rotation.y=-.0035}},{key:"setupScreen",value:function(t){this._screen=this._add(new Yt({world:t}),this._model),this._screen.position.set(1.304,.05,.269)}},{key:"showScreen",value:function(t){this._screen.show({duration:t})}},{key:"hideScreen",value:function(t){this._screen.hide({duration:t})}},{key:"activateScreen",value:function(){this._screen.activate()}},{key:"deactivateScreen",value:function(){this._screen.deactivate()}},{key:"_update",value:function(time,t){var e=t.open,n=t.rotation,r=e*-o.c;this._model.rotation.y=r,this._screen.update(time,{x:n.y+.3*r,y:n.x})}}]),n}(o.i);function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Gt=function(t){Object(l.a)(n,t);var e=Wt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.materials;this._design(e,{_leftTop:"vents-left-top",_leftMiddle:"vents-left-middle",_leftBottom:"vents-left-bottom",_rightTop:"vents-right-top",_rightMiddle:"vents-right-middle",_rightBottom:"vents-right-bottom"}),this._leftTop.material=n.body,this._leftMiddle.material=n.body,this._leftBottom.material=n.body,this._rightTop.material=n.body,this._rightMiddle.material=n.body,this._rightBottom.material=n.body}},{key:"_update",value:function(time,t){var e=t.power;this._leftTop.rotation.z=-o.c-e,this._leftMiddle.rotation.z=-o.c-e,this._leftBottom.rotation.z=-o.c-e,this._rightTop.rotation.z=-o.c+e,this._rightMiddle.rotation.z=-o.c+e,this._rightBottom.rotation.z=-o.c+e}}]),n}(o.i);function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Vt=function(t){Object(l.a)(n,t);var e=Xt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.materials;this._design(e,{_left:"antenna-left",_right:"antenna-right",_leftTop:"antenna-left-top",_rightTop:"antenna-right-top"}),this._model.material=n.chrome,this._left.material=n.chrome,this._right.material=n.chrome,this._leftTop.material=n.chrome,this._rightTop.material=n.chrome,this._power=0}},{key:"_update",value:function(t,e){var n=t.ft,o=e.power;this._power+=n*(o-this._power)*.04;var r=Math.min(.55*this._power,.55);this._leftTop.position.y=r,this._rightTop.position.y=r,this._model.rotation.y+=n*(.025+.1*this._power)}}]),n}(o.i);n(114),n(37);function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var $t=function(t){Object(l.a)(n,t);var e=Kt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.materials;e.material=n.glass;var r=Object(o.p)().load.texture("textures/microwaver_digits.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1});this._display=new W.Rb({vertexShader:"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform vec2 _offset;\n\n// --\nvarying vec2  _uv;\nvarying float _fade;\n\n// --\nvoid main( void )\n{\n  // --\n  _uv         = uv;\n      _fade   = 1.36 - distance(sin(uv * 3.142), _offset);\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\n// --\nuniform sampler2D _input;\nuniform vec2      _offset;\nuniform float     _digitLeft;\nuniform float     _digitRight;\nuniform float     _blink;\n\n// --\nvarying vec2      _uv;\nvarying float     _fade;\n\n// --\nvoid main( void )\n{\n  float digit = (_uv.x < 0.5) ? _digitLeft : _digitRight;\n  float x = mod(_uv.x * 2.0, 1.0);\n\n  vec4 color  = texture2D(_input, vec2(x * 0.1 + digit * 0.1, _uv.y));\n       color.a *= _fade * _blink;\n\n\tgl_FragColor  = vec4(color.rgb, _fade * _blink * color.a);\n}\n",uniforms:{_input:{value:r},_offset:{value:this._offset=new W.hc},_digitLeft:{value:null},_digitRight:{value:null},_blink:{value:1}},transparent:!0}),this.__DIGITLEFT=this._display.uniforms._digitLeft,this.__DIGITRIGHT=this._display.uniforms._digitRight,this.__BLINK=this._display.uniforms._blink,this._model=this._add(this._container(new W.jb(new W.Cb(.25,.33),this._display))),this._container=this._add(this._container(this._model)),this._container.position.x=1.25,this._container.position.y=1.667,this._container.position.z=1.016,Object(o.s)(this,"__blink",{on:this.__blinkOn,off:this.__blinkOff}),this._blink=0,this._time=99,this._set(0)}},{key:"_set",value:function(time){if(this._time!==time){this._time=time;var t="".concat(("-"+this._time).slice(-2)).split("");this.__DIGITLEFT.value=t[0],this.__DIGITRIGHT.value=t[1],this._time?(this.__blink.set("off"),this.__BLINK.value=1):(this.__blink.set("on"),this._blink=0*Math.PI)}}},{key:"_update",value:function(time,t){var e=t.power,n=t.rotation;this._model.position.set(.18*-n.y,.32*n.x),this._offset.set(2.8*n.y+.15,5.5*n.x),this._set(59.99*e|0),this.__blink(time)}},{key:"__blinkOn",value:function(t){var dt=t.dt;this._blink+=dt,this.__BLINK.value=.5*(Math.sin(6.7*this._blink)+1)}},{key:"__blinkOff",value:function(){}}]),n}(o.i);function Zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var Jt=function(t){Object(l.a)(n,t);var e=Zt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.material,o=t.glow;this._design(e),this._material=this._model.material=n,this._glow=o,(o=this._add(new W.jb(new W.Cb(.33,.33),o))).position.z=.03,this._active=!1,this._activation=.76,this._brightness=0,this._material.opacity=this._activation,this._glow.opacity=this._brightness}},{key:"activate",value:function(){var t=this;this._active||(this._active=!0,f.a.killTweensOf(this,"_activation,_brightness"),f.a.to(this,{_activation:2.4,_brightness:.58,duration:.42,ease:"sine.inOut",onUpdate:function(){t._material.opacity=t._activation,t._glow.opacity=t._brightness}}))}},{key:"deactivate",value:function(){var t=this;this._active&&(this._active=!1,f.a.killTweensOf(this,"_activation,_brightness"),f.a.to(this,{_activation:.76,_brightness:0,duration:.39,ease:"sine.inOut",onUpdate:function(){t._material.opacity=t._activation,t._glow.opacity=t._brightness}}))}}]),n}(o.i);function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var te=function(t){Object(l.a)(n,t);var e=Qt(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=this,n=t.model,r=new W.kb({alphaMap:Object(o.p)().load.texture("textures/microwaver_light.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1}),color:16579834,transparent:!0}),c=new W.kb({map:Object(o.p)().load.texture("textures/microwaver_glow.png"),transparent:!0,depthWrite:!1});this._design(n,{_top:["light-top",function(t){return e._add(new Jt({model:t,material:r,glow:c}),e._model)}],_middle:["light-middle",function(t){return e._add(new Jt({model:t,material:r.clone(),glow:c.clone()}),e._model)}],_bottom:["light-bottom",function(t){return e._add(new Jt({model:t,material:r.clone(),glow:c.clone()}),e._model)}]}),this._light=-1}},{key:"_set",value:function(t){if(this._light!==t)switch(this._light=t,this._light){case 0:this._top.deactivate(),this._middle.deactivate(),this._bottom.activate();break;case 1:this._top.deactivate(),this._middle.activate(),this._bottom.activate();break;case 2:this._top.activate(),this._middle.activate(),this._bottom.activate();break;default:this._top.deactivate(),this._middle.deactivate(),this._bottom.deactivate()}}},{key:"_update",value:function(time,t){var e=t.activation;this._set((3*(e+.27)|0)-1)}}]),n}(o.i);function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var ie=function(t){Object(l.a)(n,t);var e=ee(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model,n=t.materials;this._design(e),this._model.material=n.body}},{key:"_update",value:function(time,t){var e=t.activation;this._model.rotation.y=-4.3*e}}]),n}(o.i);function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var ae=function(t){Object(l.a)(n,t);var e=ne(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=4.2;this._shadow=new W.kb({map:Object(o.p)().load.texture("textures/microwaver_shadow.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1}),transparent:!0}),this._add(new W.jb(new W.Cb(e,e),this._shadow)).position.y=.01,this._legs=new W.kb({map:Object(o.p)().load.texture("textures/microwaver_shadow_legs.png"),transparent:!0}),this._add(new W.jb(new W.Cb(e,e),this._legs)).position.y=.01,this.rotation.x=-.5*Math.PI}},{key:"_update",value:function(time,t){var e=t.altitude,n=t.tiltX,o=t.tiltY,r=t.strength,c=t.legs,l=.15*e;this.position.x=-n,this.position.z=o,this.scale.set(1+l,1+l,1),this._shadow.opacity=r-l,this._legs.opacity=c-4.42*e}}]),n}(o.i);function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var oe=function(t){Object(l.a)(n,t);var e=se(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_create",value:function(t){var e=t.model;this._setupModel(e),this._active=!1,this._activation=0,this._power=0,this._flames=0,this._up=!0,this._altitude=this._ALTITUDE=31.2,this._lift=0,this._shadowStrength=1,Object(o.s)(this,"_update",{sky:this.__skyUpdate,ground:this.__groundUpdate}),Object(o.s)(this,"__updateShadow",{attached:this.__attachedShadowUpdate,detached:this.__detachedShadowUpdate})}},{key:"_setupModel",value:function(t){var e=this,n={body:this._material("textures/materials/microwaver_body.png"),chrome:this._material("textures/materials/microwaver_chrome.png"),glass:this._material("textures/materials/microwaver_glass.png")};this._design(t,{_body:["body",function(t){return e._add(new Ut({model:t,materials:n}),e._model)}],_door:["door",function(t){return e._add(new Ht({model:t,materials:n}),e._model)}],_vents:["vents",function(t){return e._add(new Gt({model:t,materials:n}),e._model)}],_antenna:["antenna",function(t){return e._add(new Vt({model:t,materials:n}),e._model)}],_display:["display",function(t){return e._add(new $t({model:t,materials:n}),e._model)}],_lights:["lights",function(t){return e._add(new te({model:t}),e._model)}],_knob:["knob",function(t){return e._add(new ie({model:t,materials:n}),e._model)}],_marker:"marker",_inside:"inside"}),this._marker.material=new W.kb({map:Object(o.p)().load.texture("textures/microwaver_marker.png",{minFilter:W.rb,magFilter:W.rb,generateMipmaps:!1,flipY:!1}),transparent:!0,opacity:.86}),this._inside.material=new W.kb({color:16579834,side:W.A}),this._inner=this._add(this._container(this._model)),this._outer=this._add(this._container(this._inner)),this._shadow=this._add(new ae),this._rotation=0}},{key:"_material",value:function(source){return new W.mb({matcap:Object(o.p)().load.texture(source)})}},{key:"setupScreen",value:function(t){this._door.setupScreen(t)}},{key:"activate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.7,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._active||(this._active=!0,f.a.killTweensOf(this,"_activation,_power,_flames"),f.a.to(this,{_activation:1,_power:1,duration:t,ease:"quart.out"}),e?f.a.to(this,{_flames:1,duration:.45,ease:"elastic.out",delay:.32}):f.a.to(this,{_flames:1,duration:t,ease:"quart.out"}))}},{key:"deactivate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2.43;this._active&&(this._active=!1,this._flames=Math.min(this._flames,1),f.a.killTweensOf(this,"_activation,_power,_flames"),f.a.to(this,{_activation:0,duration:1.15,ease:"back.inOut"}),f.a.to(this,{_power:0,_flames:0,duration:t,ease:"cubic.inOut"}))}},{key:"hover",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._up||(f.a.killTweensOf(this,"_altitude"),f.a.to(this,{_altitude:.8,duration:.6,ease:"expo.in",onComplete:function(){f.a.to(t,{_altitude:1.5,duration:.77,ease:"cubic.out",onComplete:e})}}))}},{key:"ground",value:function(t){this._up||(f.a.killTweensOf(this,"_altitude"),f.a.to(this,{duration:1.9,_altitude:0,ease:"quint.inOut",delay:t}))}},{key:"launch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this._up||(this._up=!0,f.a.killTweensOf(this,"_altitude"),f.a.to(this,{_altitude:1.25,duration:2.15,ease:"back.inOut",onComplete:function(){e(),f.a.to(t,{_altitude:t._ALTITUDE,duration:1.8,ease:"back.out",onComplete:n})}}))}},{key:"land",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._up&&(this._up=!1,f.a.killTweensOf(this,"_altitude"),f.a.to(this,{_altitude:0,duration:3,ease:"back.in",onComplete:t}))}},{key:"skyMode",value:function(){this._update.set("sky")}},{key:"groundMode",value:function(){this._update.set("ground")}},{key:"attachShadow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._shadowStrength=t,this.__updateShadow.set("attached")}},{key:"detachShadow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._shadowStrength=t,this._shadow.position.y=0,this.__updateShadow.set("detached")}},{key:"showScreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._door.showScreen(t)}},{key:"hideScreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._door.hideScreen(t)}},{key:"activateScreen",value:function(){this._door.activateScreen()}},{key:"deactivateScreen",value:function(){this._door.deactivateScreen()}},{key:"__skyUpdate",value:function(time,t){var e=t.lift,n=void 0===e?0:e,o=t.tiltX,r=void 0===o?0:o,c=t.tiltY,l=void 0===c?0:c,h=t.door,_=void 0===h?0:h,f=t.vents,d=void 0===f?0:f,v=t.antenna,m=void 0===v?0:v,y=t.display,w=void 0===y?0:y,k=t.lights,O=void 0===k?0:k,x=t.knob,j=void 0===x?0:x;this._outer.position.y=n,this._outer.rotation.x=l,this._inner.rotation.z=r,this.__updateShadow(time,n,r,l),this._rotation=this._getRotation(),this._door.update(time,{open:_,rotation:this._rotation}),this._vents.update(time,{power:d}),this._antenna.update(time,{power:m}),this._display.update(time,{power:w,rotation:this._rotation}),this._lights.update(time,{activation:O}),this._knob.update(time,{activation:j})}},{key:"__groundUpdate",value:function(time,t){var e=t.lift,n=void 0===e?0:e,o=t.tiltX,r=void 0===o?0:o,c=t.tiltY,l=void 0===c?0:c,h=t.open,_=void 0===h?0:h;this._lift+=.13*(n-this._lift),this._outer.position.y=this._altitude+n,this._outer.rotation.x=l,this._inner.rotation.z=r,this.__updateShadow(time,n,r,l);var f=this._activation,d=this._power;this._rotation=this._getRotation(),this._door.update(time,{open:_,rotation:this._rotation}),this._vents.update(time,{power:d}),this._antenna.update(time,{power:d}),this._display.update(time,{power:d,rotation:this._rotation}),this._lights.update(time,{activation:f}),this._knob.update(time,{activation:f})}},{key:"_getRotation",value:function(){var t=new W.Ib;return this._inner.getWorldQuaternion(t)}},{key:"__detachedShadowUpdate",value:function(time,t,e,n){this._shadow.update(time,{altitude:this._altitude+t,tiltX:e,tiltY:n,strength:this._shadowStrength,legs:1})}},{key:"__attachedShadowUpdate",value:function(time,t,e,n){this._shadow.update(time,{altitude:t,tiltX:e,tiltY:n,strength:this._shadowStrength,legs:1.9})}},{key:"inner",get:function(){return this._inner}},{key:"getRotation",value:function(){return this._rotation}},{key:"activation",get:function(){return this._activation}},{key:"power",get:function(){return this._power}},{key:"flames",get:function(){return this._flames}},{key:"lift",get:function(){return this._lift}}]),n}(o.i);function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var ce=function(t){Object(l.a)(n,t);var e=re(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setupCamera",value:function(t){var e=new Ft(.05,40,{fov:70});return e.setup(),this._cameraContainer=this._add(this._container(e)),this._cameraContainer.position.y=1.8,this._cameraContainer.rotation.x=-.12,e}},{key:"_setupEffects",value:function(t){var e=t.isTouch;return[this._flames=new tt,this._tv=new it(this._camera,e)]}},{key:"_create",value:function(t){var e=t.isTouch;this._isTouch=e,this._touch=Object(o.p)().touch,this._WHITE=new W.o(16579834),this._BLACK=new W.o(1710618),this.background=this._BLACK,this._grid=this._add(new pt({width:100,height:20})),this._grid.position.z=this._camera.position.z,this._logo=this._add(new Bt({camera:this._camera})),this._logo.position.z=-2,this._active=!1}},{key:"setup",value:function(t,e){this._microwaver=this._add(new oe({model:t})),this._setupUI(e),this._setupStages()}},{key:"_setupUI",value:function(t){var e=this;this._ui=t,this._ui.scores.setup(this._camera,this._microwaver),this._ui.nav.on("new",(function(){return e._onNewGameClick()})),this._ui.nav.on("continue",(function(){return e._onContinueClick()})),this._ui.nav.on("leaderboards",(function(){return e._onLeaderboardsClick()})),this._ui.nav.on("sound",(function(){return e._onSoundClick()}))}},{key:"_setupStages",value:function(){var t=this;this._stages={},Object.entries({intro:ot,menu:ut,game:zt,leaderboards:It}).forEach((function(e){(e=t._stages[e[0]]=t["__".concat(e[0])]=t._add(new e[1]({ID:e[0],scene:t,camera:t._camera,grid:t._grid,logo:t._logo,microwaver:t._microwaver,flames:t._flames,tv:t._tv,ui:t._ui,isTouch:t._isTouch}))).on("menu",(function(){t._stages.game.player&&t._stages.game.player.alive?t._ui.nav.activateContinue(t._stages.game.player.wave):t._ui.nav.deactivateContinue(),t._toStage("menu")}))})),this._stages.intro.stages=this._stages.menu.stages=this._stages.leaderboards.stages=this._stages.game.stages=this._stages.leaderboards.stages=this._stages,Object(o.s)(this,"_stage",this._stages)}},{key:"start",value:function(){this._stage.enter()}},{key:"_resize",value:function(t,e){var n=Math.max(Object(o.p)().visibleHeight/Object(o.p)().visibleWidth,1),r={offset:1===n?0:n};this._logo.resize(t,e,r),this._grid.resize(t,e,r),this._stages&&Object.values(this._stages).forEach((function(n){return n.resize(t,e,r)})),this._ui&&this._ui.scores.resize(t,e,r)}},{key:"activate",value:function(){this._active||(this._active=!0,this._stage.activate(),this._ui.cursor.hide())}},{key:"deactivate",value:function(){this._active&&(this._active=!1,this._stage.deactivate())}},{key:"_toStage",value:function(t){var e=this;this._stage.inTransition||(this._stage.once("ready",(function(){var n=e._stage.ID;e._stage.set(t),e._prevStage=n,e._stage.once("ready",(function(){})),e._stage.enter(e._stages[n])})),this._stage.leave(this._stages[t]))}},{key:"_toggleSound",value:function(){Object(o.p)().pulse.muted?(Object(o.p)().pulse.unmute(),this._ui.nav.toggleSound(!0)):(Object(o.p)().pulse.mute(),this._ui.nav.toggleSound(!1))}},{key:"toWhite",value:function(){this.background=this._WHITE,this._grid.visible=!1}},{key:"toBlack",value:function(){this.background=this._BLACK,this._grid.visible=!0}},{key:"_update",value:function(time,t){var e=Math.random();this._stage.update(time,{random:e}),this._tv.update(time,{random:e,wave:.002*this._microwaver.lift,x:.009*this._touch.location.x,y:.006*-this._touch.location.y})}},{key:"_onNewGameClick",value:function(){this._ui.cursor.hide(),this._stages.game.newGame=!0,this._toStage("game")}},{key:"_onContinueClick",value:function(){this._ui.cursor.hide(),this._toStage("game")}},{key:"_onLeaderboardsClick",value:function(){this._ui.cursor.hide(),this._stages.leaderboards.load(),this._toStage("leaderboards")}},{key:"_onSoundClick",value:function(){this._toggleSound()}}]),n}(o.j);function ue(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function le(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ue(Object(source),!0).forEach((function(e){Object(J.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ue(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var _e=function(t){Object(l.a)(n,t);var e=he(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"_setupPillow",value:function(t,e){return le(le({},Object(A.a)(Object(_.a)(n.prototype),"_setupPillow",this).call(this,t,e)),{},{minAspectRatio:1.3,maxAspectRatio:2})}},{key:"_setupRenderer",value:function(t,e,n){}},{key:"_setupModules",value:function(t,e){return[].concat(Object(Z.a)(Object(A.a)(Object(_.a)(n.prototype),"_setupModules",this).call(this,t,e)),[new o.m(.6)])}},{key:"_setupStory",value:function(t,e){return[new ce(e)]}}]),n}(o.g);function fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(_.a)(t);if(e){var r=Object(_.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var de=function(t){Object(l.a)(n,t);var e=fe(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"__config",value:function(){return _e}},{key:"_create",value:function(t){var e=this,n=t.isTouch,r=t.loader,c=t.info,cursor=t.cursor,l=t.back,nav=t.nav,h=t.game,_=t.scores;this._setupSoundFX(),this._ui=new $(r,c,cursor,l,nav,h,_,n),Object(o.p)().load.model("models/microwaver.glb",(function(t){t.scene.traverse((function(t){switch(t.name){case"microwaver":e._story.action((function(n,o){n.setup(t.clone(),e._ui)}))}}))})),this._touch=Object(o.p)().touch,this._ui.loader.once("loaded",(function(){return e._onLoaded()})),this._ui.loader.show()}},{key:"_setupSoundFX",value:function(){Object(o.p)().pulse.audio("up","audio/fx/up.mp3",{loop:!1,volume:.7}),Object(o.p)().pulse.audio("down","audio/fx/down.mp3",{loop:!1,volume:.6}),Object(o.p)().pulse.audio("coin","audio/fx/coin.mp3 ",{loop:!1,volume:.35}),Object(o.p)().pulse.audio("click","audio/fx/click.mp3",{loop:!1,volume:.67})}},{key:"_loadStart",value:function(t){}},{key:"_onLoaded",value:function(){this._prerender()}},{key:"_start",value:function(t){var e=this;this.resize(Object(o.p)().visibleWidth,Object(o.p)().visibleHeight,Object(o.p)().pixelRatio),this._ui.loader.once("started",(function(){return e._onStarted()})),this._ui.loader.toStart()}},{key:"_onStarted",value:function(){var t=this;this._ui.loader.hide(),this._story.scene.start(),this._touch.on("down",(function(){return t._down()})),this._touch.on("up",(function(){return t._up()}))}},{key:"_loadComplete",value:function(t){}},{key:"_loader",value:function(t){t.ft;this._ui.loader.update()}},{key:"_update",value:function(t){var e=t.ft;this._touch.spring(.158*e,.58)}},{key:"_down",value:function(){this._story.scene.activate()}},{key:"_up",value:function(){this._story.scene.deactivate()}},{key:"_cursor",value:function(cursor){Object(o.p)().element.style.cursor=cursor}}]),n}(o.l),ve={mounted:function(){},beforeUnmount:function(){this.stop()},methods:{onUIMounted:function(){this.setup(),this.resize(),this.start()},setup:function(){var t=this.$refs.ui.$el;this.microwaver=new de(this.$refs.microwaver,{path:void 0,isTouch:this.$device.isMobileOrTablet,loader:t.querySelector("#loader"),info:t.querySelector("#info"),cursor:t.querySelector("#cursor"),back:t.querySelector("#back"),nav:t.querySelector("#nav"),game:t.querySelector("#game"),scores:t.querySelector("#scores")}),window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize)},resize:function(){this.microwaver.resize(window.innerWidth,window.innerHeight,window.devicePixelRatio),document.documentElement.style.setProperty("--vh","".concat(.01*window.innerHeight,"px"))},start:function(){this.stop=Object(o.r)(this.update)},update:function(dt,t){this.microwaver.update(.001*dt)}}},pe=n(40),component=Object(pe.a)(ve,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"microwaver",staticClass:"microwaver"}),t._v(" "),n("MicrowaverUI",{ref:"ui",on:{mounted:t.onUIMounted}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{MicrowaverUI:n(237).default})}}]);
//# sourceMappingURL=9f973a0.js.map