(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{666:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(8),n(13);var r=n(1),o=n(2),l=n(5),h=n(4),c=n(7),m=n(3),d=n(9),f=n(0),_=n(704);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(e){Object(h.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._useDpr=e.useDpr,this._useBloomMapRenderer=void 0===e.useBloomMapRenderer||e.useBloomMapRenderer,this._renderTarget=this._createRenderTarget(),this._mesh=this._createMesh(),this._isWebgl2=!1,!this._isWebgl2&&this._useBloomMapRenderer&&(this._bloomMapRenderer=this._createBloomMapRenderer())}},{key:"destroy",value:function(){var e;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._renderTarget.dispose(),null===(e=this._bloomMapRenderer)||void 0===e||e.destroy()}},{key:"texture",get:function(){return this._renderTarget.texture}},{key:"render",value:function(e,t){var n;return n=this._bloomMapRenderer?this._bloomMapRenderer.render(e,t):this._renderTarget.texture[1],this.$renderer.setRenderTarget(this._renderTarget),this.$renderer.setClearAlpha(0),this.$renderer.clear(),this.$renderer.render(e,t),{map:this._renderTarget.texture[0]||this._renderTarget.texture,bloomMap:n}}},{key:"_createRenderTarget",value:function(){var e=this._isWebgl2?new f.WebGLMultipleRenderTargets(0,0,2):new f.WebGLRenderTarget(0,0);return e.texture.format=f.RGBAFormat,e.texture.minFilter=f.LinearFilter,e.texture.magFilter=f.LinearFilter,e.texture.generateMipmaps=!1,e}},{key:"_createBloomMapRenderer",value:function(){return new _.a(0,0)}},{key:"_createMesh",value:function(){var e=new f.BufferGeometry;e.setAttribute("position",new f.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),e.setAttribute("uv",new f.Float32BufferAttribute([0,2,0,0,2,0],2));var t=new f.MeshBasicMaterial({color:16711935}),n=new f.Mesh(e,t);return this.add(n),n}},{key:"onWindowResize",value:function(e){this._resizeRenderTarget(e)}},{key:"_resizeRenderTarget",value:function(e){var t,n=e.renderWidth,r=e.renderHeight,o=e.dpr,l=this._useDpr?n*o:n,h=this._useDpr?r*o:r;this._renderTarget.setSize(l,h),null===(t=this._bloomMapRenderer)||void 0===t||t.setSize(l,h)}}]),n}(Object(d.a)(f.Object3D))},704:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n(8),n(13);var r=n(1),o=n(2),l=n(5),h=n(4),c=n(7),m=n(3),d=n(9),f=n(0);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e){Object(h.a)(n,e);var t=_(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){this._width=null,this._height=null,this._renderTarget=this._createRenderTarget()}},{key:"renderTarget",get:function(){return this._renderTarget}},{key:"texture",get:function(){return this._renderTarget.texture}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._renderTarget.dispose()}},{key:"setSize",value:function(e,t){this._width=e,this._height=t,this._renderTarget.setSize(this._width,this._height)}},{key:"render",value:function(e,t){return this.$renderer.setRenderTarget(this._renderTarget),this.$renderer.setClearAlpha(0),this.$renderer.clear(),e.traverse((function(e){e.bloomMaterial&&(e.originalMaterial=e.material,e.material=e.bloomMaterial)})),this.$renderer.render(e,t),e.traverse((function(e){e.originalMaterial&&(e.material=e.originalMaterial)})),this._renderTarget.texture}},{key:"_createRenderTarget",value:function(){return new f.WebGLRenderTarget(this._width,this._height)}}]),n}(Object(d.a)())},707:function(e,t,n){"use strict";n(8),n(13);var r=n(1),o=n(2),l=n(5),h=n(4),c=n(7),m=n(3),d=(n(28),n(93),n(9)),f=n(0),_=n(16),v=n(6);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var S=function(e){Object(h.a)(n,e);var t=y(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._useDpr=e.useDpr,this._renderTarget=this._createRenderTarget(),this._mesh=this._createMesh()}},{key:"texture",get:function(){return this._renderTarget.texture}},{key:"render",value:function(e,t){return this.$renderer.setRenderTarget(null),this.$renderer.render(e,t),{map:this._renderTarget.texture}}},{key:"_createRenderTarget",value:function(){var e=new f.WebGLRenderTarget(0,0);return e.texture.format=f.RGBAFormat,e.texture.minFilter=f.LinearFilter,e.texture.magFilter=f.LinearFilter,e.texture.generateMipmaps=!1,e}},{key:"_createMesh",value:function(){var e=new f.BufferGeometry;e.setAttribute("position",new f.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),e.setAttribute("uv",new f.Float32BufferAttribute([0,2,0,0,2,0],2));var t=new f.MeshBasicMaterial({color:16711935}),n=new f.Mesh(e,t);return this.add(n),n}},{key:"onWindowResize",value:function(e){this._resizeRenderTarget(e)}},{key:"_resizeRenderTarget",value:function(e){var t=e.renderWidth,n=e.renderHeight,r=e.dpr,o=this._useDpr?t*r:t,l=this._useDpr?n*r:n;this._renderTarget.setSize(o,l)}}]),n}(Object(d.a)(f.Object3D)),k=n(666),x=(n(48),n(94),n(46),n(25),n(95),n(96),n(47),n(37)),O=n(391),w=(n(22),n(78),n(51),n(26),n(80),n(234),n(10)),P=n(232),z=n(198),j=n(17),M=n(87),T=n(90),C=n(45),D=n(704),R=(n(31),n(30),n(40),n(41),n(15)),B=n(688),L=(n(684),n(708)),I=n(667);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var W=function(e){Object(h.a)(n,e);var t=U(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,{vertexShader:"#define GLSLIFY 1\n// Varying\nvarying vec2 vUv;\n\nvoid main() {\n    // Output\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n    // Varying\n    vUv = uv;\n}\n",fragmentShader:"#define GLSLIFY 1\n// Varying\nvarying vec2 vUv;\n\n// Uniforms\nuniform sampler2D uTexture;\nuniform float uOffset;\n\nvoid main() {\n    // UV\n    vec2 uv = vUv;\n    uv.x += uOffset;\n\n    // Color\n    vec4 color = texture2D(uTexture, uv);\n\n    // Output\n    gl_FragColor = color;\n}\n",uniforms:{uTexture:{value:null},uOffset:{value:0}}}))._texture=e,o.needsSwap=!1,o.type="TexturePass",o}return Object(o.a)(n,[{key:"offset",get:function(){return this.material.uniforms.uOffset.value},set:function(e){this.material.uniforms.uOffset.value=e}},{key:"render",value:function(e,t,n){var r=e.autoClear;e.autoClear=!1,this.material.uniforms.uTexture.value=this._texture,this.fsQuad.material=this.material,e.setRenderTarget(n),this.fsQuad.render(e),e.autoClear=r}}]),n}(Object(d.a)(I.a)),A=n(151);function F(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var E={bloom:{enabled:!1,strength:0,radius:0,threshold:0},fxaa:{enabled:!0}},N=function(e){Object(h.a)(n,e);var t=G(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._debug=e.debug,this._layerIndex=e.layerIndex,this._sceneRenderTarget=e.sceneRenderTarget,this._dpr=A.a.dpr(),this._debug=this._createDebug(),this._renderTarget=this._createRenderTarget(),this._composer=this._createComposer(),this._passes=this._createPasses()}},{key:"composer",get:function(){return this._composer}},{key:"passes",get:function(){return this._passes}},{key:"loadSettings",value:function(e){e=H(H({},E),e),this._passes.bloom.enabled=e.bloom.enabled,this._passes.bloom.strength=e.bloom.strength,this._passes.bloom.radius=e.bloom.radius,this._passes.bloom.threshold=e.bloom.threshold,this._passes.bloom.smoothWidth=e.bloom.smoothWidth}},{key:"_createRenderTarget",value:function(){var e=new f.WebGLRenderTarget(0,0);return e.depthBuffer=!1,e.texture.format=f.RGBAFormat,e.texture.minFilter=f.LinearFilter,e.texture.magFilter=f.LinearFilter,e.texture.generateMipmaps=!1,e.scissorTest=!0,e}},{key:"_createComposer",value:function(){var e=new B.a(this.$renderer,this._renderTarget);return e.renderToScreen=!1,e.renderTarget2.scissorTest=!0,e}},{key:"_createPasses",value:function(){var e={};return e.sceneTexture=this._createSceneTexturePass(),e.bloom=this._createBloomPass(),e}},{key:"_createSceneTexturePass",value:function(){var e=new W(this._sceneRenderTarget.texture);return this._composer.addPass(e),e}},{key:"_createBloomPass",value:function(){var e=new L.a({type:L.b,dpr:A.a.dpr()});e.enabled=!1,e.renderTargetBright.scissorTest=!0;for(var i=0,t=e.renderTargetsBlur.horizontal.length;i<t;i++)e.renderTargetsBlur.horizontal[i].scissorTest=!0;for(var n=0,r=e.renderTargetsBlur.vertical.length;n<r;n++)e.renderTargetsBlur.vertical[n].scissorTest=!0;if(this._composer.addPass(e),this._debug){var o=this._debug.addGroup("Bloom");o.add(e,"enabled",{listen:!0}),o.add(e,"strength",{listen:!0}),o.add(e,"radius",{listen:!0}),o.add(e,"threshold")}return e}},{key:"update",value:function(e){var t=e.left,n=e.bottom,r=e.width,o=e.height,l=e.bottomPercentage,h=void 0===l?0:l,c=e.heightPercentage,m=void 0===c?1:c;this._composer.renderTarget1.scissor.set(t,n,r,o),this._composer.renderTarget2.scissor.set(t,n,r,o);var d,f,_,v,y=this._passes.bloom.renderTargetBright.height*h,S=this._passes.bloom.renderTargetBright.height*m;this._passes.bloom.renderTargetBright.scissor.set(t/this._dpr,y/this._dpr,r/this._dpr,S/this._dpr);for(var i=0,k=this._passes.bloom.renderTargetsBlur.horizontal.length;i<k;i++)d=this._passes.bloom.renderTargetsBlur.horizontal[i].height*h,f=this._passes.bloom.renderTargetsBlur.horizontal[i].height*m,this._passes.bloom.renderTargetsBlur.horizontal[i].scissor.set(t/this._dpr,d/this._dpr,r/this._dpr,f/this._dpr);for(var x=0,O=this._passes.bloom.renderTargetsBlur.vertical.length;x<O;x++)_=this._passes.bloom.renderTargetsBlur.vertical[x].height*h,v=this._passes.bloom.renderTargetsBlur.vertical[x].height*m,this._passes.bloom.renderTargetsBlur.vertical[x].scissor.set(t/this._dpr,_/this._dpr,r/this._dpr,v/this._dpr)}},{key:"render",value:function(e,t){this.$renderer.setRenderTarget(this._composer.renderTarget1),this.$renderer.setScissor(0,0,this._renderWidth/this._dpr,this._renderHeight/this._dpr),this.$renderer.clear(),this.$renderer.setRenderTarget(this._composer.renderTarget2),this.$renderer.setScissor(0,0,this._renderWidth/this._dpr,this._renderHeight/this._dpr),this.$renderer.clear(),this._passes.bloom.enabled&&(this._passes.bloom.scene=e,this._passes.bloom.camera=t),this._composer.render()}},{key:"onWindowResize",value:function(e){this._renderWidth=e.renderWidth,this._renderHeight=e.renderHeight,this._resizeComposer()}},{key:"_resizeFXAAPass",value:function(){var e=1/this._renderWidth,t=1/this._renderHeight;this._passes.fxaa.uniforms.resolution.value.set(e,t)}},{key:"_resizeComposer",value:function(){this._composer.setSize(this._renderWidth,this._renderHeight)}},{key:"_createDebug",value:function(){if(this._debug)return this._debug.addGroup("Post processing layer #"+this._layerIndex)}}]),n}(Object(d.a)()),V=n(413),$="// Name\n#define SHADER_NAME SectionComposite\n\n// Precision\nprecision highp float;\nprecision highp int;\n#define GLSLIFY 1\n\n// Uniforms\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\n// Attributes\nattribute vec3 position;\nattribute vec2 uv;\n\n// Varyings\nvarying vec2 vUv;\n\nvoid main() {\n    // Output\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n    // Varyings\n    vUv = uv;\n}\n",J="// Name\n#define SHADER_NAME SectionComposite\n\n// Precision\nprecision highp float;\nprecision highp int;\n#define GLSLIFY 1\n\n// Uniforms\nuniform sampler2D uLayer1;\nuniform sampler2D uLayer2;\nuniform float uProgress;\nuniform float uFadeProgress;\n\n// Varyings\nvarying vec2 vUv;\n\n// Utils\nfloat mapRange(float value, float inMin, float inMax, float outMin, float outMax) {\n    return outMin + (value - inMin) * (outMax - outMin) / (inMax - inMin);\n}\n\nvoid main() {\n    // Layers\n    vec4 layer1 = texture2D(uLayer1, vUv);\n    vec4 layer2 = texture2D(uLayer2, vUv);\n\n    // Combine\n    vec4 fadeColor = vec4(0.0, 0.0, 0.0, 1.0);\n    vec4 layer1Color = mix(layer1, fadeColor, clamp(mapRange(uProgress, 0.5, 1.0, 0.0, 0.7), 0.0, 1.0));\n    vec4 layer2Color = mix(layer2, fadeColor, clamp(mapRange(uProgress, 0.0, 0.5, 0.7, 0.0), 0.0, 1.0));\n    vec4 color = mix(layer1Color, layer2Color, step(vUv.y, uProgress));\n\n    // Fade\n    color = mix(vec4(0.0, 0.0, 0.0, 1.0), color, uFadeProgress);\n\n    // Output\n    gl_FragColor = color;\n}\n";function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Q=function(e){Object(h.a)(n,e);var t=Y(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)(this,n),(e=t.call(this)).uniforms={uLayer1:{value:o.layer1},uLayer2:{value:o.layer2},uProgress:{value:0},uFadeProgress:{value:1}},e.vertexShader=$,e.fragmentShader=J,e}return Object(o.a)(n)}(f.RawShaderMaterial),X="// Precision\nprecision highp float;\nprecision highp int;\n#define GLSLIFY 1\n\n// GLSL1 to GLSL3\n#ifdef WEBGL2\n    #define attribute in\n    #define varying out\n#endif\n\n// Uniforms\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\n// Attributes\nattribute vec3 position;\nattribute vec2 uv;\n\n// Varyings\nvarying vec2 vUv;\n\nvoid main() {\n    // Output\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n    // Varyings\n    vUv = uv;\n}\n",K="// Precision\nprecision highp float;\nprecision highp int;\n#define GLSLIFY 1\n\n// GLSL1 to GLSL3\n#ifdef WEBGL2\n    #define varying in\n    #define texture2D texture\n#endif\n\n// Outputs\n#ifdef WEBGL2\n    layout(location = 0) out vec4 gColor0;\n    layout(location = 1) out vec4 gColor1;\n#else\n    vec4 gColor0 = vec4(0.0);\n    vec4 gColor1 = vec4(0.0);\n#endif\n\n// Uniforms\nuniform sampler2D uLayer1;\nuniform sampler2D uLayer2;\nuniform sampler2D uBloomLayer1;\nuniform sampler2D uBloomLayer2;\nuniform float uProgress;\nuniform float uFadeProgress;\n\n// Varyings\nvarying vec2 vUv;\n\n// Utils\nfloat mapRange(float value, float inMin, float inMax, float outMin, float outMax) {\n    return outMin + (value - inMin) * (outMax - outMin) / (inMax - inMin);\n}\n\nvoid main() {\n    vec4 layer1 = texture2D(uLayer1, vUv);\n    vec4 layer2 = texture2D(uLayer2, vUv);\n\n    vec4 bloomLayer1 = texture2D(uBloomLayer1, vUv);\n    vec4 bloomLayer2 = texture2D(uBloomLayer2, vUv);\n\n    vec4 fadeColor = vec4(0.0, 0.0, 0.0, 1.0);\n\n    vec4 layer1Color = mix(layer1, fadeColor, mapRange(uProgress, 0.5, 1.0, 0.0, 0.7));\n    vec4 layer2Color = mix(layer2, fadeColor, mapRange(uProgress, 0.0, 0.5, 0.7, 0.0));\n\n    vec4 bloomLayer1Color = mix(bloomLayer1, fadeColor, mapRange(uProgress, 0.5, 1.0, 0.0, 0.7));\n    vec4 bloomLayer2Color = mix(bloomLayer2, fadeColor, mapRange(uProgress, 0.0, 0.5, 0.7, 0.0));\n\n    vec4 color0 = mix(layer1Color, layer2Color, step(vUv.y, uProgress));\n    vec4 color1 = mix(bloomLayer1Color, bloomLayer2Color, step(vUv.y, uProgress));\n\n    // Fade\n    color0 = mix(vec4(0.0, 0.0, 0.0, 1.0), color0, uFadeProgress);\n\n    gColor0 = color0;\n    gColor1 = color1;\n\n    // Output gColor0 if WebGL2 is not supported\n    #ifndef WEBGL2\n        gl_FragColor = gColor0;\n    #endif\n}\n";function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ee=function(e){Object(h.a)(n,e);var t=Z(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)(this,n),(e=t.call(this,{glslVersion:o.isWebGL2?f.GLSL3:f.GLSL1,defines:{WEBGL2:o.isWebGL2}})).uniforms={uLayer1:{value:o.layer1},uLayer2:{value:o.layer2},uBloomLayer1:{value:o.bloomLayer1},uBloomLayer2:{value:o.bloomLayer2},uProgress:{value:0},uFadeProgress:{value:1}},e.vertexShader=X,e.fragmentShader=K,e.type="CompositeMaterialUI",e}return Object(o.a)(n)}(f.RawShaderMaterial);function te(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){h=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ne=function(e){Object(h.a)(n,e);var t=se(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=e.isMenuOpen,this._friction=.2162,this._attraction=.0088,this._scrollSpeed=2.2,this._damping=.1,this._scissor={enabled:!0},this._renderWidth=null,this._renderHeight=null,this._dpr=null,this._isScrollAllowed=!1,this._scrollValues=[],this._previousTime=0,this._velocity=0,this._previousScrollDest=0,this._scrollDest=0,this._slug=null,this._scrollProgress={current:0,target:0},this._activeIndex=0,this._bloomMapUI=new f.Texture,this._currentSection=0,this._nextSection=0,this._direction=1,this._sectionsData=this._mapSectionsData(V.default),this._debug=this._createDebug(),this._renderTargets3D=this._createRenderTargets3D(),this._renderTargetsUI=this._createRenderTargetsUI(),this.$root.isWebGL2()||(this._bloomMapUIRenderer=this._createBloomMapUIRenderer()),this._quad3D=this._createQuad3D(),this._quadUI=this._createQuadUI(),this._sections=this._createSections(),this._dragManager=this._createDragManager(),this._scrollManager=this._createScrollManager(),this._layers=this._createLayers(),this._bindHandlers(),this._setupEventListeners(),C.a.createSectionTracks()}},{key:"destroy",value:function(){var e,t,r;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroySections(),this._removeDebugLayers(),this._removeEventListeners(),null===(e=this._bloomMapUIRenderer)||void 0===e||e.destroy(),null===(t=this._timelineFadeIn)||void 0===t||t.kill(),null===(r=this._timelineHide)||void 0===r||r.kill()}},{key:"quad3D",get:function(){return this._quad3D}},{key:"quadUI",get:function(){return this._quadUI}},{key:"activeSection",get:function(){return this._sections[this._activeIndex]}},{key:"activeIndex",get:function(){return this._activeIndex}},{key:"isScrollAllowed",get:function(){return this._isScrollAllowed},set:function(e){this._isScrollAllowed=e}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e;for(var i=0;i<this._sections.length;i++)this._sections[i].instance.isMenuOpen=e}},{key:"bloomMapUI",get:function(){return this._bloomMapUI}},{key:"prepare",value:function(){this._prepareSections(),this._prepareLayers()}},{key:"show",value:function(){this.$store.dispatch("section/setCurrent",this._slug||"card")}},{key:"hide",value:function(e){return this._timelineHide=new v.b.timeline,e?(this._timelineHide.set(this._quad3D,{visible:!1},0),this._timelineHide.set(this._quadUI,{visible:!1},0)):(this._timelineHide.fromTo(this._quad3D.material.uniforms.uFadeProgress,1.2,{value:1},{value:0,ease:"sine.inOut"},0),this._timelineHide.fromTo(this._quadUI.material.uniforms.uFadeProgress,1.2,{value:1},{value:0,ease:"sine.inOut"},0),this._timelineHide.set(this._quad3D,{visible:!1},1.2),this._timelineHide.set(this._quadUI,{visible:!1},1.2)),this._timelineHide}},{key:"gotoSection",value:function(section){var e="number"==typeof parseInt(section)?parseInt(section):null;if(isNaN(e)){var t=section.toLowerCase();e=this._getSectionIndexFromSlug(t)}return this._slug=this._sectionsData[e].slug,this._scrollProgress.current=e,this._scrollProgress.target=e,this._scrollDest=e,w.a&&w.a.gotoLayer(V.default[e].name),this._sections[e]}},{key:"getSectionBySlug",value:function(e){var t=this._getSectionIndexFromSlug(e);return this._sections[t]}},{key:"fadeIn",value:function(){return this._timelineFadeIn=new v.b.timeline,this._timelineFadeIn.fromTo(this._quad3D.material.uniforms.uFadeProgress,2,{value:0},{value:1,ease:"sine.inOut"},0),this._timelineFadeIn.fromTo(this._quadUI.material.uniforms.uFadeProgress,2,{value:0},{value:1,ease:"sine.inOut"},0),this._timelineFadeIn}},{key:"reset",value:function(){for(var i=0,e=this._sections.length;i<e;i++)this._sections[i].instance.reset()}},{key:"_bindHandlers",value:function(){this._scrollHandler=this._scrollHandler.bind(this),this._dragMoveHandler=this._dragMoveHandler.bind(this),this._dragEndHandler=this._dragEndHandler.bind(this),this._keyDownHandler=this._keyDownHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._scrollManager.addEventListener("scroll",this._scrollHandler),this._dragManager.addEventListener("drag:move",this._dragMoveHandler),this._dragManager.addEventListener("drag:end",this._dragEndHandler),window.addEventListener("keydown",this._keyDownHandler)}},{key:"_removeEventListeners",value:function(){this._scrollManager.removeEventListener("scroll",this._scrollHandler),this._dragManager.removeEventListener("drag",this._dragMoveHandler),this._dragManager.removeEventListener("drag:end",this._dragEndHandler),window.removeEventListener("keydown",this._keyDownHandler)}},{key:"_mapSectionsData",value:function(data){for(var e=[],t=this._config.entry.fields.introduction.fields,n=this._config.entry.fields.sections,i=0;i<data.length;i++)for(var r=data[i],o=r.slug,l=0;l<n.length;l++){var h=n[l];o===h.fields.slug&&function(){var n=[t.title,t.subtitle,h.fields.title].concat(Object(O.a)(h.fields.textBlocks));(n=n.map((function(e){return"object"===Object(x.a)(e.fields)?e.fields.content:e}))).length<r.textBlocks.length&&(r.textBlocks.length=n.length),r.entry=h,r.textBlocks=r.textBlocks.map((function(e,t){return e.text=n[t],e})),e.push(r)}()}return e}},{key:"_createRenderTargets3D",value:function(){var e=this.$root.isWebGL2()&&T.a.isDesktop()?f.WebGLMultisampleRenderTarget:f.WebGLRenderTarget;T.a.isSafari()&&"15.4"===T.a.version&&(e=f.WebGLRenderTarget);var t=new e(0,0);t.name="renderTargetUI#1",t.texture.format=f.RGBAFormat,t.texture.minFilter=f.LinearFilter,t.texture.magFilter=f.LinearFilter,t.texture.generateMipmaps=!1,t.scissorTest=this._scissor.enabled;var n=t.clone();return n.name="renderTarget3D#2",n.scissorTest=this._scissor.enabled,[t,n]}},{key:"_createRenderTargetsUI",value:function(){var e=new f.WebGLRenderTarget(0,0);if(e.name="renderTargetUI#1",e.texture.length)for(var i=0;i<e.texture.length;i++)e.texture[i].format=f.RGBAFormat,e.texture[i].minFilter=f.LinearFilter,e.texture[i].magFilter=f.LinearFilter,e.texture[i].generateMipmaps=!1;else e.texture.format=f.RGBAFormat,e.texture.minFilter=f.LinearFilter,e.texture.magFilter=f.LinearFilter,e.texture.generateMipmaps=!1;e.scissorTest=this._scissor.enabled;var t=e.clone();return t.name="renderTargetUI#2",t.scissorTest=this._scissor.enabled,[e,t]}},{key:"_createBloomMapUIRenderer",value:function(){return new D.a}},{key:"_createQuad3D",value:function(){var e=new f.BufferGeometry;e.setAttribute("position",new f.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),e.setAttribute("uv",new f.Float32BufferAttribute([0,2,0,0,2,0],2));var t=new Q({layer1:void 0,layer2:void 0}),n=new f.Mesh(e,t);return n.visible=!1,n}},{key:"_createQuadUI",value:function(){var e=new f.BufferGeometry;e.setAttribute("position",new f.Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),e.setAttribute("uv",new f.Float32BufferAttribute([0,2,0,0,2,0],2));var t=new ee({isWebGL2:!1,layer1:this._renderTargetsUI[0].texture[0]||this._renderTargetsUI[0].texture,bloomLayer1:this._renderTargetsUI[0].texture[1],layer2:this._renderTargetsUI[1].texture[0]||this._renderTargetsUI[1].texture,bloomLayer2:this._renderTargetsUI[1].texture[1]}),n=new f.Mesh(e,t);return n.visible=!1,n}},{key:"_createSections",value:function(){var e,t=[],n=0,r=te(this._sectionsData);try{for(r.s();!(e=r.n()).done;){var section=e.value;if(w.a)w.a.addLayer(section.name,"Section").addGroup("Section").add(section.renderer,"clearColor");var o=new section.class({config:section,sectionManager:this});o.name=section.name,o.loadResources(),t.push({index:n,name:section.name,instance:o,config:section}),n++}}catch(e){r.e(e)}finally{r.f()}return null===w.a||void 0===w.a||w.a.gotoLayer("Dex"),t}},{key:"_prepareSections",value:function(){for(var i=0,e=this._sections.length;i<e;i++)"function"==typeof this._sections[i].instance.prepare&&this._sections[i].instance.prepare()}},{key:"_destroySections",value:function(){this._sections.forEach((function(e){"function"==typeof e.instance.destroy&&e.instance.destroy()}))}},{key:"_createDragManager",value:function(){return new P.a({el:window})}},{key:"_createScrollManager",value:function(){return new z.a}},{key:"_createLayers",value:function(){var e=window.location.hash.substring(1),t=this._getSectionIndexFromSlug(e)||0,n=(t+1)%this._sections.length;return this._scrollProgress.current=t,this._scrollProgress.target=t,this._scrollDest=t,[{section:this._sections[t],renderTarget3D:this._renderTargets3D[0],renderTargetUI:this._renderTargetsUI[0],postProcessing:new N({debug:this._debug,layerIndex:0,sceneRenderTarget:this._renderTargets3D[0]}),visible:!1},{section:this._sections[n],renderTarget3D:this._renderTargets3D[1],renderTargetUI:this._renderTargetsUI[1],postProcessing:new N({debug:this._debug,layerIndex:1,sceneRenderTarget:this._renderTargets3D[1]}),visible:!1}]}},{key:"_prepareLayers",value:function(){for(var i=0,e=this._layers.length;i<e;i++){var t=this._layers[i];t.postProcessing.loadSettings({bloom:{enabled:!0}}),t.postProcessing.render(t.section.instance.scene3D.scene,t.section.instance.scene3D.camera)}}},{key:"_getNextSection",value:function(e){var t=this._getSectionIndex(e)+1;return t%=this._sections.length,this._sections[t]}},{key:"_getPreviousSection",value:function(e){var t=this._getSectionIndex(e)-1;return t<0&&(t=this._sections.length-1),this._sections[t]}},{key:"_getSectionIndex",value:function(e){for(var i=0,t=this._sections.length;i<t;i++)if(this._sections[i].name===e)return i}},{key:"_getSectionIndexFromSlug",value:function(e){for(var i=0,t=this._sections.length;i<t;i++)if(this._sections[i].config.slug===e)return i}},{key:"_setScrollProgress",value:function(e){this._scrollProgress.target+=e/this._viewportHeight}},{key:"_gotoNextSection",value:function(){this._isAnimatingNext||this._animateNext()}},{key:"_gotoPreviousSection",value:function(){this._isAnimatingPrev||this._animatePrev()}},{key:"_animateNext",value:function(){var e,t=this;this._isDragging=!0,this._isAnimatingNext=!0,this._isAnimatingPrev=!1;var n=Math.round(this._scrollProgress.target+1);null===(e=this._navigationTween)||void 0===e||e.kill(),this._navigationTween=new v.b.timeline,this._navigationTween.to(this._scrollProgress,.7,{target:n,ease:"power1.inOut"}),this._navigationTween.call((function(){t._isAnimatingNext=!1}),null,.75)}},{key:"_animatePrev",value:function(){var e,t=this;this._isDragging=!0,this._isAnimatingPrev=!0,this._isAnimatingNext=!1;var n=Math.round(this._scrollProgress.target-1);null===(e=this._navigationTween)||void 0===e||e.kill(),this._navigationTween=new v.b.timeline,this._navigationTween.to(this._scrollProgress,.7,{target:n,ease:"power1.inOut"}),this._navigationTween.call((function(){t._isAnimatingPrev=!1}),null,.75)}},{key:"_updateSlug",value:function(e){e%=this._sections.length;var t=this._sections[e].config.slug;t!==this._slug&&(this._slug=t,this.$store.state.context.isProduction?(history.replaceState(null,null,"/".concat(this._slug)),this.$nuxt.$ga.page("/".concat(this._slug))):this.$nuxt.$router.replace({path:"/".concat(this._slug)}))}},{key:"update",value:function(e){var time=e.time,t=e.delta;this._updateScrollProgress(),this._updateLayers(),this._updateSections({time:time,delta:t}),this._updateSectionVisibility(),this._updateActiveSection(),this._render()}},{key:"_updateScrollProgress",value:function(){if(this._isDragging){var e=this._scrollProgress.target-this._scrollProgress.current-this._velocity;this._velocity+=e}else{var t=Math.round(this._scrollProgress.current);Math.abs(this._velocity)>.01&&(t=this._velocity>0?Math.ceil(this._scrollProgress.current):Math.floor(this._scrollProgress.current));var n=(t-this._scrollProgress.current)*this._attraction;this._velocity+=n}this._scrollProgress.current+=this._velocity,this._scrollProgress.target=this._scrollProgress.current,this._scrollDest=j.a.lerp(this._scrollDest,this._scrollProgress.current,this._damping),this._velocity*=1-this._friction,this._direction=Math.sign(this._scrollDest-this._previousScrollDest),this._previousScrollDest=this._scrollDest;var r=this._scrollDest%1;r<0&&(r=1- -r),this._quad3D.material.uniforms.uProgress.value=r,this._quadUI.material.uniforms.uProgress.value=r}},{key:"_updateLayers",value:function(){var e=M.a.modulo(Math.floor(this._scrollDest),this._sections.length),t=M.a.modulo(Math.floor(this._scrollDest+1),this._sections.length),n=this._sections[e],r=this._sections[t];if(this._currentSection!==n&&(this._currentSection=n,this._layers[0].postProcessing.loadSettings(this._currentSection.config.postProcessing)),this._nextSection!==r){this._nextSection=r,this._layers[1].postProcessing.loadSettings(this._nextSection.config.postProcessing);var o=M.a.modulo(this._direction>0?t:t-1,this._sections.length),l=this._sections[o];l.instance.setProgressStart&&l.instance.setProgressStart(this._direction)}var h=this._scrollDest%1;h<0&&(h=1- -h),n.instance.updateVisibilityProgress(-h),r.instance.updateVisibilityProgress(1-h);var c=h*this._renderHeight,m=c/this._renderHeight,d=this._renderWidth,f=this._renderHeight-c;this._layers[0].section=n,this._layers[0].visible=f>1,this._layers[0].renderTarget3D.scissor.set(0,c,d,f),this._layers[0].renderTargetUI.scissor.set(0*this._dpr,c*this._dpr,d*this._dpr,f*this._dpr),this._layers[0].postProcessing.update({left:0,bottom:c,width:d,height:f,bottomPercentage:m});var _=this._renderWidth,v=h*this._renderHeight,y=v/this._renderHeight;this._layers[1].section=r,this._layers[1].visible=v>1,this._layers[1].renderTarget3D.scissor.set(0,0,_,v),this._layers[1].renderTargetUI.scissor.set(0*this._dpr,0*this._dpr,_*this._dpr,v*this._dpr),this._layers[1].postProcessing.update({left:0,bottom:0,width:_,height:v,heightPercentage:y})}},{key:"_updateSectionVisibility",value:function(){for(var e,i=0,t=this._sections.length;i<t;i++)(e=this._sections[i])===this._layers[0].section?e.instance.visible=this._layers[0].visible:e===this._layers[1].section?e.instance.visible=this._layers[1].visible:e.instance.visible=!1}},{key:"_updateActiveSection",value:function(){var e=M.a.modulo(Math.round(this._scrollDest),this._sections.length);e!==this._activeIndex&&(this._sections[this._activeIndex].instance.active=!1,this._sections[e].instance.active=!0,this._activeIndex=e,this.$store.dispatch("section/setCurrent",this._sections[this._activeIndex].config.slug),this._updateSlug(e))}},{key:"_updateSections",value:function(e){for(var t,time=e.time,n=e.delta,i=0,r=this._layers.length;i<r;i++)(t=this._layers[i]).visible&&t.section.instance&&"function"==typeof t.section.instance.update&&t.section.instance.update({time:time,delta:n})}},{key:"_render",value:function(){for(var e,i=0,t=this._layers.length;i<t;i++){var n;if((e=this._layers[i]).visible)if(e.section.instance.scene3D&&(this.$renderer.setRenderTarget(e.renderTarget3D),this.$renderer.setClearColor(0,1),this.$renderer.clear(),this.$renderer.render(e.section.instance.scene3D.scene,e.section.instance.scene3D.camera),e.postProcessing.render(e.section.instance.scene3D.scene,e.section.instance.scene3D.camera),0===i?this._quad3D.material.uniforms.uLayer1.value=e.postProcessing.composer.readBuffer.texture:this._quad3D.material.uniforms.uLayer2.value=e.postProcessing.composer.readBuffer.texture),e.section.instance.sceneUI)this._bloomMapUI=null===(n=this._bloomMapUIRenderer)||void 0===n?void 0:n.render(e.section.instance.sceneUI.scene,e.section.instance.sceneUI.camera),this.$renderer.setRenderTarget(e.renderTargetUI),this.$renderer.setClearColor(0,0),this.$renderer.clear(),this.$renderer.render(e.section.instance.sceneUI.scene,e.section.instance.sceneUI.camera)}}},{key:"onWindowResize",value:function(e){this._viewportHeight=e.fullHeight,this._renderWidth=e.renderWidth,this._renderHeight=e.renderHeight,this._dpr=e.dpr,this._resizeRenderTargets(e),this._resizeBloomMapUIRenderer(e),this._resizeBloomMap3DRenderer(e)}},{key:"_resizeRenderTargets",value:function(e){var t=e.renderWidth,n=e.renderHeight,r=e.dpr;this._renderTargets3D[0].setSize(t,n),this._renderTargets3D[1].setSize(t,n),this._renderTargetsUI[0].setSize(t*r,n*r),this._renderTargetsUI[1].setSize(t*r,n*r)}},{key:"_resizeBloomMapUIRenderer",value:function(e){var t,n=e.renderWidth,r=e.renderHeight,o=e.dpr;null===(t=this._bloomMapUIRenderer)||void 0===t||t.setSize(n*o,r*o)}},{key:"_resizeBloomMap3DRenderer",value:function(e){var t,n=e.renderWidth,r=e.renderHeight,o=e.dpr;null===(t=this._bloomMap3DRenderer)||void 0===t||t.setSize(n*o,r*o)}},{key:"_scrollHandler",value:function(e){if(this._isScrollAllowed&&!(Math.abs(e.pixelX)>Math.abs(e.pixelY))){this._scrollValues.length>149&&this._scrollValues.shift(),this._scrollValues.push(Math.abs(e.pixelY));var t=(new Date).getTime(),n=t-this._previousTime;this._previousTime=t,n>200&&(this._scrollValues=[]);var r=M.a.average(this._scrollValues,10)>=M.a.average(this._scrollValues,70);Math.abs(e.pixelY)>0&&r&&(e.pixelY>0?this._gotoNextSection():this._gotoPreviousSection())}}},{key:"_dragMoveHandler",value:function(e){this._isScrollAllowed&&(this._isDragging=!0,e.yAxisLocked&&this._setScrollProgress(e.delta.y*this._scrollSpeed))}},{key:"_dragEndHandler",value:function(){this._isDragging=!1}},{key:"_keyDownHandler",value:function(e){if(this._isScrollAllowed)switch(e.code){case"Space":case"ArrowDown":this._animateNext();break;case"ArrowUp":this._animatePrev()}}},{key:"_createDebug",value:function(){var e=this;if(w.a){var t=w.a.addGroup("Section manager",{container:"Home"});t.add(this,"_scrollSpeed"),t.add(this,"_friction",{stepSize:1e-4}),t.add(this,"_attraction",{stepSize:1e-4}),t.add(this,"_damping",{stepSize:.001}),t.add(this,"_isScrollAllowed",{persistent:!0}),t.add(this._scissor,"enabled",{label:"Scissor",onChange:function(){e._renderTargets3D[0].scissorTest=e._scissor.enabled,e._renderTargets3D[1].scissorTest=e._scissor.enabled,e._renderTargetsUI[0].scissorTest=e._scissor.enabled,e._renderTargetsUI[1].scissorTest=e._scissor.enabled}});var n={index:0};return t.add(n,"index",{options:[0,1,2,3,4],onChange:function(){e.gotoSection(parseInt(n.index))}}),t}}},{key:"_removeDebugLayers",value:function(){if(w.a)for(var e,i=0,t=this._sections.length;i<t;i++)e=this._sections[i],w.a.removeLayer(e.name)}}]),n}(Object(d.a)());function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ae=function(e){Object(h.a)(n,e);var t=re(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=!1,this._resourceManager=this._createResourceManager(),this._layer3D=this._createLayer3D(),this._layerUI=this._createLayerUI(),this._scene3D=this._createScene(),this._sceneUI=this._createScene(),this._camera=this._createCamera(),this._sectionManager=this._createSectionManager()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._sectionManager)||void 0===e||e.destroy(),null===(t=this._timelineHide)||void 0===t||t.kill()}},{key:"texture",get:function(){return this._layer3D.texture}},{key:"sectionManager",get:function(){return this._sectionManager}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e,this._sectionManager&&(this._sectionManager.isMenuOpen=e)}},{key:"show",value:function(e){var t=this,n=this.$nuxt.getRouteBaseName(this.$nuxt.$route).split("-")[1]||"card";this._resourceManager.load().then((function(){if(n){var section=t._sectionManager.gotoSection(n);t._sectionManager._quad3D.visible=!0,t._sectionManager._quadUI.visible=!0,e?section.instance.transitionIn():t._sectionManager.fadeIn()}t._sectionManager.show()}))}},{key:"hide",value:function(e,t){return this._sectionManager.reset(),this._timelineHide=new v.b.timeline({onComplete:e}),"function"==typeof this._sectionManager.hide&&this._timelineHide.add(this._sectionManager.hide(t),0),this._timelineHide}},{key:"prepare",value:function(){this._sectionManager.prepare()}},{key:"_createResourceManager",value:function(){return new _.ResourceManager({namespace:"HomeView"})}},{key:"_createLayer3D",value:function(){return new S}},{key:"_createLayerUI",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!1})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCamera",value:function(){return new f.OrthographicCamera(-1,1,1,-1,0,1)}},{key:"_createSectionManager",value:function(){var e=new ne({isMenuOpen:this._isMenuOpen,config:this._config});return this._scene3D.add(e.quad3D),this._sceneUI.add(e.quadUI),e}},{key:"update",value:function(e){var t,time=e.time,n=e.delta;this.$root.renderView&&(null===(t=this._sectionManager)||void 0===t||t.update({time:time,delta:n}))}},{key:"render3D",value:function(){return this._layer3D.render(this._scene3D,this._camera)}},{key:"renderUI",value:function(){var output=this._layerUI.render(this._sceneUI,this._camera);return this._sectionManager&&this._sectionManager.bloomMapUI&&(output.bloomMap=this._sectionManager.bloomMapUI),output}}]),n}(Object(d.a)()),oe={name:"Home",slug:"home",class:ae,renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]}},le=n(79),ue=n(124);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ce=function(e){Object(h.a)(n,e);var t=he(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=!1,this._layer=this._createLayer(),this._scene=this._createScene(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents(),null===(e=this._timelineShow)||void 0===e||e.kill(),null===(t=this._timelineHide)||void 0===t||t.kill()}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e}},{key:"show",value:function(){return this._timelineShow=new v.b.timeline,this._timelineShow.add(this._components.backgroundGradients.transitionIn(),0),this._timelineShow.timeScale(2),this._timelineShow}},{key:"hide",value:function(){return this._timelineHide=new v.b.timeline,this._timelineHide.add(this._components.backgroundGradients.transitionOut(),0),this._timelineHide.timeScale(2),this._timelineHide}},{key:"_createLayer",value:function(){return new S}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"default",position:new f.Vector3(0,0,300)})}},{key:"_createComponents",value:function(){var e={};return e.backgroundGradients=this._createBackgroundGradientsComponent(),e}},{key:"_createBackgroundGradientsComponent",value:function(){var component=new ue.a({debugContainer:this._config.name,data:this._config.backgroundGradients});return this._scene.add(component),component}},{key:"_destroyComponents",value:function(){if(this._components)for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time,t=e.delta;this._updateComponents({time:time,delta:t})}},{key:"_updateComponents",value:function(e){var component,time=e.time,t=e.delta;for(var n in this._components)"function"==typeof(component=this._components[n]).update&&component.update({time:time,delta:t})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}}]),n}(Object(d.a)()),me=n(300),pe=(n(412),n(154)),de=n.n(pe),fe=n(81),ge=n(140),_e=n(297),ve=n(296);function ye(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function be(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ye(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ye(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ke=function(e){Object(h.a)(n,e);var t=Se(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._debug=e.debug,this._data=e.data||ve.a,this._configPath=e.configPath||"./webgl/configs/texts/sample.js",this._settings={},this._bounds={},this._data.text=this._config.entry.fields.title,this._getSettings(),this._mesh=this._createMesh(),this._setupDebug()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"mesh",get:function(){return this._mesh}},{key:"data",get:function(){return this._data}},{key:"settings",get:function(){return this._settings}},{key:"bounds",get:function(){return this._bounds}},{key:"show",value:function(e){var t;null===(t=this._timelineHide)||void 0===t||t.kill(),this._timelineShow=new v.b.timeline,this._timelineShow.timeScale(this._settings.animations.show.timeScale);var n=this[this._settings.animations.show.name].bind(this);return this._timelineShow.add(n(e),0),this._timelineShow}},{key:"show1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.1),t}},{key:"show2",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress0,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress1,{duration:3,value:1,ease:"power3.out"},.2),t.to(this._mesh.material.uniforms.progress2,{duration:3,value:1,ease:"power3.out"},.3),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},.45),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.55),t}},{key:"hide",value:function(e){var t;null===(t=this._timelineShow)||void 0===t||t.kill(),this._timelineHide=new v.b.timeline,this._timelineHide.timeScale(this._settings.animations.hide.timeScale);var n=this[this._settings.animations.hide.name].bind(this);return this._timelineHide.add(n(e),0),this._timelineHide}},{key:"hide1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"hide2",value:function(e){var t=new v.b.timeline;return t.to(this._mesh.material.uniforms.progressOut0,{duration:3,value:1,ease:"power3.out"},0),t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"reset",value:function(){this._mesh.material.uniforms.progress0.value=0,this._mesh.material.uniforms.progress1.value=0,this._mesh.material.uniforms.progress2.value=0,this._mesh.material.uniforms.progress3.value=0,this._mesh.material.uniforms.progress4.value=0,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.inheritance;if(e)for(var i=0;i<e.length;i++){var t=JSON.parse(JSON.stringify(_e.a[e[i]]));if(t){for(var n in t)"breakpoints"!==n&&(data[n]?data[n]=Object.assign(t[n],data[n]):data[n]=t[n]);if(t.breakpoints)for(var r in data.breakpoints||(data.breakpoints={}),t.breakpoints){var o=t.breakpoints[r];if(data.breakpoints[r])for(var l in o)data.breakpoints[r][l]?data.breakpoints[r][l]=Object.assign(o[l],data.breakpoints[r][l]):data.breakpoints[r][l]=o[l];else data.breakpoints[r]=o}}else console.log("No properties found with name ".concat(e[i]))}var h=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var c in data){"object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data[c]):this._settings[c]=data[c];for(var m=0;m<h.length;m++)window.matchMedia(h[m]).matches&&data.breakpoints[h[m]][c]&&("object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data.breakpoints[h[m]][c]):this._settings[c]=data.breakpoints[h[m]][c])}}},{key:"_createMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),t=de()({font:e,flipY:!0}),n=_.ResourceLoader.get("roobert-regular-atlas");n.minFilter=f.LinearFilter,n.magFilter=f.LinearFilter;var r=new f.RawShaderMaterial({side:f.FrontSide,transparent:!0,uniforms:{opacity:{value:1},map:{value:n},color:{value:new f.Color(this._settings.style.color)},highlightColor:{value:new f.Color(this._settings.style.highlightColor)},resolution:{value:new f.Vector2(0,0)},time:{value:0},threshold:{value:this._settings.rendering.threshold},alphaTest:{value:this._settings.rendering.alphaTest},outlineColor:{value:new f.Color(this._settings.outline.color)},outlineOutsetWidth:{value:this._settings.outline.outsetWidth},outlineInsetWidth:{value:this._settings.outline.insetWidth},linesTotal:{value:t.layout.linesTotal},lettersTotal:{value:t.layout.lettersTotal},colorsIntensity:{value:1},color1:{value:new f.Color(this._settings.animations.color1||this._config.theme.color1)},color2:{value:new f.Color(this._settings.animations.color2||this._config.theme.color2)},highlightColor1:{value:new f.Color(this._settings.animations.highlightColor1)},highlightColor2:{value:new f.Color(this._settings.animations.highlightColor2)},gradientScale:{value:this._settings.animations.gradientScale},gradientSpeed:{value:this._settings.animations.gradientSpeed},patternScale:{value:this._settings.animations.patternScale},texturePatternScale:{value:this._settings.animations.texturePatternScale},patternTexture:{value:new f.Texture},direction:{value:1},maskWidth:{value:this._settings.animations.maskWidth},progress0:{value:0},progress1:{value:0},progress2:{value:0},progress3:{value:0},progress4:{value:0},progressOut0:{value:0},stepSizeProgress0:{value:this._settings.animations.stepSizeProgress0},stepSizeProgress1:{value:this._settings.animations.stepSizeProgress1},stepSizeProgress2:{value:this._settings.animations.stepSizeProgress2},stepSizeProgress3:{value:this._settings.animations.stepSizeProgress3},stepSizeProgress4:{value:this._settings.animations.stepSizeProgress4},stepSizeProgressOut0:{value:this._settings.animations.stepSizeProgressOut0}},vertexShader:"precision highp float;\n#define GLSLIFY 1\n\n// GLSL1 to GLSL3\n#ifdef WEBGL2\n    #define attribute in\n    #define varying out\n#endif\n\n// Attributes\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\n\nattribute vec2 layoutUv;\nattribute float word;\nattribute float line;\nattribute float letter;\nattribute float lineLetters;\nattribute float lineLettersTotal;\n\n// Uniforms\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\n\n// Varyings\nvarying vec2 vUv;\nvarying vec2 vLayoutUv;\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;\nvarying float wordIndex;\nvarying float lineIndex;\nvarying float letterIndex;\nvarying float lineLetterIndex;\nvarying float vLineLettersTotal;\n\nvoid main() {\n\n    // Output\n    vec4 mvPosition = vec4(position, 1.0);\n    mvPosition = modelViewMatrix * mvPosition;\n    gl_Position = projectionMatrix * mvPosition;\n\n    // Varyings\n    vUv = uv;\n    vLayoutUv = layoutUv;\n    vViewPosition = -mvPosition.xyz;\n    vNormal = normal;\n\n    wordIndex = word;\n    lineIndex = line;\n    letterIndex = letter;\n    lineLetterIndex = lineLetters;\n    vLineLettersTotal = lineLettersTotal;\n}\n",fragmentShader:"precision highp float;\n#define GLSLIFY 1\n\n// GLSL1 to GLSL3\n#ifdef WEBGL2\n    #define varying in\n    #define texture2D texture\n#endif\n\n// Outputs\n#ifdef WEBGL2\n    layout(location = 0) out vec4 gColor0;\n    layout(location = 1) out vec4 gColor1;\n#else\n    vec4 gColor0 = vec4(0.0);\n    vec4 gColor1 = vec4(0.0);\n#endif\n\n// Varyings\nvarying vec2 vUv;\nvarying vec2 vLayoutUv;\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;\n\nvarying float wordIndex;\nvarying float lineIndex;\nvarying float letterIndex;\nvarying float lineLetterIndex;\nvarying float vLineLettersTotal;\n\n// Uniforms\nuniform float opacity;\nuniform float threshold;\nuniform float alphaTest;\nuniform vec3 color;\nuniform vec3 highlightColor;\nuniform vec3 outlineColor;\nuniform sampler2D map;\nuniform vec2 resolution;\nuniform float time;\n// Outline\nuniform float outlineOutsetWidth;\nuniform float outlineInsetWidth;\n// Layout\nuniform float linesTotal;\nuniform float lettersTotal;\n// Colors\nuniform float colorsIntensity;\nuniform vec3 color1;\nuniform vec3 color2;\nuniform vec3 highlightColor1;\nuniform vec3 highlightColor2;\n// Gradient\nuniform float gradientScale;\nuniform float gradientSpeed;\n// Pattern\nuniform float patternScale;\nuniform float texturePatternScale;\n// Animation\nuniform float direction;\nuniform float maskWidth;\n// Progresses In\nuniform float progress0;\nuniform float progress1;\nuniform float progress2;\nuniform float progress3;\nuniform float progress4;\n// Progresses Out\nuniform float progressOut0;\n// Steps progresses In\nuniform float stepSizeProgress0;\nuniform float stepSizeProgress1;\nuniform float stepSizeProgress2;\nuniform float stepSizeProgress3;\nuniform float stepSizeProgress4;\n// Steps progresses Out\nuniform float stepSizeProgressOut0;\n\n// Utils\nfloat mapRange(float value, float inMin, float inMax, float outMin, float outMax) {\n    return outMin + (value - inMin) * (outMax - outMin) / (inMax - inMin);\n}\n\n#ifdef USE_MATCAP\n    uniform sampler2D matcap;\n#endif\n\n#ifdef USE_TEXTURE\n    uniform sampler2D patternTexture;\n#endif\n\n// Created by inigo quilez - iq/2014\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\nvec2 hash( vec2 p ) {\n    p = vec2( dot(p,vec2(2127.1,81.17)), dot(p,vec2(1269.5,283.37)) );\n    return fract(sin(p)*43758.5453);\n}\n\nfloat median(float r, float g, float b) {\n    return max(min(r, g), min(max(r, g), b));\n}\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat noise( in vec2 p ) {\n    vec2 i = floor( p );\n    vec2 f = fract( p );\n\n    vec2 u = f*f*(3.0-2.0*f);\n\n    float n = mix( mix( dot( -1.0+2.0*hash( i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ),\n                        dot( -1.0+2.0*hash( i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                mix( dot( -1.0+2.0*hash( i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ),\n                        dot( -1.0+2.0*hash( i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n    return 0.5 + 0.5*n;\n}\n\nvoid main() {\n    // Texture sample\n    vec3 s = texture2D(map, vUv).rgb;\n\n    // Signed distance\n    float sigDist = median(s.r, s.g, s.b) - 0.5;\n\n    // Outset\n    float sigDistOutset = sigDist + outlineOutsetWidth * 0.5;\n    float sigDistOutset2 = sigDist + (0.5) * 0.5;\n\n    // Inset\n    float sigDistInset = sigDist - outlineInsetWidth * 0.5;\n\n    #ifdef IS_SMALL\n        float afwidth = 1.4142135623730951 / 2.0;\n        float alpha = smoothstep(threshold - afwidth, threshold + afwidth, sigDist);\n        float outset = smoothstep(threshold - afwidth, threshold + afwidth, sigDistOutset);\n        float outset2 = smoothstep(threshold - afwidth, threshold + afwidth, sigDistOutset2);\n        float inset = 1.0 - smoothstep(threshold - afwidth, threshold + afwidth, sigDistInset);\n    #else\n        float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\n        float outset = clamp(sigDistOutset / fwidth(sigDistOutset) + 0.5, 0.0, 1.0);\n        float outset2 = clamp(sigDistOutset2 / fwidth(sigDistOutset2) + 0.5, 0.0, 1.0);\n        float inset = 1.0 - clamp(sigDistInset / fwidth(sigDistInset) + 0.5, 0.0, 1.0);\n    #endif\n\n    // Border\n    float border = outset * inset;\n\n    // Alpha test\n    if (alpha < alphaTest) discard;\n\n    // Outputs\n    vec3 mixedColor1 = mix(vec3(1.0), color1, colorsIntensity);\n    vec3 mixedColor2 = mix(vec3(1.0), color2, colorsIntensity);\n\n    // Gradient\n    float colorNoise = noise(vLayoutUv * gradientScale + time * gradientSpeed);\n    vec3 colorGradient = mix(color1, color2, colorNoise * 1.4);\n\n    vec4 filledFragColor = vec4(color, opacity * alpha);\n    vec4 filledFragColor1 = vec4(mixedColor1, opacity * alpha);\n    vec4 filledFragColor2 = vec4(mixedColor2, opacity * alpha);\n    vec4 filledFragColorGradient = vec4(colorGradient, opacity * alpha);\n\n    vec4 strokedFragColor = vec4(outlineColor, opacity * border);\n    vec4 strokedFragColor1 = vec4(mixedColor1, opacity * border);\n    vec4 strokedFragColor2 = vec4(mixedColor2, opacity * border);\n\n    if (wordIndex == 0.0) {\n        filledFragColor = vec4(highlightColor, opacity * alpha);\n        strokedFragColor = vec4(highlightColor, opacity * border);\n\n        vec3 mixedHighlightColor1 = mix(vec3(1.0), highlightColor1, colorsIntensity);\n        vec3 mixedHighlightColor2 = mix(vec3(1.0), highlightColor2, colorsIntensity);\n\n        filledFragColor1 = vec4(mixedHighlightColor1, opacity * alpha);\n        filledFragColor2 = vec4(mixedHighlightColor2, opacity * alpha);\n\n        strokedFragColor1 = vec4(mixedHighlightColor1, opacity * border);\n        strokedFragColor2 = vec4(mixedHighlightColor2, opacity * border);\n    }\n\n    // Matcap\n    #ifdef USE_MATCAP\n        vec3 viewDir = normalize(vViewPosition);\n        vec3 x = normalize(vec3(viewDir.z, 0.0, - viewDir.x));\n        vec3 y = cross(viewDir, x);\n        vec3 normal = vec3(0.0, 0.0, 1.0);\n        vec2 matcapUv = vec2(dot(x, normal), dot(y, normal)) * 0.495 + 0.5;\n        vec4 matcapColor = texture2D(matcap, matcapUv);\n        filledFragColor = vec4(matcapColor.xyz, alpha * opacity);\n    #endif\n\n    // Animations\n    float letterProgress = letterIndex / (lettersTotal - 1.0);\n    float lineProgress = lineIndex / (linesTotal - 1.0);\n    float letterProgressPerLine = lineLetterIndex / (vLineLettersTotal - 1.0);\n\n    float layoutAspectRatio = resolution.x / resolution.y;\n\n    // White Noise\n    float xs = floor(vLayoutUv.x * patternScale * layoutAspectRatio);\n    float ys = floor(vLayoutUv.y * patternScale);\n    float whiteNoise = rand(vec2(xs + time * 0.000001, ys));\n\n    /**\n     * Reveal\n     */\n    float pattern = whiteNoise;\n\n    // Pattern texture\n    #ifdef USE_TEXTURE\n        vec4 tex = texture2D(patternTexture, fract(vLayoutUv * texturePatternScale * vec2(layoutAspectRatio, 1.0)));\n        float textureAvg = (tex.r + tex.g + tex.b) / 3.0;\n        pattern = textureAvg;\n    #endif\n\n    vec2 st = vLayoutUv;\n\n    // Progresses\n    float p0 = progress0;\n    float stx0 = st.x;\n    p0 = mapRange(p0, 0.0, 1.0, 0.0 - maskWidth, 1.0);\n    p0 = smoothstep(p0, p0 + maskWidth, stx0);\n\n    float p1 = progress1;\n    float stx1 = st.x;\n    p1 = mapRange(p1, 0.0, 1.0, 0.0 - maskWidth, 1.0);\n    p1 = smoothstep(p1, p1 + maskWidth, stx1);\n\n    float p2 = progress2;\n    float stx2 = direction == -1.0 ? 1.0 - st.x : st.x;\n    p2 = mapRange(p2, 0.0, 1.0, 0.0 - maskWidth, 1.0);\n    p2 = smoothstep(p2, p2 + maskWidth, stx2);\n\n    float p3 = progress3;\n    float stx3 = direction == -1.0 ? 1.0 - st.x : st.x;\n    p3 = mapRange(p3, 0.0, 1.0, 0.0 - maskWidth, 1.0);\n    p3 = smoothstep(p3, p3 + maskWidth, stx3);\n\n    float p4 = progress4;\n    float stx4 = direction == -1.0 ? 1.0 - st.x : st.x;\n    p4 = mapRange(p4, 0.0, 1.0, 0.0 - maskWidth, 1.0);\n    p4 = smoothstep(p4, p4 + maskWidth, stx4);\n\n    // Progresses Out\n    float po0 = progressOut0;\n    float stxo0 = direction == -1.0 ? 1.0 - st.x : st.x;\n    po0 = mapRange(po0, 0.0, 1.0, 0.0 - maskWidth, 1.0);\n    po0 = smoothstep(po0, po0 + maskWidth, stxo0);\n\n    // Mix factors In\n    float mixFactor0 = -pattern + p0 * 2.0;\n    float mixFactor1 = -pattern + p1 * 2.0;\n    float mixFactor2 = -pattern + p2 * 2.0;\n    float mixFactor3 = -pattern + p3 * 2.0;\n    float mixFactor4 = -pattern + p4 * 2.0;\n    // Mix factors Out\n    float mixFactorOutO = -pattern + po0 * 2.0;\n\n    // Remove smoothness In\n    mixFactor0 = smoothstep(0.0, stepSizeProgress0, mixFactor0);\n    mixFactor1 = smoothstep(0.0, stepSizeProgress1, mixFactor1);\n    mixFactor2 = smoothstep(0.0, stepSizeProgress2, mixFactor2);\n    mixFactor3 = smoothstep(0.0, stepSizeProgress3, mixFactor3);\n    mixFactor4 = smoothstep(0.0, stepSizeProgress4, mixFactor4);\n    // Remove smoothness Out\n    mixFactorOutO = smoothstep(0.0, stepSizeProgressOut0, mixFactorOutO);\n\n    // Mix layers\n    vec4 layer0 = mix(vec4(0.0), strokedFragColor * 0.4, 1.0 - mixFactor0);\n    // Output\n    vec4 layer1 = mix(layer0, strokedFragColor, 1.0 - mixFactor1);\n    vec4 layer2 = mix(layer1, strokedFragColor2, 1.0 - mixFactor2);\n    // vec4 layer3 = mix(layer2, filledFragColorGradient, 1.0 - mixFactor3);\n    vec4 layer3 = mix(layer2, filledFragColor1, 1.0 - mixFactor3);\n    vec4 layer4 = mix(layer3, filledFragColor, 1.0 - mixFactor4);\n    // Mix layers out\n    vec4 layerOut0 = mix(layer4, vec4(0.0), 1.0 - mixFactorOutO);\n\n    // Main output\n    gColor0 = layerOut0;\n\n    // Bloom output\n    gColor1 = layer3 * mixFactor4 * mixFactorOutO;\n\n    #ifdef DEBUG_BLOOM\n        gColor0 = gColor1;\n    #endif\n\n    // If is bloom map material output bloom\n    #ifdef BLOOM_MAP\n        gColor0 = gColor1;\n    #endif\n\n    // Output gColor0 if WebGL2 is not supported\n    #ifndef WEBGL2\n        gl_FragColor = gColor0;\n    #endif\n}\n",extensions:{derivatives:!0},glslVersion:this.$root.isWebGL2()?f.GLSL3:f.GLSL1,defines:{WEBGL2:this.$root.isWebGL2(),IS_SMALL:this._settings.rendering.isSmall,USE_MATCAP:!1,USE_TEXTURE:!1,DEBUG_BLOOM:!1}}),o=new f.Mesh(t,r);return o.frustumCulled=!0,o.rotation.x=Math.PI,this.$root.isWebGL2()||(o.bloomMaterial=r.clone(),o.bloomMaterial.defines.BLOOM_MAP=!0,o.bloomMaterial.uniforms.patternTexture.value=r.uniforms.patternTexture.value),this.add(o),o}},{key:"_updateMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),text=this._settings.style.uppercase?this._settings.text.toUpperCase():this._settings.text;this._mesh.material.uniforms.opacity.value=this._settings.style.opacity,this._mesh.material.uniforms.color.value.set(this._settings.style.color),this._mesh.material.uniforms.highlightColor.value.set(this._settings.style.highlightColor),this._mesh.material.uniforms.outlineColor.value.set(this._settings.outline.color),this._mesh.material.uniforms.outlineOutsetWidth.value=this._settings.outline.outsetWidth,this._mesh.material.uniforms.outlineInsetWidth.value=this._settings.outline.insetWidth,this._mesh.material.uniforms.gradientScale.value=this._settings.animations.gradientScale,this._mesh.material.uniforms.gradientSpeed.value=this._settings.animations.gradientSpeed,this._mesh.material.uniforms.patternScale.value=this._settings.animations.patternScale,this._mesh.material.uniforms.texturePatternScale.value=this._settings.animations.texturePatternScale,this._mesh.material.uniforms.maskWidth.value=this._settings.animations.maskWidth,this._mesh.material.uniforms.stepSizeProgress0.value=this._settings.animations.stepSizeProgress0,this._mesh.material.uniforms.stepSizeProgress1.value=this._settings.animations.stepSizeProgress1,this._mesh.material.uniforms.stepSizeProgress2.value=this._settings.animations.stepSizeProgress2,this._mesh.material.uniforms.stepSizeProgress3.value=this._settings.animations.stepSizeProgress3,this._mesh.material.uniforms.stepSizeProgress4.value=this._settings.animations.stepSizeProgress4,this._mesh.material.uniforms.stepSizeProgressOut0.value=this._settings.animations.stepSizeProgressOut0,this._settings.animations.color1&&this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._settings.animations.color2&&this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._settings.animations.highlightColor1&&this._mesh.material.uniforms.highlightColor1.value.set(this._settings.animations.highlightColor1),this._settings.animations.highlightColor2&&this._mesh.material.uniforms.highlightColor2.value.set(this._settings.animations.highlightColor2),this._mesh.material.uniforms.alphaTest.value=this._settings.rendering.alphaTest,this._mesh.material.uniforms.threshold.value=this._settings.rendering.threshold,this._mesh.material.defines.IS_SMALL!==this._settings.rendering.isSmall&&(this._mesh.material.defines.IS_SMALL=this._settings.rendering.isSmall,this._mesh.material.needsUpdate=!0);var t=(this._settings.style.fluidType?fe.a.rem(this._settings.style.fontSize):this._settings.style.fontSize)/e.info.size;this._mesh.geometry.update({text:text,width:this._settings.style.width/(this._settings.style.fontSize/e.info.size),lineHeight:e.info.size*this._settings.style.lineHeight,letterSpacing:this._settings.style.letterSpacing,align:this._settings.style.align}),this._mesh.scale.set(t*this._settings.style.scale,t*this._settings.style.scale,1),this._bounds.width=this._mesh.geometry.layout.width*t*this._settings.style.scale,this._bounds.height=this._mesh.geometry.layout.height*t*this._settings.style.scale,this.position.copy(this._settings.style.position),this.position.x=fe.a.rem(this._settings.style.position.x),this.position.y=-ge.a.innerHeight*this._settings.style.position.y,"top"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height*t*this._settings.style.scale),"center"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height/2*t*this._settings.style.scale),this._mesh.material.uniforms.linesTotal.value=this._mesh.geometry.layout.linesTotal,this._mesh.material.uniforms.lettersTotal.value=this._mesh.geometry.layout.lettersTotal,this._mesh.material.uniforms.resolution.value.set(this._bounds.width,this._bounds.height)}},{key:"_setupDebug",value:function(){var e=this;if(this._debug){var t=this._debug.addGroup("Heading text component");t.add(this._mesh.material.defines,"DEBUG_BLOOM",{label:"Debug bloom",persistent:!0,onChange:function(){e._mesh.material.needsUpdate=!0}}),t.addButton("Save",{fullWidth:!0,onClick:function(){fetch("http://localhost:6842/text-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e._data,file:e._configPath})}).then((function(e){console.log("Request complete! response:",e)}))}});var n={rendering:{breakpoints:!0,properties:[{name:"threshold",options:{min:0,max:1,stepSize:.001}},{name:"alphaTest",options:{min:0,max:1,stepSize:.001}},{name:"isSmall",options:{}}]},style:{breakpoints:!0,properties:[{name:"scale",options:{}},{name:"opacity",options:{min:0,max:1}},{name:"color",options:{}},{name:"highlightColor",options:{}},{name:"width",options:{stepSize:.1}},{name:"fontSize",options:{stepSize:.1}},{name:"lineHeight",options:{stepSize:.001}},{name:"letterSpacing",options:{stepSize:.1}},{name:"align",options:{options:["left","center","right"]}},{name:"verticalAlign",options:{options:["bottom","top","center"]}},{name:"uppercase",options:{}},{name:"fluidType",options:{}},{name:"position",properties:[{name:"x",options:{stepSize:.1}},{name:"y",options:{stepSize:.01}},{name:"z",options:{stepSize:.1}}]}]},outline:{breakpoints:!0,properties:[{name:"color",options:{}},{name:"outsetWidth",options:{min:0,max:1}},{name:"insetWidth",options:{min:0,max:1}}]},animations:{breakpoints:!0,properties:[{name:"show",properties:[{name:"name",options:{options:["show1","show2"]}},{name:"timeScale",options:{min:0,max:5,stepSize:.001}}]},{name:"color1",options:{}},{name:"color2",options:{}},{name:"highlightColor1",options:{}},{name:"highlightColor2",options:{}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientSpeed",options:{stepSize:.01}},{name:"patternScale",options:{stepSize:.01}},{name:"texturePatternScale",options:{stepSize:.01}},{name:"maskWidth",options:{stepSize:.01}},{name:"stepSizeProgress0",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress1",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress2",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress3",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress4",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgressOut0",options:{min:0,max:1,stepSize:.001}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}var progress=t.addGroup("Animation Progresses");return progress.add(this._mesh.material.uniforms.progress0,"value",{label:"Progress 0",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress1,"value",{label:"Progress 1",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress2,"value",{label:"Progress 2",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress3,"value",{label:"Progress 3",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress4,"value",{label:"Progress 4",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progressOut0,"value",{label:"Progress out 0",min:0,max:1,stepSize:.001}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(!data||void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,be(be({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"onWindowResize",value:function(e){this._getSettings(),this._updateMesh()}},{key:"onUpdate",value:function(e){var time=e.time;e.delta;if(this._mesh.material.uniforms.time.value=time,this._mesh.bloomMaterial)for(var t in this._mesh.material.uniforms)this._mesh.bloomMaterial.uniforms[t].value=this._mesh.material.uniforms[t].value}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._updateMesh()}}]),n}(Object(d.a)(f.Object3D)),xe={style:{flexDirection:"col",position:{x:81,y:-48,z:0},paddingBottom:100},breakpoints:{"(min-width: 500px)":{style:{flexDirection:"row",position:{x:350,y:-100.2399999999997,z:0},paddingBottom:100}},"(min-width: 850px)":{style:{position:{x:749,y:-100.2399999999997,z:0}}}}},Oe=[{text:"The platform currently supports different applications that work together seamlessly, complementing each other to form a network of interconnected applications.",rendering:{threshold:0,alphaTest:0,isSmall:!0},style:{scale:1,width:252,opacity:1,color:"#9e9e9e",align:"left",verticalAlign:"top",fontSize:15,lineHeight:1.379,letterSpacing:.1,uppercase:!1,fluidType:!0,position:{x:0,y:0,z:0}},outline:{color:"#ffffff",outsetWidth:.1,insetWidth:.1},animations:{show:{name:"show1",timeScale:.5},hide:{name:"hide2",timeScale:.9},color1:"#ffffff",color3:"#ffffff",gradientScale:3,gradientSpeed:.5,patternScale:5,texturePatternScale:1,maskWidth:1,stepSizeProgress0:1,stepSizeProgress1:1,stepSizeProgress2:1,stepSizeProgress3:1,stepSizeProgress4:.20077066170608557,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:18,position:{x:0,y:0,z:0},width:442}},"(max-height: 500px) and (min-width: 500px)":{style:{position:{x:0,y:0,z:0}}},"(min-width: 850px)":{style:{fontSize:18,position:{x:0,y:0,z:0},width:442}},"(max-height: 800px) and (min-width: 850px)":{style:{position:{x:0,y:0,z:0}}}}},{text:"The ecosystem was designed to be simple enough so that everyone can benefit from blockchain technology. In order to make the most of these products, you will first have to invest in the Gleec token.",rendering:{threshold:0,alphaTest:0,isSmall:!0},style:{scale:1,width:252,opacity:1,color:"#9e9e9e",align:"left",verticalAlign:"top",fontSize:15,lineHeight:1.379,letterSpacing:.1,uppercase:!1,fluidType:!0,position:{x:0,y:-30,z:0}},outline:{color:"#ffffff",outsetWidth:.1,insetWidth:.1},animations:{color1:"#ffffff",color2:"#ffffff",show:{name:"show1",timeScale:.5},hide:{name:"hide2",timeScale:.9},gradientScale:3,gradientSpeed:.5,patternScale:20,texturePatternScale:1,maskWidth:1,stepSizeProgress0:1,stepSizeProgress1:1,stepSizeProgress2:1,stepSizeProgress3:1,stepSizeProgress4:.20077066170608557,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:18,position:{x:28,y:0,z:0},width:459.3999999999981}},"(max-height: 500px) and (min-width: 500px)":{style:{position:{x:28,y:0,z:0}}},"(min-width: 850px)":{style:{fontSize:18,position:{x:28,y:0,z:0},width:459.3999999999981}},"(max-height: 800px) and (min-width: 850px)":{style:{position:{x:28,y:0,z:0}}}}}],we=n(298),Pe=n(299);function ze(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function je(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ze(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ze(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Te=function(e){Object(h.a)(n,e);var t=Me(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._debug=e.debug,this._data=e.data||ve.a,this._configPath=e.configPath||"./webgl/configs/texts/sample.js",this._settings={},this._bounds={},this._getSettings(),this._mesh=this._createMesh(),this._setupDebug()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"mesh",get:function(){return this._mesh}},{key:"data",get:function(){return this._data}},{key:"settings",get:function(){return this._settings}},{key:"bounds",get:function(){return this._bounds}},{key:"show",value:function(e){var t;null===(t=this._timelineHide)||void 0===t||t.kill(),this._timelineShow=new v.b.timeline,this._timelineShow.timeScale(this._settings.animations.show.timeScale);var n=this[this._settings.animations.show.name].bind(this);return this._timelineShow.add(n(e),0),this._timelineShow}},{key:"show1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.1),t}},{key:"show2",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress0,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress1,{duration:3,value:1,ease:"power3.out"},.2),t.to(this._mesh.material.uniforms.progress2,{duration:3,value:1,ease:"power3.out"},.3),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},.45),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.55),t}},{key:"hide",value:function(e){var t;null===(t=this._timelineShow)||void 0===t||t.kill(),this._timelineHide=new v.b.timeline,this._timelineHide.timeScale(this._settings.animations.hide.timeScale);var n=this[this._settings.animations.hide.name].bind(this);return this._timelineHide.add(n(e),0),this._timelineHide}},{key:"hide1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"hide2",value:function(e){var t=new v.b.timeline;return t.to(this._mesh.material.uniforms.progressOut0,{duration:3,value:1,ease:"power3.out"},0),t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"reset",value:function(){this._mesh.material.uniforms.progress0.value=0,this._mesh.material.uniforms.progress1.value=0,this._mesh.material.uniforms.progress2.value=0,this._mesh.material.uniforms.progress3.value=0,this._mesh.material.uniforms.progress4.value=0,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.inheritance;if(e)for(var i=0;i<e.length;i++){var t=JSON.parse(JSON.stringify(_e.a[e[i]]));if(t){for(var n in t)"breakpoints"!==n&&(data[n]?data[n]=Object.assign(t[n],data[n]):data[n]=t[n]);if(t.breakpoints)for(var r in data.breakpoints||(data.breakpoints={}),t.breakpoints){var o=t.breakpoints[r];if(data.breakpoints[r])for(var l in o)data.breakpoints[r][l]?data.breakpoints[r][l]=Object.assign(o[l],data.breakpoints[r][l]):data.breakpoints[r][l]=o[l];else data.breakpoints[r]=o}}else console.log("No properties found with name ".concat(e[i]))}var h=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var c in data){"object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data[c]):this._settings[c]=data[c];for(var m=0;m<h.length;m++)window.matchMedia(h[m]).matches&&data.breakpoints[h[m]][c]&&("object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data.breakpoints[h[m]][c]):this._settings[c]=data.breakpoints[h[m]][c])}}},{key:"_createMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),t=de()({font:e,flipY:!0}),n=_.ResourceLoader.get("roobert-regular-atlas");n.minFilter=f.LinearFilter,n.magFilter=f.LinearFilter;var r=new f.RawShaderMaterial({side:f.FrontSide,transparent:!0,uniforms:{opacity:{value:1},map:{value:n},color:{value:new f.Color(this._settings.style.color)},resolution:{value:new f.Vector2(0,0)},time:{value:0},threshold:{value:this._settings.rendering.threshold},alphaTest:{value:this._settings.rendering.alphaTest},outlineColor:{value:new f.Color(this._settings.outline.color)},outlineOutsetWidth:{value:this._settings.outline.outsetWidth},outlineInsetWidth:{value:this._settings.outline.insetWidth},linesTotal:{value:t.layout.linesTotal},lettersTotal:{value:t.layout.lettersTotal},colorsIntensity:{value:1},color1:{value:new f.Color(this._settings.animations.color1||this._config.theme.color1)},color2:{value:new f.Color(this._settings.animations.color2||this._config.theme.color2)},gradientScale:{value:this._settings.animations.gradientScale},gradientSpeed:{value:this._settings.animations.gradientSpeed},patternScale:{value:this._settings.animations.patternScale},texturePatternScale:{value:this._settings.animations.texturePatternScale},patternTexture:{value:new f.Texture},direction:{value:1},maskWidth:{value:this._settings.animations.maskWidth},progress0:{value:0},progress1:{value:0},progress2:{value:0},progress3:{value:0},progress4:{value:0},progressOut0:{value:0},stepSizeProgress0:{value:this._settings.animations.stepSizeProgress0},stepSizeProgress1:{value:this._settings.animations.stepSizeProgress1},stepSizeProgress2:{value:this._settings.animations.stepSizeProgress2},stepSizeProgress3:{value:this._settings.animations.stepSizeProgress3},stepSizeProgress4:{value:this._settings.animations.stepSizeProgress4},stepSizeProgressOut0:{value:this._settings.animations.stepSizeProgressOut0}},vertexShader:we.a,fragmentShader:Pe.a,extensions:{derivatives:!0},glslVersion:this.$root.isWebGL2()?f.GLSL3:f.GLSL1,defines:{WEBGL2:this.$root.isWebGL2(),IS_SMALL:this._settings.rendering.isSmall,USE_MATCAP:!1,USE_TEXTURE:!1,DEBUG_BLOOM:!1}}),o=new f.Mesh(t,r);return o.frustumCulled=!0,o.rotation.x=Math.PI,this.$root.isWebGL2()||(o.bloomMaterial=r.clone(),o.bloomMaterial.defines.BLOOM_MAP=!0,o.bloomMaterial.uniforms.patternTexture.value=r.uniforms.patternTexture.value),this.add(o),o}},{key:"_updateMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),text=this._settings.style.uppercase?this._settings.text.toUpperCase():this._settings.text;this._mesh.material.uniforms.opacity.value=this._settings.style.opacity,this._mesh.material.uniforms.color.value.set(this._settings.style.color),this._mesh.material.uniforms.outlineColor.value.set(this._settings.outline.color),this._mesh.material.uniforms.outlineOutsetWidth.value=this._settings.outline.outsetWidth,this._mesh.material.uniforms.outlineInsetWidth.value=this._settings.outline.insetWidth,this._mesh.material.uniforms.gradientScale.value=this._settings.animations.gradientScale,this._mesh.material.uniforms.gradientSpeed.value=this._settings.animations.gradientSpeed,this._mesh.material.uniforms.patternScale.value=this._settings.animations.patternScale,this._mesh.material.uniforms.texturePatternScale.value=this._settings.animations.texturePatternScale,this._mesh.material.uniforms.maskWidth.value=this._settings.animations.maskWidth,this._mesh.material.uniforms.stepSizeProgress0.value=this._settings.animations.stepSizeProgress0,this._mesh.material.uniforms.stepSizeProgress1.value=this._settings.animations.stepSizeProgress1,this._mesh.material.uniforms.stepSizeProgress2.value=this._settings.animations.stepSizeProgress2,this._mesh.material.uniforms.stepSizeProgress3.value=this._settings.animations.stepSizeProgress3,this._mesh.material.uniforms.stepSizeProgress4.value=this._settings.animations.stepSizeProgress4,this._mesh.material.uniforms.stepSizeProgressOut0.value=this._settings.animations.stepSizeProgressOut0,this._settings.animations.color1&&this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._settings.animations.color2&&this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.alphaTest.value=this._settings.rendering.alphaTest,this._mesh.material.uniforms.threshold.value=this._settings.rendering.threshold,this._mesh.material.defines.IS_SMALL!==this._settings.rendering.isSmall&&(this._mesh.material.defines.IS_SMALL=this._settings.rendering.isSmall,this._mesh.material.needsUpdate=!0);var t=(this._settings.style.fluidType?fe.a.rem(this._settings.style.fontSize):this._settings.style.fontSize)/e.info.size;this._mesh.geometry.update({text:text,width:this._settings.style.width/(this._settings.style.fontSize/e.info.size),lineHeight:e.info.size*this._settings.style.lineHeight,letterSpacing:this._settings.style.letterSpacing,align:this._settings.style.align}),this._mesh.scale.set(t*this._settings.style.scale,t*this._settings.style.scale,1),this._bounds.width=this._mesh.geometry.layout.width*t*this._settings.style.scale,this._bounds.height=this._mesh.geometry.layout.height*t*this._settings.style.scale,this.position.copy(this._settings.style.position),this.position.x=fe.a.rem(this._settings.style.position.x),this.position.y=fe.a.rem(this._settings.style.position.y),"top"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height*t*this._settings.style.scale),"center"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height/2*t*this._settings.style.scale),this._mesh.material.uniforms.linesTotal.value=this._mesh.geometry.layout.linesTotal,this._mesh.material.uniforms.lettersTotal.value=this._mesh.geometry.layout.lettersTotal,this._mesh.material.uniforms.resolution.value.set(this._bounds.width,this._bounds.height)}},{key:"_setupDebug",value:function(){var e=this;if(this._debug){var t=this._debug.addGroup("Body Text Component");t.add(this._mesh.material.defines,"DEBUG_BLOOM",{label:"Debug bloom",persistent:!0,onChange:function(){e._mesh.material.needsUpdate=!0}});var n={rendering:{breakpoints:!0,properties:[{name:"threshold",options:{min:0,max:1,stepSize:.001}},{name:"alphaTest",options:{min:0,max:1,stepSize:.001}},{name:"isSmall",options:{}}]},style:{breakpoints:!0,properties:[{name:"scale",options:{}},{name:"opacity",options:{min:0,max:1}},{name:"color",options:{}},{name:"width",options:{stepSize:.1}},{name:"fontSize",options:{stepSize:.1}},{name:"lineHeight",options:{stepSize:.001}},{name:"letterSpacing",options:{stepSize:.1}},{name:"align",options:{options:["left","center","right"]}},{name:"verticalAlign",options:{options:["bottom","top","center"]}},{name:"uppercase",options:{}},{name:"fluidType",options:{}},{name:"position",properties:[{name:"x",options:{stepSize:.01}},{name:"y",options:{stepSize:.01}},{name:"z",options:{stepSize:.01}}]}]},outline:{breakpoints:!0,properties:[{name:"color",options:{}},{name:"outsetWidth",options:{min:0,max:1}},{name:"insetWidth",options:{min:0,max:1}}]},animations:{breakpoints:!0,properties:[{name:"show",properties:[{name:"name",options:{options:["show1","show2"]}},{name:"timeScale",options:{min:0,max:5,stepSize:.001}}]},{name:"color1",options:{}},{name:"color2",options:{}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientSpeed",options:{stepSize:.01}},{name:"patternScale",options:{stepSize:.01}},{name:"texturePatternScale",options:{stepSize:.01}},{name:"maskWidth",options:{stepSize:.01}},{name:"stepSizeProgress0",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress1",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress2",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress3",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress4",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgressOut0",options:{min:0,max:1,stepSize:.001}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}var progress=t.addGroup("Animation Progresses");return progress.add(this._mesh.material.uniforms.progress0,"value",{label:"Progress 0",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress1,"value",{label:"Progress 1",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress2,"value",{label:"Progress 2",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress3,"value",{label:"Progress 3",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress4,"value",{label:"Progress 4",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progressOut0,"value",{label:"Progress out 0",min:0,max:1,stepSize:.001}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(!data||void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,je(je({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"resize",value:function(e){this._getSettings(),this._updateMesh()}},{key:"onUpdate",value:function(e){var time=e.time;e.delta;if(this._mesh.material.uniforms.time.value=time,this._mesh.bloomMaterial)for(var t in this._mesh.material.uniforms)this._mesh.bloomMaterial.uniforms[t].value=this._mesh.material.uniforms[t].value}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._updateMesh()}}]),n}(Object(d.a)(f.Object3D));function Ce(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function De(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ce(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ce(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Be=function(e){Object(h.a)(n,e);var t=Re(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._debug=e.debug,this._config=e.config,this._data=xe,this._bounds={},this._settings={},this._getSettings(),this._debugFolder=this._createDebugFolder(),this._container=this._createContainer(),this._textBlocks=this._createTextBlocks()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyTextBlocks()}},{key:"bounds",get:function(){return this._bounds}},{key:"container",get:function(){return this._container}},{key:"show",value:function(){for(var e=new v.b.timeline,i=0;i<this._textBlocks.length;i++)e.add(this._textBlocks[i].textBlock.show(),0);return e}},{key:"hide",value:function(){for(var e=new v.b.timeline,i=0;i<this._textBlocks.length;i++)e.add(this._textBlocks[i].textBlock.hide(),0);return e}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var t in data){"object"===Object(x.a)(this._settings[t])?Object.assign(this._settings[t],data[t]):this._settings[t]=data[t];for(var i=0;i<e.length;i++)window.matchMedia(e[i]).matches&&data.breakpoints[e[i]][t]&&("object"===Object(x.a)(this._settings[t])?Object.assign(this._settings[t],data.breakpoints[e[i]][t]):this._settings[t]=data.breakpoints[e[i]][t])}}},{key:"_createContainer",value:function(){var e=new f.Object3D;return this.add(e),e}},{key:"_createTextBlocks",value:function(){for(var e=[],i=0;i<Oe.length;i++){var t=Oe[i];t.text=this._config.entry.fields.content.content[i].content[0].value;var n=new f.Object3D,r=new Te({debug:this._debugFolder,config:this._config,configPath:"./webgl/configs/texts/about/richText.js",data:t,index:i,email:t.text});n.add(r),this._container.add(n),e.push({textBlock:r,container:n})}return e}},{key:"_destroyTextBlocks",value:function(){for(var i=0;i<this._textBlocks.length;i++){this._textBlocks[i].textBlock.destroy()}}},{key:"_createDebugFolder",value:function(){if(this._debug){var e=this._debug.addGroup("About Rich Text Component"),t={style:{breakpoints:!0,properties:[{name:"flexDirection",options:{options:["col","row"]}},{name:"paddingBottom",options:{stepSize:.01}},{name:"position",properties:[{name:"x",options:{stepSize:.01}},{name:"y",options:{stepSize:.01}},{name:"z",options:{stepSize:.01}}]}]}};for(var n in t){var r=e.addGroup(n),o=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?r.addGroup("(min-width: 0px)"):r;if(this._addDebugProperties(this._data[n],t[n].properties,o),this._data.breakpoints&&t[n].breakpoints)for(var l in this._data.breakpoints){var h=this._data.breakpoints[l];if(h[n]){var c=r.addGroup(l);this._addDebugProperties(h[n],t[n].properties,c)}}}return e.addButton("Save",{fullWidth:!0,onClick:function(){fetch("http://localhost:6842/text-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Oe,file:"./webgl/configs/texts/about/bodyTexts.js"})}).then((function(e){console.log("Request complete! response:",e)}))}}),e}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(!data||void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,De(De({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._resizeBlock()}},{key:"onWindowResize",value:function(e){this._getSettings(),this._resizeBlock(),this._resizeBounds()}},{key:"_resizeBlock",value:function(){var e=0,t=0;if("col"===this._settings.style.flexDirection)for(var i=0;i<this._textBlocks.length;i++){var n=this._textBlocks[i];n.textBlock.resize(),n.container.position.y=-e,t+=n.textBlock.bounds.width,e+=n.textBlock.bounds.height}if("row"===this._settings.style.flexDirection)for(var r=0;r<this._textBlocks.length;r++){var o=this._textBlocks[r];o.textBlock.resize(),o.container.position.x=t,t+=o.textBlock.bounds.width,e+=o.textBlock.bounds.height}this._container.position.copy(this._settings.style.position),this._container.position.x=fe.a.rem(this._settings.style.position.x),this._container.position.y=fe.a.rem(this._settings.style.position.y)}},{key:"_resizeBounds",value:function(){this.bounds.height=this._getSize(this).y+fe.a.rem(this._settings.style.paddingBottom),this.bounds.y=this.container.position.y}},{key:"update",value:function(e){e.time,e.delta}},{key:"_getSize",value:function(object){var e=new f.Vector3;return(new f.Box3).setFromObject(object).getSize(e),e}}]),n}(Object(d.a)(f.Object3D)),Le={text:"Gleec is one of the first digital ecosystem powered by blockchain.",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,width:302.89999999999964,opacity:1,color:"#ffffff",highlightColor:"#AB6AED",align:"left",verticalAlign:"center",fontSize:38,lineHeight:1,letterSpacing:.1,uppercase:!0,fluidType:!0,position:{x:30,y:.37,z:0}},outline:{color:"#ffffff",outsetWidth:.1,insetWidth:.1},animations:{show:{name:"show2",timeScale:.8},hide:{name:"hide2",timeScale:1},color1:"#AB6AED",color2:"#8000ff",highlightColor1:"#ffffff",highlightColor2:"#8000ff",gradientScale:3,gradientSpeed:.5,patternScale:10.019999999999966,texturePatternScale:1,maskWidth:1,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:110,position:{x:120,y:.3999999999999998,z:0},width:1234}},"(max-height: 500px) and (min-width: 500px)":{style:{fontSize:70,position:{x:120,y:.43,z:0}}},"(min-width: 850px)":{style:{fontSize:110,position:{x:217,y:.49,z:0},width:1234}},"(max-height: 800px) and (min-width: 850px)":{style:{fontSize:90,position:{x:217,y:.45,z:0}}}}};function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Ue=function(e){Object(h.a)(n,e);var t=Ie(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isScrollAllowed=!1,this._isDragAllowed=!1,this._settings={damping:A.a.isTouch()?1:.1,scrollStrength:A.a.isTouch()?25:50,dragStrength:.8},this._bindAll(),this._isMenuOpen=!1,this._layer=this._createLayer(),this._scene=this._createScene(),this._cameraManager=this._createCameraManager(),this._scrollContainer=this._createScrollContainer(),this._debug=this._createDebug(),this._components=this._createComponents(),this._scrollManager=this._createScrollManager(),this._dragManager=this._createDragManager(),this._scrollPosition={current:0,target:0},this._scrollHeight=0,this._inertiaTracker=me.a.track(this._scrollPosition,"target"),this._setupEventListeners()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents(),this._removeEventListeners()}},{key:"camera",get:function(){return this._cameraManager.camera}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e}},{key:"show",value:function(){var e=new v.b.timeline;for(var t in this._components){var n=this._components[t];"function"==typeof n.show&&e.add(n.show(),0)}return e.set(this,{_isScrollAllowed:!0},2),e.set(this,{_isDragAllowed:!0},2),e}},{key:"hide",value:function(){var e=new v.b.timeline;for(var t in e.set(this,{_isScrollAllowed:!1},0),e.set(this,{_isDragAllowed:!1},0),this._components){var n=this._components[t];"function"==typeof n.hide&&e.add(n.hide(),0)}return e}},{key:"_createLayer",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!1})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"uiPerspective"})}},{key:"_createScrollContainer",value:function(){var e=new f.Object3D;return this._scene.add(e),e}},{key:"_createDragManager",value:function(){return new P.a({el:document.body})}},{key:"_createScrollManager",value:function(){return new z.a}},{key:"_createComponents",value:function(){return{heading:this._createHeadingComponent(),richText:this._createRichTextComponent()}}},{key:"_createHeadingComponent",value:function(){var e=new ke({config:this._config,data:Le,debug:this._debug,configPath:"./webgl/configs/texts/about/heading.js"});return this._scrollContainer.add(e),e}},{key:"_createRichTextComponent",value:function(){var e=new Be({config:this._config,debug:this._debug});return this._scrollContainer.add(e),e}},{key:"_destroyComponents",value:function(){if(this._components)for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time,t=e.delta;this._updateComponents({time:time,delta:t}),this._updateScrollPosition()}},{key:"_updateComponents",value:function(e){var component,time=e.time,t=e.delta;for(var n in this._components)"function"==typeof(component=this._components[n]).update&&component.update({time:time,delta:t})}},{key:"_updateScrollPosition",value:function(){this._scrollPosition.current=j.a.lerp(this._scrollPosition.current,this._scrollPosition.target,this._settings.damping),this._scrollContainer.position.y=-this._scrollPosition.current}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._scene.position.x=-.5*t,this._scene.position.y=.5*n,this._resizeComponents({innerWidth:t,innerHeight:n}),this._resizeScrollHeight({innerWidth:t,innerHeight:n})}},{key:"_resizeComponents",value:function(e){e.innerWidth,e.innerHeight;this._components.richText.position.y=this._components.heading.position.y}},{key:"_resizeScrollHeight",value:function(e){e.innerWidth;var t=e.innerHeight;this._scrollHeight=this._components.richText.bounds.height-this._components.richText.bounds.y-this._components.richText.position.y,this._scrollHeight-=t}},{key:"_bindAll",value:function(){this._dragstartHandler=this._dragstartHandler.bind(this),this._dragHandler=this._dragHandler.bind(this),this._dragendHandler=this._dragendHandler.bind(this),this._scrollHandler=this._scrollHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._dragManager.addEventListener("drag:start",this._dragstartHandler),this._dragManager.addEventListener("drag:move",this._dragHandler),this._dragManager.addEventListener("drag:end",this._dragendHandler),this._scrollManager.addEventListener("scroll",this._scrollHandler)}},{key:"_removeEventListeners",value:function(){this._dragManager.destroy(),this._scrollManager.removeEventListener("scroll",this._scrollHandler)}},{key:"_dragstartHandler",value:function(){var e;this._isDragAllowed&&this._isScrollAllowed&&!this._isMenuOpen&&(null===(e=this._throwTween)||void 0===e||e.kill())}},{key:"_dragHandler",value:function(e){this._isDragAllowed&&this._isScrollAllowed&&!this._isMenuOpen&&(this._scrollPosition.target+=-e.delta.y*this._settings.dragStrength,this._scrollPosition.target=M.a.clamp(this._scrollPosition.target,-this._scrollHeight,0))}},{key:"_dragendHandler",value:function(){this._isDragAllowed&&this._isScrollAllowed&&!this._isMenuOpen&&(this._throwTween=v.b.to(this._scrollPosition,{inertia:{duration:{max:2},resistance:0,target:{min:-this._scrollHeight>0?0:-this._scrollHeight,max:0}}}))}},{key:"_scrollHandler",value:function(e){var t;this._isScrollAllowed&&!this._isMenuOpen&&(null===(t=this._throwTween)||void 0===t||t.kill(),this._scrollPosition.target+=-e.spinY*this._settings.scrollStrength,this._scrollPosition.target=M.a.clamp(this._scrollPosition.target,-this._scrollHeight,0))}},{key:"_createDebug",value:function(){if(w.a){var e=w.a.addGroup("UI",{container:"About"}),t=e.addGroup("Scroll & Drag");return t.add(this._settings,"damping",{min:0,max:.5}),t.add(this._settings,"scrollStrength",{min:0,max:50}),t.add(this._settings,"dragStrength",{min:0,max:10}),e}}}]),n}(Object(d.a)());function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Ae=function(e){Object(h.a)(n,e);var t=We(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=null,this._3DScene=null,this._UIScene=null,this._resourceManager=this._createResourceManager()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._3DScene)||void 0===e||e.destroy(),null===(t=this._UIScene)||void 0===t||t.destroy()}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e,this._3DScene&&(this._3DScene.isMenuOpen=e),this._UIScene&&(this._UIScene.isMenuOpen=e)}},{key:"show",value:function(){var e=this;this._resourceManager.load().then((function(){e._3DScene||(e._3DScene=e._create3DScene()),e._UIScene||(e._UIScene=e._createUIScene()),"function"==typeof e._3DScene.show&&e._3DScene.show(),"function"==typeof e._UIScene.show&&e._UIScene.show()}))}},{key:"hide",value:function(e){var t=new v.b.timeline;"function"==typeof this._3DScene.hide&&t.add(this._3DScene.hide(),0),"function"==typeof this._UIScene.hide&&t.add(this._UIScene.hide(),0),"function"==typeof e&&t.call(e,null,2)}},{key:"_createResourceManager",value:function(){return new _.ResourceManager({namespace:"About"})}},{key:"_create3DScene",value:function(){return new ce({config:this._config})}},{key:"_createUIScene",value:function(){return new Ue({config:this._config})}},{key:"update",value:function(e){var t,n,time=e.time,r=e.delta;null===(t=this._3DScene)||void 0===t||t.update({time:time,delta:r}),null===(n=this._UIScene)||void 0===n||n.update({time:time,delta:r})}},{key:"render3D",value:function(){var e;return null===(e=this._3DScene)||void 0===e?void 0:e.render()}},{key:"renderUI",value:function(){var e;return null===(e=this._UIScene)||void 0===e?void 0:e.render()}}]),n}(Object(d.a)()),Fe={name:"About",slug:"about",class:Ae,renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]},theme:{color1:"#ffffff",color2:"#ffffff"},menu:{lineColors:{color1:"#ffffff",color2:"#AB6AED"},lightColors:{directionalLight1:"#662fca",directionalLight2:"#530080"}},backgroundGradients:{small:[{color:"#b26af5",alpha:.15013488275575845,size:.5,scale:1504,position:{x:127.0600000000007,y:-88.31000000000031,z:0}}],large:[{color:"#b26af5",alpha:.15013488275575845,size:.5,scale:1504,position:{x:127.0600000000007,y:-88.31000000000031,z:0}}]}};function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Ge=function(e){Object(h.a)(n,e);var t=He(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=!1,this._layer=this._createLayer(),this._scene=this._createScene(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents()}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e}},{key:"_createLayer",value:function(){return new S}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"Contact",camera:"default",position:new f.Vector3(0,0,300)})}},{key:"_createComponents",value:function(){return{}}},{key:"_destroyComponents",value:function(){if(this._components)for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time,t=e.delta;this._updateComponents({time:time,delta:t})}},{key:"_updateComponents",value:function(e){var component,time=e.time,t=e.delta;for(var n in this._components)"function"==typeof(component=this._components[n]).update&&component.update({time:time,delta:t})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}}]),n}(Object(d.a)()),Ee=n(121);function Ne(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ve(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ne(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ne(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Je=function(e){Object(h.a)(n,e);var t=$e(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._debug=e.debug,this._data=e.data||ve.a,this._index=e.index,this._settings={},this._bounds={},this._getSettings(),this._mesh=this._createMesh(),this._setupDebug()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"mesh",get:function(){return this._mesh}},{key:"data",get:function(){return this._data}},{key:"settings",get:function(){return this._settings}},{key:"bounds",get:function(){return this._bounds}},{key:"show",value:function(e){var t;null===(t=this._timelineHide)||void 0===t||t.kill(),this._timelineShow=new v.b.timeline,this._timelineShow.timeScale(this._settings.animations.show.timeScale);var n=this[this._settings.animations.show.name].bind(this);return this._timelineShow.add(n(e),0),this._timelineShow}},{key:"show1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.1),t}},{key:"show2",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress0,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress1,{duration:3,value:1,ease:"power3.out"},.2),t.to(this._mesh.material.uniforms.progress2,{duration:3,value:1,ease:"power3.out"},.3),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},.45),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.55),t}},{key:"hide",value:function(e){var t;null===(t=this._timelineShow)||void 0===t||t.kill(),this._timelineHide=new v.b.timeline,this._timelineHide.timeScale(this._settings.animations.hide.timeScale);var n=this[this._settings.animations.hide.name].bind(this);return this._timelineHide.add(n(e),0),this._timelineHide}},{key:"hide1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"hide2",value:function(e){var t=new v.b.timeline;return t.to(this._mesh.material.uniforms.progressOut0,{duration:3,value:1,ease:"power3.out"},0),t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"reset",value:function(){this._mesh.material.uniforms.progress0.value=0,this._mesh.material.uniforms.progress1.value=0,this._mesh.material.uniforms.progress2.value=0,this._mesh.material.uniforms.progress3.value=0,this._mesh.material.uniforms.progress4.value=0,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.inheritance;if(e)for(var i=0;i<e.length;i++){var t=JSON.parse(JSON.stringify(_e.a[e[i]]));if(t){for(var n in t)"breakpoints"!==n&&(data[n]?data[n]=Object.assign(t[n],data[n]):data[n]=t[n]);if(t.breakpoints)for(var r in data.breakpoints||(data.breakpoints={}),t.breakpoints){var o=t.breakpoints[r];if(data.breakpoints[r])for(var l in o)data.breakpoints[r][l]?data.breakpoints[r][l]=Object.assign(o[l],data.breakpoints[r][l]):data.breakpoints[r][l]=o[l];else data.breakpoints[r]=o}}else console.log("No properties found with name ".concat(e[i]))}var h=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var c in data){"object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data[c]):this._settings[c]=data[c];for(var m=0;m<h.length;m++)window.matchMedia(h[m]).matches&&data.breakpoints[h[m]][c]&&("object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data.breakpoints[h[m]][c]):this._settings[c]=data.breakpoints[h[m]][c])}}},{key:"_createMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),t=de()({font:e,flipY:!0}),n=_.ResourceLoader.get("roobert-regular-atlas");n.minFilter=f.LinearFilter,n.magFilter=f.LinearFilter;var r=new f.RawShaderMaterial({side:f.FrontSide,transparent:!0,uniforms:{opacity:{value:1},map:{value:n},color:{value:new f.Color(this._settings.style.color)},resolution:{value:new f.Vector2(0,0)},time:{value:0},threshold:{value:this._settings.rendering.threshold},alphaTest:{value:this._settings.rendering.alphaTest},outlineColor:{value:new f.Color(this._settings.outline.color)},outlineOutsetWidth:{value:this._settings.outline.outsetWidth},outlineInsetWidth:{value:this._settings.outline.insetWidth},linesTotal:{value:t.layout.linesTotal},lettersTotal:{value:t.layout.lettersTotal},colorsIntensity:{value:1},color1:{value:new f.Color(this._settings.animations.color1||this._config.theme.color1)},color2:{value:new f.Color(this._settings.animations.color2||this._config.theme.color2)},gradientScale:{value:this._settings.animations.gradientScale},gradientSpeed:{value:this._settings.animations.gradientSpeed},patternScale:{value:this._settings.animations.patternScale},texturePatternScale:{value:this._settings.animations.texturePatternScale},patternTexture:{value:new f.Texture},direction:{value:1},maskWidth:{value:this._settings.animations.maskWidth},progress0:{value:0},progress1:{value:0},progress2:{value:0},progress3:{value:0},progress4:{value:0},progressOut0:{value:0},stepSizeProgress0:{value:this._settings.animations.stepSizeProgress0},stepSizeProgress1:{value:this._settings.animations.stepSizeProgress1},stepSizeProgress2:{value:this._settings.animations.stepSizeProgress2},stepSizeProgress3:{value:this._settings.animations.stepSizeProgress3},stepSizeProgress4:{value:this._settings.animations.stepSizeProgress4},stepSizeProgressOut0:{value:this._settings.animations.stepSizeProgressOut0}},vertexShader:we.a,fragmentShader:Pe.a,extensions:{derivatives:!0},glslVersion:this.$root.isWebGL2()?f.GLSL3:f.GLSL1,defines:{WEBGL2:this.$root.isWebGL2(),IS_SMALL:this._settings.rendering.isSmall,USE_MATCAP:!1,USE_TEXTURE:!1,DEBUG_BLOOM:!1}}),o=new f.Mesh(t,r);return o.frustumCulled=!0,o.rotation.x=Math.PI,this.$root.isWebGL2()||(o.bloomMaterial=r.clone(),o.bloomMaterial.defines.BLOOM_MAP=!0,o.bloomMaterial.uniforms.patternTexture.value=r.uniforms.patternTexture.value),this.add(o),o}},{key:"_updateMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),text=this._settings.style.uppercase?this._settings.text.toUpperCase():this._settings.text;this._mesh.material.uniforms.opacity.value=this._settings.style.opacity,this._mesh.material.uniforms.color.value.set(this._settings.style.color),this._mesh.material.uniforms.outlineColor.value.set(this._settings.outline.color),this._mesh.material.uniforms.outlineOutsetWidth.value=this._settings.outline.outsetWidth,this._mesh.material.uniforms.outlineInsetWidth.value=this._settings.outline.insetWidth,this._mesh.material.uniforms.gradientScale.value=this._settings.animations.gradientScale,this._mesh.material.uniforms.gradientSpeed.value=this._settings.animations.gradientSpeed,this._mesh.material.uniforms.patternScale.value=this._settings.animations.patternScale,this._mesh.material.uniforms.texturePatternScale.value=this._settings.animations.texturePatternScale,this._mesh.material.uniforms.maskWidth.value=this._settings.animations.maskWidth,this._mesh.material.uniforms.stepSizeProgress0.value=this._settings.animations.stepSizeProgress0,this._mesh.material.uniforms.stepSizeProgress1.value=this._settings.animations.stepSizeProgress1,this._mesh.material.uniforms.stepSizeProgress2.value=this._settings.animations.stepSizeProgress2,this._mesh.material.uniforms.stepSizeProgress3.value=this._settings.animations.stepSizeProgress3,this._mesh.material.uniforms.stepSizeProgress4.value=this._settings.animations.stepSizeProgress4,this._mesh.material.uniforms.stepSizeProgressOut0.value=this._settings.animations.stepSizeProgressOut0,this._settings.animations.color1&&this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._settings.animations.color2&&this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.alphaTest.value=this._settings.rendering.alphaTest,this._mesh.material.uniforms.threshold.value=this._settings.rendering.threshold,this._mesh.material.defines.IS_SMALL!==this._settings.rendering.isSmall&&(this._mesh.material.defines.IS_SMALL=this._settings.rendering.isSmall,this._mesh.material.needsUpdate=!0);var t=(this._settings.style.fluidType?fe.a.rem(this._settings.style.fontSize):this._settings.style.fontSize)/e.info.size;this._mesh.geometry.update({text:text,width:this._settings.style.width/(this._settings.style.fontSize/e.info.size),lineHeight:e.info.size*this._settings.style.lineHeight,letterSpacing:this._settings.style.letterSpacing,align:this._settings.style.align}),this._mesh.scale.set(t*this._settings.style.scale,t*this._settings.style.scale,1),this._bounds.width=this._mesh.geometry.layout.width*t*this._settings.style.scale,this._bounds.height=this._mesh.geometry.layout.height*t*this._settings.style.scale,this.position.copy(this._settings.style.position),"top"===this._settings.style.verticalAlign&&(this.position.y=-this._bounds.height),"center"===this._settings.style.verticalAlign&&(this.position.y=-this._bounds.height/2),this._mesh.material.uniforms.linesTotal.value=this._mesh.geometry.layout.linesTotal,this._mesh.material.uniforms.lettersTotal.value=this._mesh.geometry.layout.lettersTotal,this._mesh.material.uniforms.resolution.value.set(this._bounds.width,this._bounds.height)}},{key:"_setupDebug",value:function(){var e=this;if(this._debug){var t=this._debug.addGroup('Text block "#'.concat(this._index+1," ").concat(this._data.text.substr(0,15),'..."'));t.add(this._mesh.material.defines,"DEBUG_BLOOM",{label:"Debug bloom",persistent:!0,onChange:function(){e._mesh.material.needsUpdate=!0}});var n={rendering:{breakpoints:!0,properties:[{name:"threshold",options:{min:0,max:1}},{name:"alphaTest",options:{min:0,max:1}},{name:"isSmall",options:{}}]},style:{breakpoints:!0,properties:[{name:"scale",options:{}},{name:"opacity",options:{min:0,max:1}},{name:"color",options:{}},{name:"width",options:{stepSize:.1}},{name:"fontSize",options:{stepSize:.1}},{name:"lineHeight",options:{stepSize:.001}},{name:"letterSpacing",options:{stepSize:.1}},{name:"align",options:{options:["left","center","right"]}},{name:"verticalAlign",options:{options:["bottom","top","center"]}},{name:"uppercase",options:{}},{name:"fluidType",options:{}},{name:"position",properties:[{name:"x",options:{stepSize:.1}},{name:"y",options:{stepSize:.1}},{name:"z",options:{stepSize:.1}}]}]},outline:{breakpoints:!0,properties:[{name:"color",options:{}},{name:"outsetWidth",options:{min:0,max:1}},{name:"insetWidth",options:{min:0,max:1}}]},animations:{breakpoints:!0,properties:[{name:"show",properties:[{name:"name",options:{options:["show1","show2"]}},{name:"timeScale",options:{min:0,max:5,stepSize:.001}}]},{name:"color1",options:{}},{name:"color2",options:{}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientSpeed",options:{stepSize:.01}},{name:"patternScale",options:{stepSize:.01}},{name:"texturePatternScale",options:{stepSize:.01}},{name:"maskWidth",options:{stepSize:.01}},{name:"stepSizeProgress0",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress1",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress2",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress3",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress4",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgressOut0",options:{min:0,max:1,stepSize:.001}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}var progress=t.addGroup("Animation Progresses");return progress.add(this._mesh.material.uniforms.progress0,"value",{label:"Progress 0",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress1,"value",{label:"Progress 1",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress2,"value",{label:"Progress 2",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress3,"value",{label:"Progress 3",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress4,"value",{label:"Progress 4",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progressOut0,"value",{label:"Progress out 0",min:0,max:1,stepSize:.001}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(data&&void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,Ve(Ve({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"onWindowResize",value:function(e){this._getSettings(),this._updateMesh()}},{key:"onUpdate",value:function(e){var time=e.time;e.delta;if(this._mesh.material.uniforms.time.value=time,this._mesh.bloomMaterial)for(var t in this._mesh.material.uniforms)this._mesh.bloomMaterial.uniforms[t].value=this._mesh.material.uniforms[t].value}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._updateMesh()}}]),n}(Object(d.a)(f.Object3D));function qe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ye(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?qe(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):qe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Xe=function(e){Object(h.a)(n,e);var t=Qe(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._buttonManager=e.buttonManager,this._config=e.config,this._debug=e.debug,this._data=e.data||ve.a,this._index=e.index,this._email=e.email,this._settings={},this._bounds={},this._getSettings(),this._mesh=this._createMesh(),this._setupDebug()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"mesh",get:function(){return this._mesh}},{key:"data",get:function(){return this._data}},{key:"settings",get:function(){return this._settings}},{key:"bounds",get:function(){return this._bounds}},{key:"show",value:function(e){var t;null===(t=this._timelineHide)||void 0===t||t.kill(),this._timelineShow=new v.b.timeline,this._timelineShow.timeScale(this._settings.animations.show.timeScale);var n=this[this._settings.animations.show.name].bind(this);return this._timelineShow.add(n(e),0),this._timelineShow}},{key:"show1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.1),t}},{key:"show2",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress0,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress1,{duration:3,value:1,ease:"power3.out"},.2),t.to(this._mesh.material.uniforms.progress2,{duration:3,value:1,ease:"power3.out"},.3),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},.45),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.55),t}},{key:"hide",value:function(e){var t;null===(t=this._timelineShow)||void 0===t||t.kill(),this._timelineHide=new v.b.timeline,this._timelineHide.timeScale(this._settings.animations.hide.timeScale);var n=this[this._settings.animations.hide.name].bind(this);return this._timelineHide.add(n(e),0),this._timelineHide}},{key:"hide1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"hide2",value:function(e){var t=new v.b.timeline;return t.to(this._mesh.material.uniforms.progressOut0,{duration:3,value:1,ease:"power3.out"},0),t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"reset",value:function(){this._mesh.material.uniforms.progress0.value=0,this._mesh.material.uniforms.progress1.value=0,this._mesh.material.uniforms.progress2.value=0,this._mesh.material.uniforms.progress3.value=0,this._mesh.material.uniforms.progress4.value=0,this._mesh.material.uniforms.progressOut0.value=0}},{key:"click",value:function(){window.location.href="mailto:".concat(this._email)}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.inheritance;if(e)for(var i=0;i<e.length;i++){var t=JSON.parse(JSON.stringify(_e.a[e[i]]));if(t){for(var n in t)"breakpoints"!==n&&(data[n]?data[n]=Object.assign(t[n],data[n]):data[n]=t[n]);if(t.breakpoints)for(var r in data.breakpoints||(data.breakpoints={}),t.breakpoints){var o=t.breakpoints[r];if(data.breakpoints[r])for(var l in o)data.breakpoints[r][l]?data.breakpoints[r][l]=Object.assign(o[l],data.breakpoints[r][l]):data.breakpoints[r][l]=o[l];else data.breakpoints[r]=o}}else console.log("No properties found with name ".concat(e[i]))}var h=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var c in data){"object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data[c]):this._settings[c]=data[c];for(var m=0;m<h.length;m++)window.matchMedia(h[m]).matches&&data.breakpoints[h[m]][c]&&("object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data.breakpoints[h[m]][c]):this._settings[c]=data.breakpoints[h[m]][c])}}},{key:"_createMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),t=de()({font:e,flipY:!0}),n=_.ResourceLoader.get("roobert-regular-atlas");n.minFilter=f.LinearFilter,n.magFilter=f.LinearFilter;var r=new f.RawShaderMaterial({side:f.FrontSide,transparent:!0,uniforms:{opacity:{value:1},map:{value:n},color:{value:new f.Color(this._settings.style.color)},resolution:{value:new f.Vector2(0,0)},time:{value:0},threshold:{value:this._settings.rendering.threshold},alphaTest:{value:this._settings.rendering.alphaTest},outlineColor:{value:new f.Color(this._settings.outline.color)},outlineOutsetWidth:{value:this._settings.outline.outsetWidth},outlineInsetWidth:{value:this._settings.outline.insetWidth},linesTotal:{value:t.layout.linesTotal},lettersTotal:{value:t.layout.lettersTotal},colorsIntensity:{value:1},color1:{value:new f.Color(this._settings.animations.color1||this._config.theme.color1)},color2:{value:new f.Color(this._settings.animations.color2||this._config.theme.color2)},gradientScale:{value:this._settings.animations.gradientScale},gradientSpeed:{value:this._settings.animations.gradientSpeed},patternScale:{value:this._settings.animations.patternScale},texturePatternScale:{value:this._settings.animations.texturePatternScale},patternTexture:{value:new f.Texture},direction:{value:1},maskWidth:{value:this._settings.animations.maskWidth},progress0:{value:0},progress1:{value:0},progress2:{value:0},progress3:{value:0},progress4:{value:0},progressOut0:{value:0},stepSizeProgress0:{value:this._settings.animations.stepSizeProgress0},stepSizeProgress1:{value:this._settings.animations.stepSizeProgress1},stepSizeProgress2:{value:this._settings.animations.stepSizeProgress2},stepSizeProgress3:{value:this._settings.animations.stepSizeProgress3},stepSizeProgress4:{value:this._settings.animations.stepSizeProgress4},stepSizeProgressOut0:{value:this._settings.animations.stepSizeProgressOut0}},vertexShader:we.a,fragmentShader:Pe.a,extensions:{derivatives:!0},glslVersion:this.$root.isWebGL2()?f.GLSL3:f.GLSL1,defines:{WEBGL2:this.$root.isWebGL2(),IS_SMALL:this._settings.rendering.isSmall,USE_MATCAP:!1,USE_TEXTURE:!1,DEBUG_BLOOM:!1}}),o=new f.Mesh(t,r);return o.frustumCulled=!0,o.rotation.x=Math.PI,this.$root.isWebGL2()||(o.bloomMaterial=r.clone(),o.bloomMaterial.defines.BLOOM_MAP=!0,o.bloomMaterial.uniforms.patternTexture.value=r.uniforms.patternTexture.value),this.add(o),o}},{key:"_updateMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),text=this._settings.style.uppercase?this._settings.text.toUpperCase():this._settings.text;this._mesh.material.uniforms.opacity.value=this._settings.style.opacity,this._mesh.material.uniforms.color.value.set(this._settings.style.color),this._mesh.material.uniforms.outlineColor.value.set(this._settings.outline.color),this._mesh.material.uniforms.outlineOutsetWidth.value=this._settings.outline.outsetWidth,this._mesh.material.uniforms.outlineInsetWidth.value=this._settings.outline.insetWidth,this._mesh.material.uniforms.gradientScale.value=this._settings.animations.gradientScale,this._mesh.material.uniforms.gradientSpeed.value=this._settings.animations.gradientSpeed,this._mesh.material.uniforms.patternScale.value=this._settings.animations.patternScale,this._mesh.material.uniforms.texturePatternScale.value=this._settings.animations.texturePatternScale,this._mesh.material.uniforms.maskWidth.value=this._settings.animations.maskWidth,this._mesh.material.uniforms.stepSizeProgress0.value=this._settings.animations.stepSizeProgress0,this._mesh.material.uniforms.stepSizeProgress1.value=this._settings.animations.stepSizeProgress1,this._mesh.material.uniforms.stepSizeProgress2.value=this._settings.animations.stepSizeProgress2,this._mesh.material.uniforms.stepSizeProgress3.value=this._settings.animations.stepSizeProgress3,this._mesh.material.uniforms.stepSizeProgress4.value=this._settings.animations.stepSizeProgress4,this._mesh.material.uniforms.stepSizeProgressOut0.value=this._settings.animations.stepSizeProgressOut0,this._settings.animations.color1&&this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._settings.animations.color2&&this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.alphaTest.value=this._settings.rendering.alphaTest,this._mesh.material.uniforms.threshold.value=this._settings.rendering.threshold,this._mesh.material.defines.IS_SMALL!==this._settings.rendering.isSmall&&(this._mesh.material.defines.IS_SMALL=this._settings.rendering.isSmall,this._mesh.material.needsUpdate=!0);var t=(this._settings.style.fluidType?fe.a.rem(this._settings.style.fontSize):this._settings.style.fontSize)/e.info.size;this._mesh.geometry.update({text:text,width:this._settings.style.width/(this._settings.style.fontSize/e.info.size),lineHeight:e.info.size*this._settings.style.lineHeight,letterSpacing:this._settings.style.letterSpacing,align:this._settings.style.align}),this._mesh.scale.set(t*this._settings.style.scale,t*this._settings.style.scale,1),this._bounds.width=this._mesh.geometry.layout.width*t*this._settings.style.scale,this._bounds.height=this._mesh.geometry.layout.height*t*this._settings.style.scale,"top"===this._settings.style.verticalAlign&&(this.position.y=-this._bounds.height),"center"===this._settings.style.verticalAlign&&(this.position.y=-this._bounds.height/2),this._mesh.material.uniforms.linesTotal.value=this._mesh.geometry.layout.linesTotal,this._mesh.material.uniforms.lettersTotal.value=this._mesh.geometry.layout.lettersTotal,this._mesh.material.uniforms.resolution.value.set(this._bounds.width,this._bounds.height)}},{key:"_setupDebug",value:function(){var e=this;if(this._debug){var t=this._debug.addGroup('Text block "#'.concat(this._index+1," ").concat(this._data.text.substr(0,15),'..."'));t.add(this._mesh.material.defines,"DEBUG_BLOOM",{label:"Debug bloom",persistent:!0,onChange:function(){e._mesh.material.needsUpdate=!0}});var n={rendering:{breakpoints:!0,properties:[{name:"threshold",options:{min:0,max:1}},{name:"alphaTest",options:{min:0,max:1}},{name:"isSmall",options:{}}]},style:{breakpoints:!0,properties:[{name:"scale",options:{}},{name:"opacity",options:{min:0,max:1}},{name:"color",options:{}},{name:"width",options:{stepSize:.1}},{name:"fontSize",options:{stepSize:.1}},{name:"lineHeight",options:{stepSize:.001}},{name:"letterSpacing",options:{stepSize:.1}},{name:"align",options:{options:["left","center","right"]}},{name:"verticalAlign",options:{options:["bottom","top","center"]}},{name:"uppercase",options:{}},{name:"fluidType",options:{}},{name:"position",properties:[{name:"x",options:{stepSize:.1}},{name:"y",options:{stepSize:.1}},{name:"z",options:{stepSize:.1}}]}]},outline:{breakpoints:!0,properties:[{name:"color",options:{}},{name:"outsetWidth",options:{min:0,max:1}},{name:"insetWidth",options:{min:0,max:1}}]},animations:{breakpoints:!0,properties:[{name:"show",properties:[{name:"name",options:{options:["show1","show2"]}},{name:"timeScale",options:{min:0,max:5,stepSize:.001}}]},{name:"color1",options:{}},{name:"color2",options:{}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientSpeed",options:{stepSize:.01}},{name:"patternScale",options:{stepSize:.01}},{name:"texturePatternScale",options:{stepSize:.01}},{name:"maskWidth",options:{stepSize:.01}},{name:"stepSizeProgress0",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress1",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress2",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress3",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress4",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgressOut0",options:{min:0,max:1,stepSize:.001}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}var progress=t.addGroup("Animation Progresses");return progress.add(this._mesh.material.uniforms.progress0,"value",{label:"Progress 0",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress1,"value",{label:"Progress 1",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress2,"value",{label:"Progress 2",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress3,"value",{label:"Progress 3",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress4,"value",{label:"Progress 4",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progressOut0,"value",{label:"Progress out 0",min:0,max:1,stepSize:.001}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(data&&void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,Ye(Ye({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"onWindowResize",value:function(e){this._getSettings(),this._updateMesh()}},{key:"onUpdate",value:function(e){var time=e.time;e.delta;if(this._mesh.material.uniforms.time.value=time,this._mesh.bloomMaterial)for(var t in this._mesh.material.uniforms)this._mesh.bloomMaterial.uniforms[t].value=this._mesh.material.uniforms[t].value}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._updateMesh()}}]),n}(Object(d.a)(f.Object3D)),Ke={style:{top:234,bottom:"auto",left:20,verticalAlign:"top"},breakpoints:{"(min-width: 500px)":{style:{top:"auto",bottom:500,left:200,verticalAlign:"bottom"}},"(max-height: 500px) and (min-width: 500px)":{style:{bottom:200}},"(min-width: 850px)":{style:{top:"auto",bottom:325,left:455,verticalAlign:"bottom"}}}},Ze=[{text:"get",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,height:113,opacity:1,color:"#ffffff",align:"left",verticalAlign:"top",fontSize:45,lineHeight:1,letterSpacing:0,uppercase:!0,fluidType:!0,position:{x:0,y:0,z:0}},outline:{color:"#ffffff",outsetWidth:.1,insetWidth:.1},animations:{show:{name:"show2",timeScale:.9},hide:{name:"hide2",timeScale:1.1},color1:"#AB6AED",color2:"#8000ff",gradientScale:3,gradientSpeed:.5,patternScale:3.31,texturePatternScale:1,maskWidth:1,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:110,lineHeight:.75,letterSpacing:0,verticalAlign:"bottom"}},"(max-height: 500px) and (min-width: 500px)":{style:{fontSize:90}}}},{text:"in touch",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,height:113,opacity:1,color:"#ffffff",align:"left",verticalAlign:"top",fontSize:45,lineHeight:1,letterSpacing:0,uppercase:!0,fluidType:!0,position:{x:0,y:0,z:0}},outline:{color:"#ffffff",outsetWidth:.1,insetWidth:.1},animations:{show:{name:"show2",timeScale:.9},hide:{name:"hide2",timeScale:1.1},color1:"#AB6AED",color2:"#8000ff",gradientScale:3,gradientSpeed:.5,patternScale:3.31,texturePatternScale:1,maskWidth:1,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:110,lineHeight:.75,letterSpacing:0,verticalAlign:"bottom"}},"(max-height: 500px) and (min-width: 500px)":{style:{fontSize:90}}}},{text:"with Gleec",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,height:113,opacity:1,color:"#ffffff",align:"left",verticalAlign:"top",fontSize:45,lineHeight:1,letterSpacing:0,uppercase:!0,fluidType:!0,position:{x:0,y:0,z:0}},outline:{color:"#ffffff",outsetWidth:.1,insetWidth:.1},animations:{show:{name:"show2",timeScale:.9},hide:{name:"hide2",timeScale:1.1},color1:"#AB6AED",color2:"#8000ff",gradientScale:3,gradientSpeed:.5,patternScale:3.31,texturePatternScale:1,maskWidth:1,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:110,lineHeight:.75,letterSpacing:0,verticalAlign:"bottom"}},"(max-height: 500px) and (min-width: 500px)":{style:{fontSize:90}}}},{text:"info@gleec.com",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,width:290,height:113,opacity:1,align:"left",verticalAlign:"top",color:"#AB6AED",fontSize:45,lineHeight:.8,letterSpacing:0,uppercase:!0,fluidType:!0,position:{x:0,y:0,z:0}},outline:{outsetWidth:.1,insetWidth:.1,color:"#ffffff"},animations:{show:{name:"show2",timeScale:.9},hide:{name:"hide2",timeScale:1.1},color1:"#AB6AED",color2:"#8000ff",gradientScale:3,gradientSpeed:.5,patternScale:3.31,texturePatternScale:1,maskWidth:1,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{width:1060,fontSize:110,lineHeight:.75,letterSpacing:0,verticalAlign:"bottom"}},"(max-height: 500px) and (min-width: 500px)":{style:{fontSize:90}}}}];function et(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function tt(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?et(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):et(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var st=function(e){Object(h.a)(n,e);var t=it(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._debug=e.debug,this._buttonManager=e.buttonManager,this._config=e.config,this._data=Ke,this._settings={},this._getSettings(),this._debugFolder=this._createDebugFolder(),this._viewportInnerWidth=null,this._viewportInnerHeight=null,this._textBlocksConfig=Ze,this._textBlocksConfig[this._textBlocksConfig.length-1].text=this._config.entry.fields.email,this._textBlocks=this._createTextBlocks()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyTextBlocks()}},{key:"show",value:function(){for(var e=new v.b.timeline,i=0;i<this._textBlocks.length;i++)e.add(this._textBlocks[i].textBlock.show(),0);return e}},{key:"hide",value:function(){for(var e=new v.b.timeline,i=0;i<this._textBlocks.length;i++)e.add(this._textBlocks[i].textBlock.hide(),0);return e}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var t in data){"object"===Object(x.a)(this._settings[t])?Object.assign(this._settings[t],data[t]):this._settings[t]=data[t];for(var i=0;i<e.length;i++)window.matchMedia(e[i]).matches&&data.breakpoints[e[i]][t]&&("object"===Object(x.a)(this._settings[t])?Object.assign(this._settings[t],data.breakpoints[e[i]][t]):this._settings[t]=data.breakpoints[e[i]][t])}}},{key:"_createTextBlocks",value:function(){for(var e=[],i=0;i<this._textBlocksConfig.length;i++){var t=this._textBlocksConfig[i],n=new f.Object3D,r=null;i===this._textBlocksConfig.length-1?(r=new Xe({debug:this._debugFolder,buttonManager:this._buttonManager,config:this._config,data:t,index:i,email:t.text}),this._buttonManager.add(r)):r=new Je({debug:this._debugFolder,config:this._config,data:t,index:i}),n.add(r),this.add(n),e.push({textBlock:r,container:n})}return e}},{key:"_destroyTextBlocks",value:function(){for(var i=0;i<this._textBlocks.length;i++){this._textBlocks[i].textBlock.destroy()}}},{key:"_setPositions",value:function(){var e=fe.a.rem(this._settings.style.left),t=isNaN(this._settings.style.top)?null:fe.a.rem(this._settings.style.top),n=isNaN(this._settings.style.bottom)?null:fe.a.rem(this._settings.style.bottom);this.position.x=e,t?this.position.y=-t:n&&(this.position.y=-this._viewportInnerHeight+n);var r=0;if("top"===this._settings.style.verticalAlign)for(var i=0;i<this._textBlocks.length;i++){this._textBlocks[i].container.position.y=-r,r+=this._textBlocks[i].textBlock.bounds.height}else if("bottom"===this._settings.style.verticalAlign)for(var o=this._textBlocks.length-1;o>=0;o--){this._textBlocks[o].container.position.y=r,r+=this._textBlocks[o].textBlock.bounds.height}}},{key:"update",value:function(e){e.time,e.delta}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._viewportInnerWidth=t,this._viewportInnerHeight=n,this._getSettings(),this._setPositions()}},{key:"_createDebugFolder",value:function(){var e;if(this._debug){var t=null===(e=this._debug)||void 0===e?void 0:e.addGroup("Contact Message Component"),n={style:{breakpoints:!0,properties:[{name:"top",options:{}},{name:"bottom",options:{}},{name:"left",options:{}},{name:"verticalAlign",options:{options:["top","bottom"]}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}return null==t||t.addButton("Save",{fullWidth:!0,onClick:function(){var e=[fetch("http://localhost:6842/text-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Ze,file:"./webgl/configs/texts/contact/messages.js"})}),fetch("http://localhost:6842/text-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:Ke,file:"./webgl/configs/texts/contact/message.js"})})];Promise.all(e).then((function(e){console.log("Request complete! response:",e)}))}}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(!data||void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,tt(tt({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._setPositions()}}]),n}(Object(d.a)(f.Object3D));function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var at=function(e){Object(h.a)(n,e);var t=nt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._debug=e.debug,this._config=e.config,this._viewportInnerWidth=null,this._viewportInnerHeight=null}}]),n}(Object(d.a)(f.Object3D));function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var lt=function(e){Object(h.a)(n,e);var t=ot(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=!1,this._layer=this._createLayer(),this._scene=this._createScene(),this._cameraManager=this._createCameraManager(),this._buttonManager=this._createButtonManager(),this._debug=this._createDebug(),this._container=this._createContainer(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents(),this._buttonManager.destroy()}},{key:"camera",get:function(){return this._cameraManager.camera}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e,this._buttonManager.enabled=!e}},{key:"show",value:function(){var e=new v.b.timeline;return e.set(this._buttonManager,{enabled:!0},0),e.add(this._components.contactMessage.show(),0),e}},{key:"hide",value:function(){var e=new v.b.timeline;return e.set(this._buttonManager,{enabled:!1},0),e.add(this._components.contactMessage.hide(),0),e}},{key:"_createLayer",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!1})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"Contact",type:"uiPerspective"})}},{key:"_createButtonManager",value:function(){return new Ee.a({camera:this._cameraManager.camera})}},{key:"_createContainer",value:function(){var e=new f.Object3D;return this._scene.add(e),e}},{key:"_createComponents",value:function(){return{contactMessage:this._createContactMessageComponent()}}},{key:"_createContactMessageComponent",value:function(){var component=new st({debug:this._debug,config:this._config,buttonManager:this._buttonManager});return this._container.add(component),component}},{key:"_createSocialsComponent",value:function(){var component=new at({debug:this._debug,config:this._config,buttonManager:this._buttonManager});return this._scene.add(component),component}},{key:"_destroyComponents",value:function(){if(this._components)for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time,t=e.delta;this._updateComponents({time:time,delta:t})}},{key:"_updateComponents",value:function(e){var component,time=e.time,t=e.delta;for(var n in this._components)"function"==typeof(component=this._components[n]).update&&component.update({time:time,delta:t})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._scene.position.x=-.5*t,this._scene.position.y=.5*n}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("UI",{container:"Contact"})}}]),n}(Object(d.a)());function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ht=function(e){Object(h.a)(n,e);var t=ut(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._isMenuOpen=null,this._3DScene=null,this._UIScene=null,this._resourceManager=this._createResourceManager()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._3DScene)||void 0===e||e.destroy(),null===(t=this._UIScene)||void 0===t||t.destroy()}},{key:"isMenuOpen",get:function(){return this._isMenuOpen},set:function(e){this._isMenuOpen=e,this._3DScene&&(this._3DScene.isMenuOpen=e),this._UIScene&&(this._UIScene.isMenuOpen=e)}},{key:"show",value:function(){var e=this;this._resourceManager.load().then((function(){e._3DScene||(e._3DScene=e._create3DScene()),e._UIScene||(e._UIScene=e._createUIScene()),"function"==typeof e._3DScene.show&&e._3DScene.show(),"function"==typeof e._UIScene.show&&e._UIScene.show()}))}},{key:"hide",value:function(e){var t=new v.b.timeline;"function"==typeof this._3DScene.hide&&t.add(this._3DScene.hide(),0),"function"==typeof this._UIScene.hide&&t.add(this._UIScene.hide(),0),"function"==typeof e&&t.call(e,null,2)}},{key:"_createResourceManager",value:function(){return new _.ResourceManager({namespace:"Contact"})}},{key:"_create3DScene",value:function(){return new Ge({config:this._config})}},{key:"_createUIScene",value:function(){return new lt({config:this._config})}},{key:"update",value:function(e){var t,n,time=e.time,r=e.delta;null===(t=this._3DScene)||void 0===t||t.update({time:time,delta:r}),null===(n=this._UIScene)||void 0===n||n.update({time:time,delta:r})}},{key:"render3D",value:function(){var e;return null===(e=this._3DScene)||void 0===e?void 0:e.render()}},{key:"renderUI",value:function(){var e;return null===(e=this._UIScene)||void 0===e?void 0:e.render()}}]),n}(Object(d.a)()),ct={name:"Contact",slug:"contact",class:ht,theme:{color1:"#ff3ddb",color2:"#5c0050"},menu:{lineColors:{color1:"#ffffff",color2:"#AB6AED"},lightColors:{directionalLight1:"#662fca",directionalLight2:"#530080"}},renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]}},mt=n(194);function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var ft=function(e){Object(h.a)(n,e);var t=pt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents()}},{key:"components",get:function(){return this._components}},{key:"_createLayer",value:function(){return new mt.a}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"default",position:new f.Vector3(0,0,300)})}},{key:"_createComponents",value:function(){return{}}},{key:"_destroyComponents",value:function(){for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time;this._updateComponents({time:time})}},{key:"_updateComponents",value:function(e){var time=e.time;for(var t in this._components)"function"==typeof this._components[t].update&&this._components[t].update({time:time})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(){}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("3D",{container:"Preloader"})}}]),n}(Object(d.a)());function gt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _t(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?gt(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):gt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var yt=function(e){Object(h.a)(n,e);var t=vt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._debug=e.debug,this._data=e.data||ve.a,this._configPath=e.configPath||"./webgl/configs/texts/sample.js",this._settings={},this._bounds={},this._getSettings(),this._mesh=this._createMesh(),this._setupDebug()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"mesh",get:function(){return this._mesh}},{key:"data",get:function(){return this._data}},{key:"settings",get:function(){return this._settings}},{key:"bounds",get:function(){return this._bounds}},{key:"opacity",get:function(){return this._settings.style.opacity},set:function(e){this._settings.style.opacity=e,this._mesh.material.uniforms.opacity.value=this._settings.style.opacity}},{key:"show",value:function(e){var t;null===(t=this._timelineShow)||void 0===t||t.kill(),this.visible=!0,this._timelineShow=new v.b.timeline,this._timelineShow.timeScale(this._settings.animations.show.timeScale);var n=this[this._settings.animations.show.name].bind(this);return this._timelineShow.add(n(e),0),this._timelineShow}},{key:"show1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"sine.out"},0),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"sine.out"},.1),t}},{key:"show2",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress0,{duration:3,value:1,ease:"sine.out"},0),t.to(this._mesh.material.uniforms.progress1,{duration:3,value:1,ease:"sine.out"},.2),t.to(this._mesh.material.uniforms.progress2,{duration:3,value:1,ease:"sine.out"},.3),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"sine.out"},.45),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"sine.out"},.55),t}},{key:"hide",value:function(e){var t;null===(t=this._timelineHide)||void 0===t||t.kill(),this._timelineHide=new v.b.timeline,this._timelineHide.timeScale(this._settings.animations.hide.timeScale);var n=this[this._settings.animations.hide.name].bind(this);return this._timelineHide.add(n(e),0),this._timelineHide}},{key:"hide1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"hide2",value:function(e){var t=new v.b.timeline;return t.to(this._mesh.material.uniforms.progressOut0,{duration:3,value:1,ease:"sine.out"},0),t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"reset",value:function(){this._mesh.material.uniforms.progress0.value=0,this._mesh.material.uniforms.progress1.value=0,this._mesh.material.uniforms.progress2.value=0,this._mesh.material.uniforms.progress3.value=0,this._mesh.material.uniforms.progress4.value=0,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.inheritance;if(e)for(var i=0;i<e.length;i++){var t=JSON.parse(JSON.stringify(_e.a[e[i]]));if(t){for(var n in t)"breakpoints"!==n&&(data[n]?data[n]=Object.assign(t[n],data[n]):data[n]=t[n]);if(t.breakpoints)for(var r in data.breakpoints||(data.breakpoints={}),t.breakpoints){var o=t.breakpoints[r];if(data.breakpoints[r])for(var l in o)data.breakpoints[r][l]?data.breakpoints[r][l]=Object.assign(o[l],data.breakpoints[r][l]):data.breakpoints[r][l]=o[l];else data.breakpoints[r]=o}}else console.log("No properties found with name ".concat(e[i]))}var h=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var c in data){"object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data[c]):this._settings[c]=data[c];for(var m=0;m<h.length;m++)window.matchMedia(h[m]).matches&&data.breakpoints[h[m]][c]&&("object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data.breakpoints[h[m]][c]):this._settings[c]=data.breakpoints[h[m]][c])}}},{key:"_createMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),t=de()({font:e,flipY:!0}),n=_.ResourceLoader.get("roobert-regular-atlas");n.minFilter=f.LinearFilter,n.magFilter=f.LinearFilter;var r=new f.RawShaderMaterial({side:f.FrontSide,transparent:!0,uniforms:{opacity:{value:1},map:{value:n},color:{value:new f.Color(this._settings.style.color)},resolution:{value:new f.Vector2(0,0)},time:{value:0},threshold:{value:this._settings.rendering.threshold},alphaTest:{value:this._settings.rendering.alphaTest},outlineColor:{value:new f.Color(this._settings.outline.color)},outlineOutsetWidth:{value:this._settings.outline.outsetWidth},outlineInsetWidth:{value:this._settings.outline.insetWidth},linesTotal:{value:t.layout.linesTotal},lettersTotal:{value:t.layout.lettersTotal},colorsIntensity:{value:1},color1:{value:new f.Color(this._settings.animations.color1)},color2:{value:new f.Color(this._settings.animations.color2)},gradientScale:{value:this._settings.animations.gradientScale},gradientSpeed:{value:this._settings.animations.gradientSpeed},patternScale:{value:this._settings.animations.patternScale},texturePatternScale:{value:this._settings.animations.texturePatternScale},patternTexture:{value:new f.Texture},direction:{value:1},maskWidth:{value:this._settings.animations.maskWidth},progress0:{value:0},progress1:{value:0},progress2:{value:0},progress3:{value:0},progress4:{value:0},progressOut0:{value:0},stepSizeProgress0:{value:this._settings.animations.stepSizeProgress0},stepSizeProgress1:{value:this._settings.animations.stepSizeProgress1},stepSizeProgress2:{value:this._settings.animations.stepSizeProgress2},stepSizeProgress3:{value:this._settings.animations.stepSizeProgress3},stepSizeProgress4:{value:this._settings.animations.stepSizeProgress4},stepSizeProgressOut0:{value:this._settings.animations.stepSizeProgressOut0}},vertexShader:we.a,fragmentShader:Pe.a,extensions:{derivatives:!0},glslVersion:this.$root.isWebGL2()?f.GLSL3:f.GLSL1,defines:{WEBGL2:this.$root.isWebGL2(),IS_SMALL:this._settings.rendering.isSmall,USE_MATCAP:!1,USE_TEXTURE:!1,DEBUG_BLOOM:!1}}),o=new f.Mesh(t,r);return o.frustumCulled=!0,o.rotation.x=Math.PI,this.$root.isWebGL2()||(o.bloomMaterial=r.clone(),o.bloomMaterial.defines.BLOOM_MAP=!0,o.bloomMaterial.uniforms.patternTexture.value=r.uniforms.patternTexture.value),this.add(o),o}},{key:"_updateMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),text=this._settings.style.uppercase?this._settings.text.toUpperCase():this._settings.text;this._mesh.material.uniforms.opacity.value=this._settings.style.opacity,this._mesh.material.uniforms.color.value.set(this._settings.style.color),this._mesh.material.uniforms.outlineColor.value.set(this._settings.outline.color),this._mesh.material.uniforms.outlineOutsetWidth.value=this._settings.outline.outsetWidth,this._mesh.material.uniforms.outlineInsetWidth.value=this._settings.outline.insetWidth,this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.gradientScale.value=this._settings.animations.gradientScale,this._mesh.material.uniforms.gradientSpeed.value=this._settings.animations.gradientSpeed,this._mesh.material.uniforms.patternScale.value=this._settings.animations.patternScale,this._mesh.material.uniforms.texturePatternScale.value=this._settings.animations.texturePatternScale,this._mesh.material.uniforms.maskWidth.value=this._settings.animations.maskWidth,this._mesh.material.uniforms.stepSizeProgress0.value=this._settings.animations.stepSizeProgress0,this._mesh.material.uniforms.stepSizeProgress1.value=this._settings.animations.stepSizeProgress1,this._mesh.material.uniforms.stepSizeProgress2.value=this._settings.animations.stepSizeProgress2,this._mesh.material.uniforms.stepSizeProgress3.value=this._settings.animations.stepSizeProgress3,this._mesh.material.uniforms.stepSizeProgress4.value=this._settings.animations.stepSizeProgress4,this._mesh.material.uniforms.stepSizeProgressOut0.value=this._settings.animations.stepSizeProgressOut0,this._settings.animations.color1&&this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._settings.animations.color2&&this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.alphaTest.value=this._settings.rendering.alphaTest,this._mesh.material.uniforms.threshold.value=this._settings.rendering.threshold,this._mesh.material.defines.IS_SMALL!==this._settings.rendering.isSmall&&(this._mesh.material.defines.IS_SMALL=this._settings.rendering.isSmall,this._mesh.material.needsUpdate=!0);var t=(this._settings.style.fluidType?fe.a.rem(this._settings.style.fontSize):this._settings.style.fontSize)/e.info.size;this._mesh.geometry.update({text:text,width:this._settings.style.width/(this._settings.style.fontSize/e.info.size),lineHeight:e.info.size*this._settings.style.lineHeight,letterSpacing:this._settings.style.letterSpacing,align:this._settings.style.align}),this._mesh.scale.set(t*this._settings.style.scale,t*this._settings.style.scale,1),this._bounds.width=this._mesh.geometry.layout.width*t*this._settings.style.scale,this._bounds.height=this._mesh.geometry.layout.height*t*this._settings.style.scale,this.position.copy(this._settings.style.position),"top"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height*t*this._settings.style.scale),"center"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height/2*t*this._settings.style.scale,this.position.y+=4),this._mesh.material.uniforms.linesTotal.value=this._mesh.geometry.layout.linesTotal,this._mesh.material.uniforms.lettersTotal.value=this._mesh.geometry.layout.lettersTotal,this._mesh.material.uniforms.resolution.value.set(this._bounds.width,this._bounds.height)}},{key:"_resetDebugProgresses",value:function(){var e,t;null===(e=this._timelineShow)||void 0===e||e.kill(),null===(t=this._timelineHide)||void 0===t||t.kill(),this._mesh.material.uniforms.progress0.value=1,this._mesh.material.uniforms.progress1.value=.72,this._mesh.material.uniforms.progress2.value=.65,this._mesh.material.uniforms.progress3.value=.54,this._mesh.material.uniforms.progress4.value=.42,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_setupDebug",value:function(){var e=this;if(this._debug){var t=this._debug.addGroup("".concat(this._data.text));t.add(this._mesh.material.defines,"DEBUG_BLOOM",{label:"Debug bloom",persistent:!0,onChange:function(){e._mesh.material.needsUpdate=!0}});var n={rendering:{breakpoints:!0,properties:[{name:"threshold",options:{min:0,max:1,stepSize:.001}},{name:"alphaTest",options:{min:0,max:1,stepSize:.001}},{name:"isSmall",options:{}}]},style:{breakpoints:!0,properties:[{name:"scale",options:{}},{name:"opacity",options:{min:0,max:1}},{name:"color",options:{}},{name:"width",options:{stepSize:.1}},{name:"fontSize",options:{stepSize:.1}},{name:"lineHeight",options:{stepSize:.001}},{name:"letterSpacing",options:{stepSize:.1}},{name:"align",options:{options:["left","center","right"]}},{name:"verticalAlign",options:{options:["bottom","top","center"]}},{name:"uppercase",options:{}},{name:"fluidType",options:{}},{name:"position",properties:[{name:"x",options:{stepSize:.1}},{name:"y",options:{stepSize:.1}},{name:"z",options:{stepSize:.1}}]}]},outline:{breakpoints:!0,properties:[{name:"color",options:{}},{name:"outsetWidth",options:{min:0,max:1}},{name:"insetWidth",options:{min:0,max:1}}]},animations:{breakpoints:!0,properties:[{name:"show",properties:[{name:"name",options:{options:["show1","show2"]}},{name:"timeScale",options:{min:0,max:5,stepSize:.001}}]},{name:"color1"},{name:"color2"},{name:"gradientSpeed",options:{stepSize:.01}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientSpeed",options:{stepSize:.01}},{name:"patternScale",options:{stepSize:.01}},{name:"texturePatternScale",options:{stepSize:.01}},{name:"maskWidth",options:{stepSize:.01}},{name:"stepSizeProgress0",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress1",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress2",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress3",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress4",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgressOut0",options:{min:0,max:1,stepSize:.001}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}var progress=t.addGroup("Animation Progresses (Not saved)");return progress.add(this._mesh.material.uniforms.progress0,"value",{label:"Progress 0",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress1,"value",{label:"Progress 1",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress2,"value",{label:"Progress 2",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress3,"value",{label:"Progress 3",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress4,"value",{label:"Progress 4",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progressOut0,"value",{label:"Progress out 0",min:0,max:1,stepSize:.001}),t.addButton("Reset",{onChange:this.reset.bind(this),fullWidth:!0}),t.addButton("Reset debug",{onChange:this._resetDebugProgresses.bind(this),fullWidth:!0}),t.addButton("Show",{onChange:this.show.bind(this),fullWidth:!0}),t.addButton("Hide",{onChange:this.hide.bind(this),fullWidth:!0}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(!data||void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,_t(_t({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"onWindowResize",value:function(e){this._getSettings(),this._updateMesh()}},{key:"onUpdate",value:function(e){var time=e.time;e.delta;if(this._mesh.material.uniforms.time.value=time,this._mesh.bloomMaterial)for(var t in this._mesh.material.uniforms)this._mesh.bloomMaterial.uniforms[t].value=this._mesh.material.uniforms[t].value}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._updateMesh()}}]),n}(Object(d.a)(f.Object3D)),bt=[{text:"Loading",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,width:254.99999999999935,opacity:1,color:"#ffffff",highlightColor:"#AB6AED",align:"center",verticalAlign:"center",fontSize:25,lineHeight:1,letterSpacing:0,uppercase:!0,fluidType:!0,position:{x:0,y:0,z:0}},outline:{color:"#adadad",outsetWidth:.40352175199763246,insetWidth:.40352175199763246},animations:{show:{name:"show2",timeScale:.5},hide:{name:"hide2",timeScale:.5},color1:"#ff822e",color2:"#ff0000",highlightColor1:"#ffffff",highlightColor2:"#8000ff",gradientScale:20.74,gradientSpeed:29.410000000000004,patternScale:3,texturePatternScale:1,maskWidth:.6199999999999855,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:56}}}},{text:"Gleec",rendering:{threshold:0,alphaTest:0,isSmall:!1},style:{scale:1,width:186.09999999999883,opacity:1,color:"#ffffff",highlightColor:"#AB6AED",align:"center",verticalAlign:"center",fontSize:25,lineHeight:1,letterSpacing:0,uppercase:!0,fluidType:!0,position:{x:0,y:0,z:0}},outline:{color:"#adadad",outsetWidth:.3980092718843741,insetWidth:.3980092718843741},animations:{show:{name:"show2",timeScale:.5},hide:{name:"hide2",timeScale:.5},color1:"#0033ff",color2:"#8000ff",highlightColor1:"#ffffff",highlightColor2:"#8000ff",gradientScale:26.470000000000017,gradientSpeed:26.77999999999997,patternScale:2,texturePatternScale:1,maskWidth:.6999999999999851,stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:1},breakpoints:{"(min-width: 500px)":{style:{fontSize:56}}}}];function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var kt=function(e){Object(h.a)(n,e);var t=St(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._debug=e.debug,this._debugFolder=this._createDebugFolder(),this._textBlocks=this._createTextBlocks(),this.scale.set(1,1,1)}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"play",value:function(){var e=new v.b.timeline;return e.add(this.playTextBlock(0),0),e.add(this.playTextBlock(1),2.1),e}},{key:"playTextBlock",value:function(e){var t=this,n=new v.b.timeline;return n.call((function(){t._textBlocks[e].instance.reset()}),null,0),n.add(this._textBlocks[e].instance.show(),0),n.add(this._textBlocks[e].instance.hide(),2.3),n}},{key:"show",value:function(){var e=this,t=new v.b.timeline;return t.timeScale(2),t.call((function(){e._textBlocks[1].instance.reset()}),null,0),t.add(this._textBlocks[1].instance.show(),0),t}},{key:"hide",value:function(){var e=new v.b.timeline;return e.to(this.position,{duration:2,z:-350,ease:"power3.in"},0),e.to(this._textBlocks[1].instance,{duration:1.5,opacity:0,ease:"sine.inOut"},.5),e}},{key:"_createTextBlocks",value:function(){for(var e=[],i=0;i<bt.length;i++){var t=new f.Object3D,n=new yt({data:bt[i],debug:this._debugFolder});t.position.x=-n.bounds.width/2,t.add(n),this.add(t),e.push({instance:n,container:t})}return e}},{key:"onUpdate",value:function(){}},{key:"onWindowResize",value:function(e){this.position.x=e.innerWidth/2,this.position.y=-e.innerHeight/2}},{key:"_createDebugFolder",value:function(){if(this._debug){var e=this._debug.addGroup("Text Animation");return e.addButton("Save",{fullWidth:!0,onClick:function(){fetch("http://localhost:6842/text-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:bt,file:"./webgl/configs/texts/preloader/texts.js"})}).then((function(e){console.log("Request complete! response:",e)}))}}),e}}}]),n}(Object(d.a)(f.Object3D));function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Ot=function(e){Object(h.a)(n,e);var t=xt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"play",value:function(){return this._components.textAnimation.play()}},{key:"show",value:function(){return this._components.textAnimation.show()}},{key:"hide",value:function(){return this._components.textAnimation.hide()}},{key:"_createLayer",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!0})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"uiPerspective"})}},{key:"_createComponents",value:function(){return{textAnimation:this._createTextAnimation()}}},{key:"_createTextAnimation",value:function(){var e=new kt({config:this._config,debug:this._debug});return this._scene.add(e),e}},{key:"update",value:function(){}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._scene.position.x=-.5*t,this._scene.position.y=.5*n}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("UI",{container:"Preloader"})}}]),n}(Object(d.a)());function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Pt=function(e){Object(h.a)(n,e);var t=wt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._3DScene)||void 0===e||e.destroy(),null===(t=this._UIScene)||void 0===t||t.destroy()}},{key:"show",value:function(){this._3DScene=this._create3DScene(),this._UIScene=this._createUIScene()}},{key:"hide",value:function(){return this._UIScene.hide()}},{key:"playLoadingAnimation",value:function(){return this._UIScene.play()}},{key:"playLoadingCompleteAnimation",value:function(){return this._UIScene.show()}},{key:"_create3DScene",value:function(){return new ft({config:this._config})}},{key:"_createUIScene",value:function(){return new Ot({config:this._config})}},{key:"update",value:function(e){var t,n,time=e.time,r=e.delta;null===(t=this._3DScene)||void 0===t||t.update({time:time,delta:r}),null===(n=this._UIScene)||void 0===n||n.update({time:time,delta:r})}},{key:"render3D",value:function(){var e;return null===(e=this._3DScene)||void 0===e?void 0:e.render()}},{key:"renderUI",value:function(){var e;return null===(e=this._UIScene)||void 0===e?void 0:e.render()}}]),n}(Object(d.a)()),zt={name:"Preloader",slug:"preloader",class:Pt,theme:{color1:"#00ccff",color2:"#500a8a"},renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]}};function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Mt=function(e){Object(h.a)(n,e);var t=jt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents()}},{key:"components",get:function(){return this._components}},{key:"_createLayer",value:function(){return new mt.a}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"default",position:new f.Vector3(0,0,300)})}},{key:"_createComponents",value:function(){return{}}},{key:"_destroyComponents",value:function(){for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time;this._updateComponents({time:time})}},{key:"_updateComponents",value:function(e){var time=e.time;for(var t in this._components)"function"==typeof this._components[t].update&&this._components[t].update({time:time})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(){}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("3D",{container:"Debug"})}}]),n}(Object(d.a)());function Tt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ct(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Tt(Object(source),!0).forEach((function(t){Object(R.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Tt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Rt=function(e){Object(h.a)(n,e);var t=Dt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._debug=e.debug,this._data=e.data||ve.a,this._configPath=e.configPath||"./webgl/configs/texts/sample.js",this._settings={},this._bounds={},this._getSettings(),this._mesh=this._createMesh(),this._setupDebug()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"mesh",get:function(){return this._mesh}},{key:"data",get:function(){return this._data}},{key:"settings",get:function(){return this._settings}},{key:"bounds",get:function(){return this._bounds}},{key:"show",value:function(e){var t;this.visible=!0,null===(t=this._timelineHide)||void 0===t||t.kill(),this._timelineShow=new v.b.timeline,this._timelineShow.timeScale(this._settings.animations.show.timeScale);var n=this[this._settings.animations.show.name].bind(this);return this._timelineShow.add(n(e),0),this._timelineShow}},{key:"show1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.1),t}},{key:"show2",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progressOut0,{value:0},0),t.to(this._mesh.material.uniforms.progress0,{duration:3,value:1,ease:"power3.out"},0),t.to(this._mesh.material.uniforms.progress1,{duration:3,value:1,ease:"power3.out"},.2),t.to(this._mesh.material.uniforms.progress2,{duration:3,value:1,ease:"power3.out"},.3),t.to(this._mesh.material.uniforms.progress3,{duration:3,value:1,ease:"power3.out"},.45),t.to(this._mesh.material.uniforms.progress4,{duration:3,value:1,ease:"power3.out"},.55),t}},{key:"hide",value:function(e){var t;null===(t=this._timelineShow)||void 0===t||t.kill(),this._timelineHide=new v.b.timeline,this._timelineHide.timeScale(this._settings.animations.hide.timeScale);var n=this[this._settings.animations.hide.name].bind(this);return this._timelineHide.add(n(e),0),this._timelineHide}},{key:"hide1",value:function(e){var t=new v.b.timeline;return t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"hide2",value:function(e){var t=new v.b.timeline;return t.to(this._mesh.material.uniforms.progressOut0,{duration:3,value:1,ease:"power3.out"},0),t.set(this._mesh.material.uniforms.progress0,{value:0}),t.set(this._mesh.material.uniforms.progress1,{value:0}),t.set(this._mesh.material.uniforms.progress2,{value:0}),t.set(this._mesh.material.uniforms.progress3,{value:0}),t.set(this._mesh.material.uniforms.progress4,{value:0}),t}},{key:"reset",value:function(){var e,t;null===(e=this._timelineShow)||void 0===e||e.kill(),null===(t=this._timelineHide)||void 0===t||t.kill(),this._mesh.material.uniforms.progress0.value=0,this._mesh.material.uniforms.progress1.value=0,this._mesh.material.uniforms.progress2.value=0,this._mesh.material.uniforms.progress3.value=0,this._mesh.material.uniforms.progress4.value=0,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_getSettings",value:function(){var data=JSON.parse(JSON.stringify(this._data)),e=data.inheritance;if(e)for(var i=0;i<e.length;i++){var t=JSON.parse(JSON.stringify(_e.a[e[i]]));if(t){for(var n in t)"breakpoints"!==n&&(data[n]?data[n]=Object.assign(t[n],data[n]):data[n]=t[n]);if(t.breakpoints)for(var r in data.breakpoints||(data.breakpoints={}),t.breakpoints){var o=t.breakpoints[r];if(data.breakpoints[r])for(var l in o)data.breakpoints[r][l]?data.breakpoints[r][l]=Object.assign(o[l],data.breakpoints[r][l]):data.breakpoints[r][l]=o[l];else data.breakpoints[r]=o}}else console.log("No properties found with name ".concat(e[i]))}var h=data.breakpoints?Object.getOwnPropertyNames(data.breakpoints):[];for(var c in data){"object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data[c]):this._settings[c]=data[c];for(var m=0;m<h.length;m++)window.matchMedia(h[m]).matches&&data.breakpoints[h[m]][c]&&("object"===Object(x.a)(this._settings[c])?Object.assign(this._settings[c],data.breakpoints[h[m]][c]):this._settings[c]=data.breakpoints[h[m]][c])}}},{key:"_createMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),t=de()({font:e,flipY:!0}),n=_.ResourceLoader.get("roobert-regular-atlas");n.minFilter=f.LinearFilter,n.magFilter=f.LinearFilter;var r=new f.RawShaderMaterial({side:f.FrontSide,transparent:!0,uniforms:{opacity:{value:1},map:{value:n},color:{value:new f.Color(this._settings.style.color)},resolution:{value:new f.Vector2(0,0)},time:{value:0},threshold:{value:this._settings.rendering.threshold},alphaTest:{value:this._settings.rendering.alphaTest},outlineColor:{value:new f.Color(this._settings.outline.color)},outlineOutsetWidth:{value:this._settings.outline.outsetWidth},outlineInsetWidth:{value:this._settings.outline.insetWidth},linesTotal:{value:t.layout.linesTotal},lettersTotal:{value:t.layout.lettersTotal},colorsIntensity:{value:1},color1:{value:new f.Color(this._settings.animations.color1)},color2:{value:new f.Color(this._settings.animations.color2)},gradientScale:{value:this._settings.animations.gradientScale},gradientSpeed:{value:this._settings.animations.gradientSpeed},patternScale:{value:this._settings.animations.patternScale},texturePatternScale:{value:this._settings.animations.texturePatternScale},patternTexture:{value:new f.Texture},direction:{value:1},maskWidth:{value:this._settings.animations.maskWidth},progress0:{value:1},progress1:{value:.72},progress2:{value:.65},progress3:{value:.54},progress4:{value:.42},progressOut0:{value:0},stepSizeProgress0:{value:this._settings.animations.stepSizeProgress0},stepSizeProgress1:{value:this._settings.animations.stepSizeProgress1},stepSizeProgress2:{value:this._settings.animations.stepSizeProgress2},stepSizeProgress3:{value:this._settings.animations.stepSizeProgress3},stepSizeProgress4:{value:this._settings.animations.stepSizeProgress4},stepSizeProgressOut0:{value:this._settings.animations.stepSizeProgressOut0}},vertexShader:we.a,fragmentShader:Pe.a,extensions:{derivatives:!0},glslVersion:this.$root.isWebGL2()?f.GLSL3:f.GLSL1,defines:{WEBGL2:this.$root.isWebGL2(),IS_SMALL:this._settings.rendering.isSmall,USE_MATCAP:!1,USE_TEXTURE:!1,DEBUG_BLOOM:!1}}),o=new f.Mesh(t,r);return o.frustumCulled=!0,o.rotation.x=Math.PI,this.$root.isWebGL2()||(o.bloomMaterial=r.clone(),o.bloomMaterial.defines.BLOOM_MAP=!0,o.bloomMaterial.uniforms.patternTexture.value=r.uniforms.patternTexture.value),this.add(o),o}},{key:"_updateMesh",value:function(){var e=_.ResourceLoader.get("roobert-regular-fnt"),text=this._settings.style.uppercase?this._settings.text.toUpperCase():this._settings.text;this._mesh.material.uniforms.opacity.value=this._settings.style.opacity,this._mesh.material.uniforms.color.value.set(this._settings.style.color),this._mesh.material.uniforms.outlineColor.value.set(this._settings.outline.color),this._mesh.material.uniforms.outlineOutsetWidth.value=this._settings.outline.outsetWidth,this._mesh.material.uniforms.outlineInsetWidth.value=this._settings.outline.insetWidth,this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.gradientScale.value=this._settings.animations.gradientScale,this._mesh.material.uniforms.gradientSpeed.value=this._settings.animations.gradientSpeed,this._mesh.material.uniforms.patternScale.value=this._settings.animations.patternScale,this._mesh.material.uniforms.texturePatternScale.value=this._settings.animations.texturePatternScale,this._mesh.material.uniforms.maskWidth.value=this._settings.animations.maskWidth,this._mesh.material.uniforms.stepSizeProgress0.value=this._settings.animations.stepSizeProgress0,this._mesh.material.uniforms.stepSizeProgress1.value=this._settings.animations.stepSizeProgress1,this._mesh.material.uniforms.stepSizeProgress2.value=this._settings.animations.stepSizeProgress2,this._mesh.material.uniforms.stepSizeProgress3.value=this._settings.animations.stepSizeProgress3,this._mesh.material.uniforms.stepSizeProgress4.value=this._settings.animations.stepSizeProgress4,this._mesh.material.uniforms.stepSizeProgressOut0.value=this._settings.animations.stepSizeProgressOut0,this._settings.animations.color1&&this._mesh.material.uniforms.color1.value.set(this._settings.animations.color1),this._settings.animations.color2&&this._mesh.material.uniforms.color2.value.set(this._settings.animations.color2),this._mesh.material.uniforms.alphaTest.value=this._settings.rendering.alphaTest,this._mesh.material.uniforms.threshold.value=this._settings.rendering.threshold,this._mesh.material.defines.IS_SMALL!==this._settings.rendering.isSmall&&(this._mesh.material.defines.IS_SMALL=this._settings.rendering.isSmall,this._mesh.material.needsUpdate=!0);var t=(this._settings.style.fluidType?fe.a.rem(this._settings.style.fontSize):this._settings.style.fontSize)/e.info.size;this._mesh.geometry.update({text:text,width:this._settings.style.width/(this._settings.style.fontSize/e.info.size),lineHeight:e.info.size*this._settings.style.lineHeight,letterSpacing:this._settings.style.letterSpacing,align:this._settings.style.align}),this._mesh.scale.set(t*this._settings.style.scale,t*this._settings.style.scale,1),this._bounds.width=this._mesh.geometry.layout.width*t*this._settings.style.scale,this._bounds.height=this._mesh.geometry.layout.height*t*this._settings.style.scale,this.position.copy(this._settings.style.position),"top"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height*t*this._settings.style.scale),"center"===this._settings.style.verticalAlign&&(this.position.y-=this._mesh.geometry.layout.height/2*t*this._settings.style.scale),this._mesh.material.uniforms.linesTotal.value=this._mesh.geometry.layout.linesTotal,this._mesh.material.uniforms.lettersTotal.value=this._mesh.geometry.layout.lettersTotal,this._mesh.material.uniforms.resolution.value.set(this._bounds.width,this._bounds.height)}},{key:"_resetDebugProgresses",value:function(){var e,t;null===(e=this._timelineShow)||void 0===e||e.kill(),null===(t=this._timelineHide)||void 0===t||t.kill(),this._mesh.material.uniforms.progress0.value=1,this._mesh.material.uniforms.progress1.value=.72,this._mesh.material.uniforms.progress2.value=.65,this._mesh.material.uniforms.progress3.value=.54,this._mesh.material.uniforms.progress4.value=.42,this._mesh.material.uniforms.progressOut0.value=0}},{key:"_setupDebug",value:function(){var e=this;if(this._debug){var t=this._debug.addGroup("Text Component");t.add(this._mesh.material.defines,"DEBUG_BLOOM",{label:"Debug bloom",persistent:!0,onChange:function(){e._mesh.material.needsUpdate=!0}}),t.addButton("Save",{fullWidth:!0,onClick:function(){fetch("http://localhost:6842/text-component",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e._data,file:e._configPath})}).then((function(e){console.log("Request complete! response:",e)}))}});var n={rendering:{breakpoints:!0,properties:[{name:"threshold",options:{min:0,max:1,stepSize:.001}},{name:"alphaTest",options:{min:0,max:1,stepSize:.001}},{name:"isSmall",options:{}}]},style:{breakpoints:!0,properties:[{name:"scale",options:{}},{name:"opacity",options:{min:0,max:1}},{name:"color",options:{}},{name:"width",options:{stepSize:.1}},{name:"fontSize",options:{stepSize:.1}},{name:"lineHeight",options:{stepSize:.001}},{name:"letterSpacing",options:{stepSize:.1}},{name:"align",options:{options:["left","center","right"]}},{name:"verticalAlign",options:{options:["bottom","top","center"]}},{name:"uppercase",options:{}},{name:"fluidType",options:{}},{name:"position",properties:[{name:"x",options:{stepSize:.1}},{name:"y",options:{stepSize:.1}},{name:"z",options:{stepSize:.1}}]}]},outline:{breakpoints:!0,properties:[{name:"color",options:{}},{name:"outsetWidth",options:{min:0,max:1}},{name:"insetWidth",options:{min:0,max:1}}]},animations:{breakpoints:!0,properties:[{name:"show",properties:[{name:"name",options:{options:["show1","show2"]}},{name:"timeScale",options:{min:0,max:5,stepSize:.001}}]},{name:"color1"},{name:"color2"},{name:"gradientSpeed",options:{stepSize:.01}},{name:"gradientScale",options:{stepSize:.01}},{name:"gradientSpeed",options:{stepSize:.01}},{name:"patternScale",options:{stepSize:.01}},{name:"texturePatternScale",options:{stepSize:.01}},{name:"maskWidth",options:{stepSize:.01}},{name:"stepSizeProgress0",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress1",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress2",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress3",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgress4",options:{min:0,max:1,stepSize:.001}},{name:"stepSizeProgressOut0",options:{min:0,max:1,stepSize:.001}}]}};for(var r in n){var o=t.addGroup(r),l=this._data.breakpoints&&Object.keys(this._data.breakpoints).length>0?o.addGroup("(min-width: 0px)"):o;if(this._addDebugProperties(this._data[r],n[r].properties,l),this._data.breakpoints&&n[r].breakpoints)for(var h in this._data.breakpoints){var c=this._data.breakpoints[h];if(c[r]){var m=o.addGroup(h);this._addDebugProperties(c[r],n[r].properties,m)}}}var progress=t.addGroup("Animation Progresses (Not saved)");return progress.add(this._mesh.material.uniforms.progress0,"value",{label:"Progress 0",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress1,"value",{label:"Progress 1",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress2,"value",{label:"Progress 2",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress3,"value",{label:"Progress 3",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progress4,"value",{label:"Progress 4",min:0,max:1,stepSize:.001}),progress.add(this._mesh.material.uniforms.progressOut0,"value",{label:"Progress out 0",min:0,max:1,stepSize:.001}),t.addButton("Reset",{onChange:this.reset.bind(this),fullWidth:!0}),t.addButton("Reset debug",{onChange:this._resetDebugProgresses.bind(this),fullWidth:!0}),t.addButton("Show",{onChange:this.show.bind(this),fullWidth:!0}),t.addButton("Hide",{onChange:this.hide.bind(this),fullWidth:!0}),t}}},{key:"_addDebugProperties",value:function(data,e,t){for(var n=this,i=0;i<e.length;i++){var r=e[i];if(!data||void 0!==data[r.name])if("object"===Object(x.a)(data[r.name])&&r.properties){var o=t.addGroup(r.name);this._addDebugProperties(data[r.name],r.properties,o)}else t.add(data,r.name,Ct(Ct({},r.options),{},{onChange:function(){n._settingsChangeHandler()}}))}}},{key:"onWindowResize",value:function(e){this._getSettings(),this._updateMesh()}},{key:"onUpdate",value:function(e){var time=e.time;e.delta;if(this._mesh.material.uniforms.time.value=time,this._mesh.bloomMaterial)for(var t in this._mesh.material.uniforms)this._mesh.bloomMaterial.uniforms[t].value=this._mesh.material.uniforms[t].value}},{key:"_settingsChangeHandler",value:function(){this._getSettings(),this._updateMesh()}}]),n}(Object(d.a)(f.Object3D)),Bt={inheritance:["heading"],text:"Gleec Coin is an utility coin that finds its main use as the native coin of Gleec Ecosystem, a digital ecosystem powered by blockchain technology.",slideIndex:0,rendering:{},style:{scale:1.3900000000000003,width:1277.6999999999998,align:"left",fontSize:70,color:"#ffffff",position:{x:0,y:1.8000000000000003,z:0}},outline:{},intersection:{disabled:!0,threshold:.5,area:{left:.1,right:.1},visible:!1},parallax:{speed:1.4800000000000004,damping:.5},animations:{show:{name:"show2",timeScale:.7174725046690185},hide:{name:"hide2",timeScale:.94},gradientScale:11.139999999999937,gradientSpeed:1.8800000000000239,patternScale:10.040000000000022,texturePatternScale:.7899999999999998,maskWidth:.6499999999999997,color1:"#ffffff",color2:"#00ff04",stepSizeProgress0:0,stepSizeProgress1:0,stepSizeProgress2:0,stepSizeProgress3:0,stepSizeProgress4:0,stepSizeProgressOut0:0},breakpoints:{"(min-width: 500px)":{style:{position:{x:0,y:3.1000000000000014,z:0}}},"(min-width: 850px)":{style:{position:{x:260.5,y:-875.8000000000009,z:0}}}}};function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var It=function(e){Object(h.a)(n,e);var t=Lt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"_createLayer",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!0})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"Error",type:"uiPerspective"})}},{key:"_createComponents",value:function(){return{}}},{key:"update",value:function(){}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._scene.position.x=-.5*t,this._scene.position.y=.5*n}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("UI",{container:"Error"})}}]),n}(Object(d.a)());function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Wt=function(e){Object(h.a)(n,e);var t=Ut(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._resourceManager=this._createResourceManager()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._3DScene)||void 0===e||e.destroy(),null===(t=this._UIScene)||void 0===t||t.destroy()}},{key:"show",value:function(){var e=this;this._resourceManager.load().then((function(){e._3DScene||(e._3DScene=e._create3DScene()),e._UIScene||(e._UIScene=e._createUIScene())}))}},{key:"hide",value:function(){}},{key:"_createResourceManager",value:function(){return new _.ResourceManager({namespace:"Error"})}},{key:"_create3DScene",value:function(){return new Mt({config:this._config})}},{key:"_createUIScene",value:function(){return new It({config:this._config})}},{key:"update",value:function(e){var t,n,time=e.time,r=e.delta;null===(t=this._3DScene)||void 0===t||t.update({time:time,delta:r}),null===(n=this._UIScene)||void 0===n||n.update({time:time,delta:r})}},{key:"render3D",value:function(){var e;return null===(e=this._3DScene)||void 0===e?void 0:e.render()}},{key:"renderUI",value:function(){var e;return null===(e=this._UIScene)||void 0===e?void 0:e.render()}}]),n}(Object(d.a)()),At={name:"Error",slug:"error",class:Wt,theme:{color1:"#ffffff",color2:"#ffffff"},menu:{lineColors:{color1:"#ffffff",color2:"#AB6AED"},lightColors:{directionalLight1:"#662fca",directionalLight2:"#530080"}},renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]}};function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Ht=function(e){Object(h.a)(n,e);var t=Ft(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents()}},{key:"components",get:function(){return this._components}},{key:"_createLayer",value:function(){return new mt.a}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"default",position:new f.Vector3(0,0,300)})}},{key:"_createComponents",value:function(){return{}}},{key:"_destroyComponents",value:function(){for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"update",value:function(e){var time=e.time;this._updateComponents({time:time})}},{key:"_updateComponents",value:function(e){var time=e.time;for(var t in this._components)"function"==typeof this._components[t].update&&this._components[t].update({time:time})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(){}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("3D",{container:"Debug"})}}]),n}(Object(d.a)());function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Et=function(e){Object(h.a)(n,e);var t=Gt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"_createLayer",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!0})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"Privacy",type:"uiPerspective"})}},{key:"_createComponents",value:function(){return{}}},{key:"update",value:function(){}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._scene.position.x=-.5*t,this._scene.position.y=.5*n}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("UI",{container:"Error"})}}]),n}(Object(d.a)());function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Vt=function(e){Object(h.a)(n,e);var t=Nt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._resourceManager=this._createResourceManager()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._3DScene)||void 0===e||e.destroy(),null===(t=this._UIScene)||void 0===t||t.destroy()}},{key:"show",value:function(){var e=this;this._resourceManager.load().then((function(){e._3DScene||(e._3DScene=e._create3DScene()),e._UIScene||(e._UIScene=e._createUIScene())}))}},{key:"hide",value:function(){}},{key:"_createResourceManager",value:function(){return new _.ResourceManager({namespace:"Privacy"})}},{key:"_create3DScene",value:function(){return new Ht({config:this._config})}},{key:"_createUIScene",value:function(){return new Et({config:this._config})}},{key:"update",value:function(e){var t,n,time=e.time,r=e.delta;null===(t=this._3DScene)||void 0===t||t.update({time:time,delta:r}),null===(n=this._UIScene)||void 0===n||n.update({time:time,delta:r})}},{key:"render3D",value:function(){var e;return null===(e=this._3DScene)||void 0===e?void 0:e.render()}},{key:"renderUI",value:function(){var e;return null===(e=this._UIScene)||void 0===e?void 0:e.render()}}]),n}(Object(d.a)()),$t={name:"Privacy",slug:"privacy",class:Vt,theme:{color1:"#ffffff",color2:"#ffffff"},menu:{lineColors:{color1:"#ffffff",color2:"#AB6AED"},lightColors:{directionalLight1:"#662fca",directionalLight2:"#530080"}},renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]}},Jt=n(123);function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Yt=function(e){Object(h.a)(n,e);var t=qt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),this._destroyComponents()}},{key:"components",get:function(){return this._components}},{key:"_createLayer",value:function(){return new mt.a}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"default",position:new f.Vector3(0,0,300)})}},{key:"_createComponents",value:function(){return{circleProgress:this._createCircleProgressComponent()}}},{key:"_destroyComponents",value:function(){for(var e in this._components)"function"==typeof this._components[e].destroy&&this._components[e].destroy()}},{key:"_createCircleProgressComponent",value:function(){var e=new Jt.a({debugger:this._debug,config:this._config});return e.position.z=10,this._scene.add(e),e}},{key:"update",value:function(e){var time=e.time;this._updateComponents({time:time})}},{key:"_updateComponents",value:function(e){var time=e.time;for(var t in this._components)"function"==typeof this._components[t].update&&this._components[t].update({time:time})}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(){}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("3D",{container:"Debug"})}}]),n}(Object(d.a)());function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Xt=function(e){Object(h.a)(n,e);var t=Qt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._layer=this._createLayer(),this._scene=this._createScene(),this._debug=this._createDebug(),this._cameraManager=this._createCameraManager(),this._components=this._createComponents()}},{key:"destroy",value:function(){Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this)}},{key:"_createLayer",value:function(){return new k.a({useDpr:!0,useBloomMapRenderer:!0})}},{key:"_createScene",value:function(){return new f.Scene}},{key:"_createCameraManager",value:function(){return new le.a({debugContainer:"About",type:"uiPerspective"})}},{key:"_createComponents",value:function(){return{}}},{key:"_createTextComponent",value:function(){var e=new Rt({config:this._config,debug:this._debug,data:Bt,configPath:"./webgl/configs/texts/test.js",camera:this._cameraManager.camera});return this._scene.add(e),e}},{key:"update",value:function(){}},{key:"render",value:function(){return this._layer.render(this._scene,this._cameraManager.camera)}},{key:"onWindowResize",value:function(e){var t=e.innerWidth,n=e.innerHeight;this._scene.position.x=-.5*t,this._scene.position.y=.5*n}},{key:"_createDebug",value:function(){if(w.a)return w.a.addGroup("UI",{container:"Debug"})}}]),n}(Object(d.a)());function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Zt=function(e){Object(h.a)(n,e);var t=Kt(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e.config,this._resourceManager=this._createResourceManager()}},{key:"destroy",value:function(){var e,t;Object(l.a)(Object(m.a)(n.prototype),"destroy",this).call(this),null===(e=this._3DScene)||void 0===e||e.destroy(),null===(t=this._UIScene)||void 0===t||t.destroy()}},{key:"show",value:function(){var e=this;this._resourceManager.load().then((function(){e._3DScene=e._create3DScene(),e._UIScene=e._createUIScene()}))}},{key:"hide",value:function(){}},{key:"_createResourceManager",value:function(){return new _.ResourceManager({namespace:"About"})}},{key:"_create3DScene",value:function(){return new Yt({config:this._config})}},{key:"_createUIScene",value:function(){return new Xt({config:this._config})}},{key:"update",value:function(e){var t,n,time=e.time,r=e.delta;null===(t=this._3DScene)||void 0===t||t.update({time:time,delta:r}),null===(n=this._UIScene)||void 0===n||n.update({time:time,delta:r})}},{key:"render3D",value:function(){var e;return null===(e=this._3DScene)||void 0===e?void 0:e.render()}},{key:"renderUI",value:function(){var e;return null===(e=this._UIScene)||void 0===e?void 0:e.render()}}]),n}(Object(d.a)()),ei={name:"Debug",slug:"debug",class:Zt,theme:{color1:"#00ccff",color2:"#500a8a"},renderer:{clearColor:"#000000"},postProcessing:{},resources:{preload:{development:!1,production:!1},items:[]},horizontalDragManager:{max:1}};t.a=[oe,Fe,ct,zt,At,$t,ei]},708:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return w}));n(8),n(13);var r=n(1),o=n(2),l=n(4),h=n(7),c=n(3),m=(n(22),n(51),n(0)),d=n(665),f=n(668),_={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new m.Color(0)},defaultOpacity:{value:0}},vertexShader:"\n\n        varying vec2 vUv;\n\n        void main() {\n\n            vUv = uv;\n\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n        }",fragmentShader:"\n\n        uniform sampler2D tDiffuse;\n        uniform vec3 defaultColor;\n        uniform float defaultOpacity;\n        uniform float luminosityThreshold;\n        uniform float smoothWidth;\n\n        varying vec2 vUv;\n\n        void main() {\n\n            vec4 texel = texture2D( tDiffuse, vUv );\n\n            vec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n            float v = dot( texel.xyz, luma );\n\n            vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n            float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n            gl_FragColor = mix( outputColor, texel, alpha );\n        }"},v="#define GLSLIFY 1\n// Name\n#define SHADER_NAME BloomOverrideMaterial\n\n// Attributes\nattribute vec3 position;\n#ifdef USE_INSTANCING\n    attribute mat4 instanceMatrix;\n#endif\n\n// Uniforms\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nvoid main() {\n    // Output\n    #if defined(USE_INSTANCING)\n        gl_Position = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(position, 1.0);\n    #else\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    #endif\n}\n",y="#define GLSLIFY 1\n// Name\n#define SHADER_NAME BloomOverrideMaterial\n\nvoid main() {\n    // Output\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n}\n";function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var k=new m.Vector2(1,0),x=new m.Vector2(0,1),O="SELECTIVE",w="LUMINOSITY",P="TEXTURE",z=function(e){Object(l.a)(n,e);var t=S(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)(this,n),(e=t.call(this))._type=o.type||w,e._strength=void 0!==o.strength?o.strength:1,e._radius=o.radius||.1,e._threshold=o.threshold||0,e._smoothWidth=o.smoothWidth||1,e._resolution=void 0!==o.resolution?new m.Vector2(o.resolution.x,o.resolution.y):new m.Vector2(256,256),e._texture=o.texture,e._camera=o.camera,e._scene=o.scene,e._dpr=o.dpr||1,e._clearColor=new m.Color(0,0,0),e._oldClearColor=new m.Color,e._oldClearAlpha=1,e._renderTargetBright=e._createRenderTargetBright(),e._renderTargetsBlur=e._createRenderTargetsBlur(),e._separableBlurMaterials=e._createSeparableBlurMaterials(),e._compositeMaterial=e._createCompositeMaterial(),e._materialCopy=e._createMaterialCopy(),e._basicMaterial=e._createBasicMaterial(),e._fullscreenQuad=e._createFullscreenQuad(),e._type===w&&(e._materialHighPassFilter=e._createMaterialHighPassFilter()),e._type===O&&(e._materialOverride=e._createMaterialOverride(),e._materialInstanceOverride=e._createMaterialIntanceOverride()),e._type===P&&(e._materialTexture=e._createMaterialTexture()),e.enabled=!0,e.needsSwap=!1,e}return Object(o.a)(n,[{key:"dispose",value:function(){for(var i=0;i<this.horizontal.length;i++)this._renderTargetsBlur.horizontal[i].dispose();for(var e=0;e<this.vertical.length;e++)this._renderTargetsBlur.vertical[e].dispose();this._renderTargetBright.dispose()}},{key:"strength",get:function(){return this._strength},set:function(e){this._strength=e}},{key:"radius",get:function(){return this._radius},set:function(e){this._radius=e}},{key:"threshold",get:function(){return this._threshold},set:function(e){this._threshold=e}},{key:"smoothWidth",get:function(){return this._smoothWidth},set:function(e){this._smoothWidth=e}},{key:"renderTargetBright",get:function(){return this._renderTargetBright}},{key:"renderTargetsBlur",get:function(){return this._renderTargetsBlur}},{key:"camera",get:function(){return this._camera},set:function(e){this._camera=e}},{key:"scene",get:function(){return this._scene},set:function(e){this._scene=e}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e}},{key:"_createRenderTargetBright",value:function(){var e=new m.WebGLRenderTarget(0,0);return e.texture.name="CustomUnrealBloomPass.bright",e.texture.minFilter=m.LinearFilter,e.texture.magFilter=m.LinearFilter,e.texture.format=m.RGBAFormat,e.texture.generateMipmaps=!1,e}},{key:"_createRenderTargetsBlur",value:function(){for(var e=[],t=[],n={minFilter:m.LinearFilter,magFilter:m.LinearFilter,format:m.RGBAFormat},i=0;i<5;i++){var r=new m.WebGLRenderTarget(0,0,n);r.texture.name="CustomUnrealBloomPass.h"+i,r.texture.generateMipmaps=!1,e.push(r);var o=new m.WebGLRenderTarget(0,0,n);o.texture.name="CustomUnrealBloomPass.v"+i,o.texture.generateMipmaps=!1,t.push(o)}return{horizontal:e,vertical:t}}},{key:"_createMaterialHighPassFilter",value:function(){void 0===_&&console.error("THREE.CustomUnrealBloomPass relies on LuminosityHighPassShader");var e=m.UniformsUtils.clone(_.uniforms);return e.luminosityThreshold.value=this._threshold,e.smoothWidth.value=this._smoothWidth,new m.ShaderMaterial({uniforms:e,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader})}},{key:"_createSeparableBlurMaterials",value:function(){for(var e=[],t=[3,5,7,9,11],i=0;i<5;i++){var n=t[i],r=new m.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"#define GLSLIFY 1\n#include <common>\n\nvarying vec2 vUv;\nuniform sampler2D colorTexture;\nuniform vec2 texSize;\nuniform vec2 direction;\n\nfloat gaussianPdf(in float x, in float sigma) {\n    return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n}\n\nvoid main() {\n    vec2 invSize = 1.0 / texSize;\n    float fSigma = float(SIGMA);\n    float weightSum = gaussianPdf(0.0, fSigma);\n    vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n    float alphaSum = 0.0;\n    for( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n        float x = float(i);\n        float w = gaussianPdf(x, fSigma);\n        vec2 uvOffset = direction * invSize * x;\n        vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\n        vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\n        diffuseSum += (sample1.rgb + sample2.rgb) * w;\n        alphaSum += (sample1.a + sample2.a) * w;\n        weightSum += 2.0 * w;\n    }\n\n    gl_FragColor = vec4(diffuseSum / weightSum, 1.0);\n}\n",uniforms:{colorTexture:{value:null},texSize:{value:new m.Vector2(.5,.5)},direction:{value:new m.Vector2(.5,.5)}},defines:{KERNEL_RADIUS:n,SIGMA:n}});e.push(r)}return e}},{key:"_createCompositeMaterial",value:function(){var e=new m.ShaderMaterial({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D blurTexture1;\nuniform sampler2D blurTexture2;\nuniform sampler2D blurTexture3;\nuniform sampler2D blurTexture4;\nuniform sampler2D blurTexture5;\nuniform float bloomStrength;\nuniform float bloomRadius;\nuniform float bloomFactors[NUM_MIPS];\nuniform vec3 bloomTintColors[NUM_MIPS];\n\nfloat lerpBloomFactor(const in float factor) {\n    float mirrorFactor = 1.2 - factor;\n    return mix(factor, mirrorFactor, bloomRadius);\n}\n\nvoid main() {\n    gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n        lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n        lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n        lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n        lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n}\n",uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},defines:{NUM_MIPS:5}});e.uniforms.blurTexture1.value=this._renderTargetsBlur.vertical[0].texture,e.uniforms.blurTexture2.value=this._renderTargetsBlur.vertical[1].texture,e.uniforms.blurTexture3.value=this._renderTargetsBlur.vertical[2].texture,e.uniforms.blurTexture4.value=this._renderTargetsBlur.vertical[3].texture,e.uniforms.blurTexture5.value=this._renderTargetsBlur.vertical[4].texture,e.uniforms.bloomStrength.value=this._strength,e.uniforms.bloomRadius.value=this._radius,e.needsUpdate=!0;e.uniforms.bloomFactors.value=[1,.8,.6,.4,.2];var t=[new m.Vector3(1,1,1),new m.Vector3(1,1,1),new m.Vector3(1,1,1),new m.Vector3(1,1,1),new m.Vector3(1,1,1)];return e.uniforms.bloomTintColors.value=t,e}},{key:"_createMaterialCopy",value:function(){void 0===f.a&&console.error("THREE.CustomUnrealBloomPass relies on CopyShader");var e=m.UniformsUtils.clone(f.a.uniforms);return e.opacity.value=1,new m.ShaderMaterial({uniforms:e,vertexShader:f.a.vertexShader,fragmentShader:f.a.fragmentShader,blending:m.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0})}},{key:"_createBasicMaterial",value:function(){return new m.MeshBasicMaterial}},{key:"_createFullscreenQuad",value:function(){return new d.a(null)}},{key:"_createMaterialOverride",value:function(){return new m.RawShaderMaterial({vertexShader:v,fragmentShader:y})}},{key:"_createMaterialIntanceOverride",value:function(){return new m.RawShaderMaterial({vertexShader:v,fragmentShader:y,defines:{USE_INSTANCING:""}})}},{key:"_createMaterialTexture",value:function(){return new m.ShaderMaterial({uniforms:{uTexture:{value:this._texture}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n    vUv = uv;\n}\n",fragmentShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nuniform sampler2D uTexture;\n\nvoid main() {\n    vec4 color = texture2D(uTexture, vUv);\n    gl_FragColor = color;\n}\n"})}},{key:"render",value:function(e,t,n,r,o){e.getClearColor(this._oldClearColor),this._oldClearAlpha=e.getClearAlpha();var l=e.autoClear;e.autoClear=!1,e.setClearColor(this._clearColor,0),o&&e.state.buffers.stencil.setTest(!1),this._renderInput(e,n),this._type===w&&this._renderBright(e,n),this._type===O&&this._renderSelective(e),this._type===P&&this._renderTexture(e),this._renderBlur(e),this._renderComposite(e),this._renderOutput(e,n,o),e.setClearColor(this._oldClearColor,this._oldClearAlpha),e.autoClear=l}},{key:"_renderInput",value:function(e,t){this.renderToScreen&&(this._fullscreenQuad.material=this._basicMaterial,this._basicMaterial.map=t.texture,e.setRenderTarget(null),this._fullscreenQuad.render(e))}},{key:"_renderBright",value:function(e,t){this._materialHighPassFilter.uniforms.tDiffuse.value=t.texture,this._materialHighPassFilter.uniforms.luminosityThreshold.value=this._threshold,this._materialHighPassFilter.uniforms.smoothWidth.value=this._smoothWidth,this._fullscreenQuad.material=this._materialHighPassFilter,e.setRenderTarget(this._renderTargetBright),e.setScissor(0,0,this._width/this._dpr,this._height/this._dpr),e.setScissor(this._renderTargetBright.scissor),this._fullscreenQuad.render(e)}},{key:"_renderSelective",value:function(e){var t=this;e.setRenderTarget(this._renderTargetBright),e.setScissor(0,0,this._width/this._dpr,this._height/this._dpr),e.setScissor(this._renderTargetBright.scissor),this._scene.traverse((function(object){"Mesh"!==object.type&&"SkinnedMesh"!==object.type&&"Points"!==object.type||(object.userData&&void 0!==object.userData.renderBloom&&object.visible?(object.userData.originalVisibilityState=object.visible,object.visible=object.userData.renderBloom,object.userData.bloomMaterial&&(object.userData.originalMaterial=object.material,object.material=object.userData.bloomMaterial)):object.visible&&(object.userData.material=object.material,object.userData.originalVisibilityState=!0,object.instanceMatrix?object.material=t._materialInstanceOverride:object.material=t._materialOverride,object.userData.invisibleForBloom=!0))})),e.render(this._scene,this._camera),this._scene.traverse((function(object){object.userData&&(object.userData.originalVisibilityState&&(object.visible=object.userData.originalVisibilityState,object.userData.originalVisibilityState=null),object.userData.invisibleForBloom&&(object.material=object.userData.material,object.userData.invisibleForBloom=!1),object.userData.bloomMaterial&&(object.material=object.userData.originalMaterial))}))}},{key:"_renderTexture",value:function(e){this._fullscreenQuad.material=this._materialTexture,e.setRenderTarget(this._renderTargetBright),e.setScissor(0,0,this._width/this._dpr,this._height/this._dpr),e.setScissor(this._renderTargetBright.scissor),this._fullscreenQuad.render(e)}},{key:"_renderBlur",value:function(e){for(var t=this._renderTargetBright,i=0;i<5;i++)this._fullscreenQuad.material=this._separableBlurMaterials[i],this._separableBlurMaterials[i].uniforms.colorTexture.value=t.texture,this._separableBlurMaterials[i].uniforms.direction.value=k,e.setRenderTarget(this._renderTargetsBlur.horizontal[i]),e.setScissor(0,0,this._width/this._dpr,this._height/this._dpr),e.setScissor(this._renderTargetsBlur.horizontal[i].scissor),this._fullscreenQuad.render(e),this._separableBlurMaterials[i].uniforms.colorTexture.value=this._renderTargetsBlur.horizontal[i].texture,this._separableBlurMaterials[i].uniforms.direction.value=x,e.setRenderTarget(this._renderTargetsBlur.vertical[i]),e.setScissor(0,0,this._width/this._dpr,this._height/this._dpr),e.setScissor(this._renderTargetsBlur.vertical[i].scissor),this._fullscreenQuad.render(e),t=this._renderTargetsBlur.vertical[i]}},{key:"_renderComposite",value:function(e){this._fullscreenQuad.material=this._compositeMaterial,this._compositeMaterial.uniforms.bloomStrength.value=this._strength,this._compositeMaterial.uniforms.bloomRadius.value=this._radius,e.setRenderTarget(this._renderTargetsBlur.horizontal[0]),e.setScissor(0,0,this._width/this._dpr,this._height/this._dpr),e.setScissor(this._renderTargetsBlur.horizontal[0].scissor),this._fullscreenQuad.render(e)}},{key:"_renderOutput",value:function(e,t,n){this._fullscreenQuad.material=this._materialCopy,this._materialCopy.uniforms.tDiffuse.value=this._renderTargetsBlur.horizontal[0].texture,n&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this._fullscreenQuad.render(e)):(e.setRenderTarget(t),this._fullscreenQuad.render(e))}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=Math.round(.4*e),r=Math.round(.4*t);this._renderTargetBright.setSize(n,r);for(var i=0;i<5;i++)this._renderTargetsBlur.horizontal[i].setSize(n,r),this._renderTargetsBlur.vertical[i].setSize(n,r),this._separableBlurMaterials[i].uniforms.texSize.value=new m.Vector2(n,r),n=Math.round(n/2),r=Math.round(r/2)}}]),n}(d.b)}}]);